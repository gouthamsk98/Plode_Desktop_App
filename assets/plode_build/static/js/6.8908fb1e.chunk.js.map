{"version":3,"sources":["Components/FirmwareJS/targets/esp32s2.js"],"names":["ESP32S2ROM","_d2h","d","h","toString","length","_class","CHIP_NAME","IMAGE_CHIP_ID","MAC_EFUSE_REG","EFUSE_BASE","UART_CLKDIV_REG","UART_CLKDIV_MASK","UART_DATE_REG_ADDR","FLASH_WRITE_SIZE","BOOTLOADER_FLASH_OFFSET","FLASH_SIZES","SPI_REG_BASE","SPI_USR_OFFS","SPI_USR1_OFFS","SPI_USR2_OFFS","SPI_W0_OFFS","SPI_MOSI_DLEN_OFFS","SPI_MISO_DLEN_OFFS","TEXT_START","ENTRY","DATA_START","ROM_DATA","ROM_TEXT","get_pkg_version","async","addr","loader","read_reg","get_chip_description","pkg_ver","get_chip_features","features","push","get_crystal_freq","read_mac","mac0","mac1","mac","Uint8Array","get_erase_size","offset","size"],"mappings":"oKAAe,MAAMA,EAiJnB,WAAOC,CAAKC,GACV,IAAIC,IAAMD,GAAGE,SAAS,IACtB,OAAoB,IAAbD,EAAEE,OAAe,IAAMF,EAAIA,CACpC,EAgCDG,EApLoBN,IACZO,UAAY,WADAP,EAEZQ,cAAgB,EAFJR,EAGZS,cAAgB,WAHJT,EAIZU,WAAa,WAJDV,EAKZW,gBAAkB,WALNX,EAMZY,iBAAmB,QANPZ,EAOZa,mBAAqB,WAPTb,EASZc,iBAAmB,KATPd,EAUZe,wBAA0B,KAVdf,EAYZgB,YAAc,CACnB,MAAO,EACP,MAAO,GACP,MAAO,GACP,MAAO,GACP,OAAQ,IAjBShB,EAoBZiB,aAAe,WApBHjB,EAqBZkB,aAAe,GArBHlB,EAsBZmB,cAAgB,GAtBJnB,EAuBZoB,cAAgB,GAvBJpB,EAwBZqB,YAAc,GAxBFrB,EAyBZsB,mBAAqB,GAzBTtB,EA0BZuB,mBAAqB,GA1BTvB,EA4BZwB,WAAa,WA5BDxB,EA6BZyB,MAAQ,WA7BIzB,EA8BZ0B,WAAa,WA9BD1B,EA+BZ2B,SAAW,WA/BC3B,EAgCZ4B,SACL,2vIAjCiB5B,EAuGZ6B,gBAAkBC,UACvB,IAEIC,EADczB,EAAKI,WAAa,GACX,GAGzB,aAFkBsB,EAAOC,SAAS,CAAEF,KAAMA,KACd,GAAM,EAChB,EA7GD/B,EAgHZkC,qBAAuBJ,UAC5B,IACIK,QAAgB7B,EAAKuB,gBAAgBG,GACzC,OAAIG,GAAW,GAAKA,GAAW,EAFf,CAAC,WAAY,eAAgB,gBAG1BA,GAEV,kBACT,EAvHiBnC,EA0HZoC,kBAAoBN,UACzB,IAAIO,EAAW,CAAC,SACZF,QAAgB7B,EAAKuB,gBAAgBG,GAC1B,GAAXG,EACFE,EAASC,KAAK,sBACM,GAAXH,GACTE,EAASC,KAAK,sBAEhB,IAEIP,EADczB,EAAKI,WAAa,GACX,GAOzB,OAHkB,UAHAsB,EAAOC,SAAS,CAAEF,KAAMA,KACf,EAAK,IAG9BM,EAASC,KAAK,2DAETD,CAAQ,EA3IErC,EA8IZuC,iBAAmBT,SACjB,GA/IU9B,EAqJZwC,SAAWV,UAChB,IAAIW,QAAaT,EAAOC,SAAS,CAAEF,KAAMzB,EAAKG,gBAC9CgC,KAAgB,EAChB,IAAIC,QAAaV,EAAOC,SAAS,CAAEF,KAAMzB,EAAKG,cAAgB,IAC9DiC,EAAQA,IAAS,EAAK,MACtB,IAAIC,EAAM,IAAIC,WAAW,GAQzB,OAPAD,EAAI,GAAMD,GAAQ,EAAK,IACvBC,EAAI,GAAY,IAAPD,EACTC,EAAI,GAAMF,GAAQ,GAAM,IACxBE,EAAI,GAAMF,GAAQ,GAAM,IACxBE,EAAI,GAAMF,GAAQ,EAAK,IACvBE,EAAI,GAAY,IAAPF,EAGPnC,EAAKL,KAAK0C,EAAI,IACd,IACArC,EAAKL,KAAK0C,EAAI,IACd,IACArC,EAAKL,KAAK0C,EAAI,IACd,IACArC,EAAKL,KAAK0C,EAAI,IACd,IACArC,EAAKL,KAAK0C,EAAI,IACd,IACArC,EAAKL,KAAK0C,EAAI,GAAG,EA7KF3C,EAiLZ6C,eAAiB,SAAUC,EAAQC,GACxC,OAAOA,CACT,C","file":"static/js/6.8908fb1e.chunk.js","sourcesContent":["export default class ESP32S2ROM {\n  static CHIP_NAME = \"ESP32-S2\";\n  static IMAGE_CHIP_ID = 2;\n  static MAC_EFUSE_REG = 0x3f41a044;\n  static EFUSE_BASE = 0x3f41a000;\n  static UART_CLKDIV_REG = 0x3f400014;\n  static UART_CLKDIV_MASK = 0xfffff;\n  static UART_DATE_REG_ADDR = 0x60000078;\n\n  static FLASH_WRITE_SIZE = 0x400;\n  static BOOTLOADER_FLASH_OFFSET = 0x1000;\n\n  static FLASH_SIZES = {\n    \"1MB\": 0x00,\n    \"2MB\": 0x10,\n    \"4MB\": 0x20,\n    \"8MB\": 0x30,\n    \"16MB\": 0x40,\n  };\n\n  static SPI_REG_BASE = 0x3f402000;\n  static SPI_USR_OFFS = 0x18;\n  static SPI_USR1_OFFS = 0x1c;\n  static SPI_USR2_OFFS = 0x20;\n  static SPI_W0_OFFS = 0x58;\n  static SPI_MOSI_DLEN_OFFS = 0x24;\n  static SPI_MISO_DLEN_OFFS = 0x28;\n\n  static TEXT_START = 0x40028000;\n  static ENTRY = 0x4002873c;\n  static DATA_START = 0x3ffe2bf4;\n  static ROM_DATA = \"CAD9Pw==\";\n  static ROM_TEXT =\n    \"\" +\n    \"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\";\n\n  static get_pkg_version = async (loader) => {\n    var num_word = 3;\n    var block1_addr = this.EFUSE_BASE + 0x044;\n    var addr = block1_addr + 4 * num_word;\n    var word3 = await loader.read_reg({ addr: addr });\n    var pkg_version = (word3 >> 21) & 0x0f;\n    return pkg_version;\n  };\n\n  static get_chip_description = async (loader) => {\n    var chip_desc = [\"ESP32-S2\", \"ESP32-S2FH16\", \"ESP32-S2FH32\"];\n    var pkg_ver = await this.get_pkg_version(loader);\n    if (pkg_ver >= 0 && pkg_ver <= 2) {\n      return chip_desc[pkg_ver];\n    } else {\n      return \"unknown ESP32-S2\";\n    }\n  };\n\n  static get_chip_features = async (loader) => {\n    var features = [\"Wi-Fi\"];\n    var pkg_ver = await this.get_pkg_version(loader);\n    if (pkg_ver == 1) {\n      features.push(\"Embedded 2MB Flash\");\n    } else if (pkg_ver == 2) {\n      features.push(\"Embedded 4MB Flash\");\n    }\n    var num_word = 4;\n    var block2_addr = this.EFUSE_BASE + 0x05c;\n    var addr = block2_addr + 4 * num_word;\n    var word4 = await loader.read_reg({ addr: addr });\n    var block2_ver = (word4 >> 4) & 0x07;\n\n    if (block2_ver == 1) {\n      features.push(\"ADC and temperature sensor calibration in BLK2 of efuse\");\n    }\n    return features;\n  };\n\n  static get_crystal_freq = async (loader) => {\n    return 40;\n  };\n  static _d2h(d) {\n    var h = (+d).toString(16);\n    return h.length === 1 ? \"0\" + h : h;\n  }\n  static read_mac = async (loader) => {\n    var mac0 = await loader.read_reg({ addr: this.MAC_EFUSE_REG });\n    mac0 = mac0 >>> 0;\n    var mac1 = await loader.read_reg({ addr: this.MAC_EFUSE_REG + 4 });\n    mac1 = (mac1 >>> 0) & 0x0000ffff;\n    var mac = new Uint8Array(6);\n    mac[0] = (mac1 >> 8) & 0xff;\n    mac[1] = mac1 & 0xff;\n    mac[2] = (mac0 >> 24) & 0xff;\n    mac[3] = (mac0 >> 16) & 0xff;\n    mac[4] = (mac0 >> 8) & 0xff;\n    mac[5] = mac0 & 0xff;\n\n    return (\n      this._d2h(mac[0]) +\n      \":\" +\n      this._d2h(mac[1]) +\n      \":\" +\n      this._d2h(mac[2]) +\n      \":\" +\n      this._d2h(mac[3]) +\n      \":\" +\n      this._d2h(mac[4]) +\n      \":\" +\n      this._d2h(mac[5])\n    );\n  };\n\n  static get_erase_size = function (offset, size) {\n    return size;\n  };\n}\n"],"sourceRoot":""}