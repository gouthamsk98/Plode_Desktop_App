/*! For license information please see main.5edf1f02.js.LICENSE.txt */
(()=>{var __webpack_modules__={8756:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});i(2791);var r=i(129),n=i(6690),s=i(184);const o=e=>{let{toggleDropDown:t,registerRef:i,getSampleCode:o,scrollIndicator:a}=e;const l=i("sampleRef"),c=i("droDownInner"),h=i("inputRef1"),u=i("outputRef1"),d=i("inbuiltRef1"),f=i("externalRef1"),p=i("outputExternalRef1"),m=i("mainRef1"),g=i("inputRef2"),v=i("outputRef2"),_=i("outputInbuiltRef1"),b=i("inbuiltRef2"),y=i("outputInbuiltRef2"),O=i("externalRef2"),w=i("outputExternalRef2"),S=i("mainRef2"),x=r.Kf.PEECEE_dropdown_menu.input.menu.inbuild.menu,k=r.Kf.PEECEE_dropdown_menu.input.menu.external.menu,C=r.Kf.PEECEE_dropdown_menu.output.menu.inbuild.menu,E=r.Kf.PEECEE_dropdown_menu.output.menu.external.menu,T=r.Kf.ZING_dropdown_menu.input.menu.inbuild.menu,A=r.Kf.ZING_dropdown_menu.input.menu.external.menu,P=r.Kf.ZING_dropdown_menu.output.menu.inbuild.menu,R=r.Kf.ZING_dropdown_menu.output.menu.external.menu;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"dropdownContent outside",id:"droDown_outer",ref:l,children:[(0,s.jsx)("div",{className:"arrow"}),(0,s.jsxs)("div",{className:"droDown_inner",id:"droDown_inner",onScroll:e=>{return(t=e).currentTarget.scrollTop,a.current.style.display="block",void(t.currentTarget.scrollHeight<=Math.ceil(t.currentTarget.scrollTop)+t.currentTarget.clientHeight&&(a.current.style.display="none"));var t},style:{overflowY:"scroll"},ref:c,children:[(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"mainRef1"),children:[(0,s.jsx)("button",{className:"dropbtn",children:"PeeCee"}),(0,s.jsxs)("div",{className:"dropdownContent",ref:m,children:[(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"inputRef1"),children:[(0,s.jsx)("button",{className:"dropbtn margin",children:"Input"}),(0,s.jsxs)("div",{ref:h,className:"dropdownContent",children:[(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"inbuiltRef1"),children:[(0,s.jsx)("button",{className:"dropbtn",style:{marginLeft:"40px",fontFamily:"Halcyon Regular"},children:"Inbuilt"}),(0,s.jsx)("div",{ref:d,className:"dropdownContent",children:Object.keys(x).map((e=>(0,s.jsx)("a",{href:"#"+e,onClick:t=>{o(t,e,"peecee")},children:x[e].label},e)))})]}),(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"externalRef1"),children:[(0,s.jsx)("button",{className:"dropbtn",style:{marginLeft:"40px"},children:"External"}),(0,s.jsx)("div",{ref:f,className:"dropdownContent",children:Object.keys(k).map((e=>(0,s.jsx)("a",{href:"#"+e,onClick:t=>{o(t,e,"peecee")},children:k[e].label},e)))})]})]})]}),(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"outputRef1"),children:[(0,s.jsx)("button",{className:"dropbtn margin",children:"Output"}),(0,s.jsxs)("div",{ref:u,className:"dropdownContent",children:[(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"outputInbuiltRef1"),children:[(0,s.jsx)("button",{className:"dropbtn j",style:{marginLeft:"40px"},children:"Inbuilt"}),(0,s.jsx)("div",{ref:_,className:"dropdownContent",children:Object.keys(C).map((e=>(0,s.jsx)("a",{href:"#"+e,onClick:t=>{o(t,e,"peeCee")},children:C[e].label},e)))})]}),(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"outputExternalRef1"),children:[(0,s.jsx)("button",{className:"dropbtn j",style:{marginLeft:"40px"},children:"External"}),(0,s.jsx)("div",{ref:p,className:"dropdownContent",children:Object.keys(E).map((e=>(0,s.jsx)("a",{href:"#"+e,onClick:t=>{o(t,e,"peeCee")},children:E[e].label},e)))})]})]})]})]})]}),(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"mainRef2"),children:[(0,s.jsx)("button",{className:"dropbtn",children:"Humanoid"}),(0,s.jsxs)("div",{className:"dropdownContent",ref:S,children:[(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"inputRef2"),children:[(0,s.jsx)("button",{className:"dropbtn margin",children:"Input"}),(0,s.jsxs)("div",{ref:g,className:"dropdownContent",children:[(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"inbuiltRef2"),children:[(0,s.jsx)("button",{className:"dropbtn",style:{marginLeft:"40px"},children:"Inbuilt"}),(0,s.jsx)("div",{ref:b,className:"dropdownContent",children:Object.keys(T).map((e=>(0,s.jsx)("a",{href:"#zing_"+e,onClick:t=>{o(t,e,"zing")},children:T[e].label},e)))})]}),(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"externalRef2"),children:[(0,s.jsx)("button",{className:"dropbtn",style:{marginLeft:"40px"},children:"External"}),(0,s.jsx)("div",{ref:O,className:"dropdownContent",children:Object.keys(A).map((e=>(0,s.jsx)("a",{href:"#zing_"+e,onClick:t=>{o(t,e,"zing")},children:A[e].label},e)))})]})]})]}),(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"outputRef2"),children:[(0,s.jsx)("button",{className:"dropbtn margin",children:"Output"}),(0,s.jsxs)("div",{ref:v,className:"dropdownContent",children:[(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"outputInbuiltRef2"),children:[(0,s.jsx)("button",{className:"dropbtn",style:{marginLeft:"40px"},children:"Inbuilt"}),(0,s.jsx)("div",{ref:y,className:"dropdownContent",children:Object.keys(P).map((e=>(0,s.jsx)("a",{href:"#zing_"+e,onClick:t=>{o(t,e,"zing")},children:P[e].label},e)))})]}),(0,s.jsxs)("div",{className:"dropdown",onClick:e=>t(e,"outputExternalRef2"),children:[(0,s.jsx)("button",{className:"dropbtn",style:{marginLeft:"40px"},children:"External"}),(0,s.jsx)("div",{ref:w,className:"dropdownContent",children:Object.keys(R).map((e=>(0,s.jsx)("a",{href:"#zing_"+e,onClick:t=>{o(t,e,"zing")},children:R[e].label},e)))})]})]})]})]})]})]}),(0,s.jsx)("div",{className:"scroll-indicator",id:"scrollIndicator",ref:a,children:(0,s.jsx)("img",{style:{width:"30px"},src:(0,n.Z)("downIcon")})})]})})}},946:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(4164),n=i(184);document.getElementById("eras-modal-root");const s=function(e){let{setNo:t,setYes:i}=e;return(0,r.createPortal)((0,n.jsx)("div",{className:"erasePopupMain",style:{},children:(0,n.jsxs)("div",{className:"erasePopupBox",children:[(0,n.jsx)("div",{className:"erasePopupText",children:"All Unsaved program will be Erased. Are you sure want to continue ?"}),(0,n.jsxs)("div",{className:"btnGroup",children:[(0,n.jsx)("button",{className:"erasePopupBtn",onClick:()=>i(),children:"YES"}),(0,n.jsx)("button",{className:"erasePopupBtn",onClick:()=>t(),children:"NO"})]})]})}),document.body)}},5725:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2791),_Footer_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1636),_RenderImage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6690),_ShareData__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6695),_ErasingPopup__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(946),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(184);const html=document.getElementsByTagName("html")[0];function Footer(){const{code:code,setCode:setCode,usb:usb,setUsb:setUsb,refreshByte:refreshByte,setRefreshByte:setRefreshByte,worker:worker,messages:messages,setMessages:setMessages,setIsOverlayVisible:setIsOverlayVisible,consoleRef:consoleRef,setIsStopProgram:setIsStopProgram,device:device,feedback:feedback,setFeedback:setFeedback,isDisabled:isDisabled,workSpaceFile:workSpaceFile,sidebar_filesName:sidebar_filesName,isProjectRun:isProjectRun,setIsProjectRun:setIsProjectRun,setIsLodarShow:setIsLodarShow,setSidebar_FilesName:setSidebar_FilesName,setWorkSpaceFile:setWorkSpaceFile,setSubHeader_filesName:setSubHeader_filesName,setProjectName:setProjectName,isChange:isChange}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_ShareData__WEBPACK_IMPORTED_MODULE_3__.Z),[uploadButton,setUploadButton]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[isUploading,setIsUploading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[showErasPopup,setShowErasPopup]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[zingEditar,setZingEditar]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(JSON.parse(sessionStorage.getItem("zingEditar"))||{subHeader_filesName:[],sidebar_filesName:{},workSpaceFile:{},projectName:"Untitled"});let microPythonFirmware;try{microPythonFirmware=JSON.parse(sessionStorage.getItem("microPython")||"true")}catch{microPythonFirmware=!0}const checkForDisplay=e=>{messages.includes("Traceback")?setMessages("Error: "+e.trim()):setMessages((t=>e.trim())),setIsUploading(!1)},fileExplorerCode=async()=>{let e=JSON.parse(sessionStorage.getItem("zingEditar"))||{subHeader_filesName:[],sidebar_filesName:{},workSpaceFile:{},projectName:"Untitled"},t=e.workSpaceFile.code,i=e.sidebar_filesName,r=[];if(isProjectRun){Object.keys(i).map((async e=>{let t=i[e].filename,n=i[e].code;n=n.replace(/"/g,"'");let s=[...'f = open("'.concat(t,'", "wb")\nf.write("')].map((e=>e.charCodeAt(0))),o=[...'")\nf.close()\n'].map((e=>e.charCodeAt(0))),a=[...n].map((e=>e.charCodeAt(0))),l=[];for(let i=0;i<a.length;i++)10===a[i]&&l.push(i);for(let i=l.length-1;i>=0;i--)a.splice(l[i],1,92,110);r=[...r,...s,...a,...o]}));{let e=[..."import machine\nmachine.reset()"].map((e=>e.charCodeAt(0)));worker.postMessage({type:"writeArray",value:[3]}),await new Promise((e=>setTimeout(e,500))),worker.postMessage({type:"writeArray",value:[1,...r,...e,4,2]}),await new Promise((e=>setTimeout(e,2e3)))}}else{let e='")\nf.close()\n',i=[...'f = open("'.concat("main.py",'", "wb")\nf.write("')].map((e=>e.charCodeAt(0))),r=[...e].map((e=>e.charCodeAt(0))),n="".concat(t);n=n.replace(/"/g,"'");let s=[...n].map((e=>e.charCodeAt(0))),o=[];for(let t=0;t<s.length;t++)10===s[t]&&o.push(t);for(let t=o.length-1;t>=0;t--)s.splice(o[t],1,92,110);let a=[...i,...s,...r],l=[..."import machine\nmachine.reset()"].map((e=>e.charCodeAt(0)));worker.postMessage({type:"writeArray",value:[3]}),await new Promise((e=>setTimeout(e,300))),worker.postMessage({type:"writeArray",value:[1,...a,...l,4,2]}),await new Promise((e=>setTimeout(e,1500)))}setRefreshByte(!0),setIsUploading(!1),setIsLodarShow(!1)},sendCodeForZing=e=>{let t=[..."".concat(e)].map((e=>e.charCodeAt(0))).map((e=>10===e?13:e));t.push(13),t.push(13),t.push(4),t.push(2),t.unshift(3),t.unshift(1),refreshByte?(worker.postMessage({type:"writeArray",value:t}),setIsUploading(!1),setIsLodarShow(!1)):(worker.postMessage({type:"writeArray",value:t}),setIsUploading(!1),setIsLodarShow(!1),setRefreshByte(!0))},sendCodeForPeeCee=e=>{let t=[..."MPY{".concat(e,"}")].map((e=>e.charCodeAt(0)));refreshByte?(worker.postMessage({type:"write",value:"MPX"}),setTimeout((()=>{setIsUploading(!1),setIsLodarShow(!1),worker.postMessage({type:"writeArray",value:t})}),3e3)):(worker.postMessage({type:"writeArray",value:t}),setIsUploading(!1),setIsLodarShow(!1),setRefreshByte(!0))},getProject=async()=>{await new Promise((e=>setTimeout(e,2e3)));let fileArr=[],newSidebar_filesName={},removeFileCommend="import os\rprint(os.listdir())\r",asciRemoveFileCommend=[...removeFileCommend].map((e=>e.charCodeAt(0)));worker.postMessage({type:"getFiles",value:[3,...asciRemoveFileCommend]}),worker.onmessage=async e=>{"getFileRead"===e.data.type&&(fileArr=eval(e.data.value),fileArr.map(((e,t)=>{"boot.py"===e&&fileArr.splice(t,1)})),fileArr.map((async e=>{let t=[...'import os\ros.remove("'.concat(e,'")\r')].map((e=>e.charCodeAt(0)));worker.postMessage({type:"ignoreConsolePrint",value:[3,...t]})})),await new Promise((e=>setTimeout(e,1e3))))},await new Promise((e=>setTimeout(e,7e3)))},upload=async()=>{if(!isUploading&&!isDisabled&&microPythonFirmware){if(!device)return setIsUploading(!1),void setIsLodarShow(!1);JSON.parse(sessionStorage.getItem("windowFocus"))||sessionStorage.setItem("windowFocus",!0),setIsLodarShow(!0),setIsOverlayVisible(!0),setIsUploading(!0),await getProject(),fileExplorerCode()}},reset=e=>{setCode(""),sessionStorage.setItem("code",JSON.stringify(""))},backUrl=()=>{var e=new URL(window.location.href);e.searchParams.get("from");console.log("JJJJJJJJJJJ",e),e.host.includes("localhost:")?window.location.href="".concat(e.origin,"/#/code").replace("/micropython",""):window.location.href="https://plode.org/code"},erasData=()=>{let e=[],t={"main.py":{code:"",filename:"main.py"}},i={};setProjectName("Untitled"),setSidebar_FilesName(t),setSubHeader_filesName(e),setWorkSpaceFile(i)},setYes=()=>{erasData(),setShowErasPopup(!1),backUrl()},back=()=>{isChange?setShowErasPopup(!0):(erasData(),backUrl())};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:[showErasPopup&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ErasingPopup__WEBPACK_IMPORTED_MODULE_4__.Z,{setNo:()=>setShowErasPopup(!1),setYes:setYes}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("img",{id:"back",className:"back",src:(0,_RenderImage__WEBPACK_IMPORTED_MODULE_2__.Z)("back"),alt:"back",draggable:"false",onClick:back})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"feedback",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:[feedback||usb?"":"Please connect the device !",feedback||""]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{style:{opacity:"".concat(isUploading||isDisabled?.3:1)},children:[" ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("img",{id:"upload",className:"upload",style:{display:uploadButton,opacity:microPythonFirmware?"1":"0.5",cursor:microPythonFirmware?"pointer":"default"},src:(0,_RenderImage__WEBPACK_IMPORTED_MODULE_2__.Z)("upload"),alt:"upload",draggable:"false",onClick:upload})]})]})}const __WEBPACK_DEFAULT_EXPORT__=Footer},7233:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var r=i(6049),n=i(6690),s=i(129),o=i(2791),a=i(8595),l=i(1950),c=i(6695),h=i(184);const u=function(e){let{setShowExamplePopUp:t}=e;const{sidebar_filesName:i,setSidebar_FilesName:u,setSubHeader_filesName:d,subHeader_filesName:f,setWorkSpaceFile:p,isNewUi:m}=(0,o.useContext)(c.Z),g=new URLSearchParams(window.location.search),v=["peeCee","zing","crawlee","klaw","moki"].includes(g.get("device"))?g.get("device"):"peeCee",[_,b]=(0,o.useState)(!1),[y,O]=(0,o.useState)(""),[w,S]=(0,o.useState)(""),[x,k]=(0,o.useState)(!1),[C,E]=(0,o.useState)(""),[T,A]=(0,o.useState)(!1),P=s.Kf["".concat(v.toUpperCase(),"_dropdown_menu")].input.menu.inbuild.menu,R=s.Kf["".concat(v.toUpperCase(),"_dropdown_menu")].input.menu.external.menu,D=s.Kf["".concat(v.toUpperCase(),"_dropdown_menu")].output.menu.inbuild.menu,M=s.Kf["".concat(v.toUpperCase(),"_dropdown_menu")].output.menu.external.menu,L=(e,t)=>{let i="";"zing"===v?i=s.Y9[t]:"peeCee"===v?i=s.Cx[t]:"crawlee"===v?i=s.Cs[t]:"klaw"===v?i=s.Ti[t]:"moki"===v&&(i=s.aJ[t]),O(i),S(t)};return(0,h.jsx)("div",{className:r.Z.container,children:(0,h.jsxs)("div",{className:"pupUpBox",children:[(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"right"},children:[_?(0,h.jsxs)("p",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:"20px",cursor:"pointer"},children:[(0,h.jsx)("img",{src:(0,n.Z)("clipBordCopyed"),alt:"copy"}),"Copied"]}):(0,h.jsxs)("p",{onClick:e=>(async e=>{if(y){b(!0);try{await navigator.clipboard.writeText(y)}catch(t){console.log(t)}setTimeout((()=>b(!1)),600)}})(),style:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:"20px",cursor:y?"pointer":"default",opacity:y?"1":"0.5"},children:[(0,h.jsx)("img",{src:(0,n.Z)("clipBord"),alt:"copy"}),"Copy"]}),(0,h.jsx)("img",{className:"pupUpCloseButton",src:(0,n.Z)("closeButton"),alt:"close",onClick:()=>{t(!1)}})]}),(0,h.jsxs)("div",{className:"popPup-container",children:[(0,h.jsxs)("div",{className:"popPupCodeName-container",style:{overflow:"auto"},children:[(0,h.jsx)("h4",{style:{marginBottom:"10px"},children:"Input"}),Object.keys(P).map(((e,t)=>{let i=!1;return e===w&&(i=!0),(0,h.jsx)("p",{className:i&&"select_sampleCode",onClick:t=>{L(0,e)},style:0===t?{borderTop:"1px rgb(101, 89, 89) solid"}:{},children:P[e].label},e)})),Object.keys(R).map((e=>{let t=!1;return e===w&&(t=!0),(0,h.jsx)("p",{className:t&&"select_sampleCode",onClick:t=>{L(0,e)},children:R[e].label},e)})),(0,h.jsx)("h4",{style:{marginBottom:"10px",marginTop:"10px"},children:"Output"}),Object.keys(D).map(((e,t)=>{let i=!1;return e===w&&(i=!0),(0,h.jsx)("p",{className:i&&"select_sampleCode",onClick:t=>{L(0,e)},style:0===t?{borderTop:"1px rgb(101, 89, 89) solid"}:{},children:D[e].label},e)})),Object.keys(M).map(((e,t)=>{let i=!1;return e===w&&(i=!0),(0,h.jsx)("p",{className:i&&"select_sampleCode",onClick:t=>{L(0,e)},style:(D.length<=0||void 0==D.length)&&0===t?{borderTop:"1px rgb(101, 89, 89) solid"}:{},children:M[e].label},e)}))]}),(0,h.jsx)(a.ZP,{value:y,height:"60vh",lint:!1,gutters:[],readOnly:!0,extensions:[(0,l.Vs)({py:!0})],style:{width:"74%",fontSize:"18px"}}),(0,h.jsx)("img",{className:"exportButton",onMouseEnter:e=>A(!0),onMouseLeave:e=>A(!1),onClick:e=>(e=>{let r=w+".py";if(!w)return E("You are not select any example code!"),k(!0),void setTimeout((()=>k(!1)),600);switch(w){case"accelerometer_and_gyrometer":r="acc_gyr.py";break;case"RGB_Ultrasonic":r="rgbUltra.py";break;case"RGB_LEDS_inbuild":r="rgbInbuilt.py"}let n=!1;if(Object.keys(i).map((e=>{e===r&&(n=!0)})),n)return E("This file name already exists!"),k(!0),void setTimeout((()=>k(!1)),600);let s=r,o={...i};o[s]={filename:s,code:y},u(o),p({filename:s,code:y}),d([...f,s]),t(!1)})(),src:(0,n.Z)("exportButton")}),T&&(0,h.jsx)("p",{className:"exportToolTip",children:"Export Code"}),x&&(0,h.jsx)("p",{className:"errorFileName",children:C})]})]})})}},8924:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2791),_RenderImage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6690),_ShareData__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6695),jszip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5587),jszip__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_3__),_SlideShow_SlideShow__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9173),_Utils_sample_json__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2722),_styles__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1631),_DropDown_Dropdown__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8756),_Save_SavePopUp__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(835),_Utils_data__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(129),_Loder_Loder__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1434),_ExampleCode_ExampleCodePopup__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(7233),_InputFilePopup__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(3180),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(184);const filters=[{usbVendorId:12346,usbProductId:4097},{usbVendorId:6790,usbProductId:29987},{usbVendorId:45488,usbProductId:32853}];let openStatus=!1,closeStatus=!1;function Header(){const{code:code,setCode:setCode,usb:usb,setUsb:setUsb,refreshByte:refreshByte,setRefreshByte:setRefreshByte,worker:worker,device:device,setDevice:setDevice,setFeedback:setFeedback,isDisabled:isDisabled,setIsDisabled:setIsDisabled,sidebar_filesName:sidebar_filesName,setSidebar_FilesName:setSidebar_FilesName,subHeader_filesName:subHeader_filesName,setSubHeader_filesName:setSubHeader_filesName,workSpaceFile:workSpaceFile,setWorkSpaceFile:setWorkSpaceFile,isProjectRun:isProjectRun,setIsProjectRun:setIsProjectRun,isLodarShow:isLodarShow,setIsLodarShow:setIsLodarShow,projectName:projectName,setProjectName:setProjectName,isNewUi:isNewUi,setIsChange:setIsChange}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_ShareData__WEBPACK_IMPORTED_MODULE_2__.Z);let zingEditar={};try{zingEditar=JSON.parse(sessionStorage.getItem("zingEditar"))||{subHeader_filesName:[],sidebar_filesName:{},workSpaceFile:{},currentConsoleText:"",projectName:"Untitled"}}catch(e){console.log("ERROR",e)}const[isPopup,setPopup]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[filePopup,setFilePopUp]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[showExamplePopUp,setShowExamplePopUp]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[editProjectName,setEditProjectName]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[isShowFileInputPopUp,setIsShowFileInputPopUp]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[isShowFileReplacePopUp,setIsShowFileReplacePopUp]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),urlParams=new URLSearchParams(window.location.search),[inputFileDetails,setInputFileDetails]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({fileName:"",code:""}),deviceName=["peeCee","zing","crawlee","klaw","moki"].includes(urlParams.get("device"))?urlParams.get("device"):"peeCee",scrollIndicator=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),refs={},registerRef=e=>t=>{refs[e]=t};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const e=()=>{sessionStorage.setItem("windowFocus","true")},t=()=>{sessionStorage.setItem("windowFocus","false")};return window.addEventListener("blur",t),window.addEventListener("focus",e),()=>{window.removeEventListener("blur",t),window.removeEventListener("focus",e)}}),[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const runLoop=async()=>{new URLSearchParams(window.location.search);console.log(deviceName),setDevice(deviceName),setIsDisabled(!1),setFeedback("")},getProject=async()=>{await new Promise((e=>setTimeout(e,2e3)));let fileArr=[],newSidebar_filesName={},removeFileCommend="import os\rprint(os.listdir())\r",asciRemoveFileCommend=[...removeFileCommend].map((e=>e.charCodeAt(0)));worker.postMessage({type:"getFiles",value:[3,...asciRemoveFileCommend]}),worker.onmessage=async e=>{"getFileRead"===e.data.type&&(fileArr=eval(e.data.value),fileArr.map(((e,t)=>{"boot.py"===e&&fileArr.splice(t,1)})),fileArr.includes("main.py")||(newSidebar_filesName={...newSidebar_filesName,"main.py":{code:"",filename:"main.py"}}),fileArr.map((async e=>{let t=[...'import os\ros.remove("'.concat(e,'")\r')].map((e=>e.charCodeAt(0)));worker.postMessage({type:"ignoreConsolePrint",value:[3,...t]})})),await new Promise((e=>setTimeout(e,1e3))),setIsLodarShow(!1))},await new Promise((e=>setTimeout(e,7e3))),setIsLodarShow(!1)};usb&&(isNewUi&&setIsLodarShow(!0),runLoop(),isNewUi&&setIsLodarShow(!1)),usb||(setFeedback(""),setDevice(null))}),[usb]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const t=async()=>{try{openStatus||(openStatus=!0,worker.postMessage({type:"connected"}),worker.onmessage=e=>{"connected"===e.data.type&&(console.log("event event event",e),setUsb((t=>e.data.value)),openStatus=!1)})}catch(e){console.log(e)}},i=async e=>{JSON.parse(sessionStorage.getItem("windowFocus"))&&await t(e.target)},r=e=>{closePort(e.target)};return navigator.serial.getPorts(filters).then((async e=>{e[0]&&await t(e[0])})),navigator.serial.addEventListener("connect",i),navigator.serial.addEventListener("disconnect",r),()=>{navigator.serial.removeEventListener("connect",i),navigator.serial.removeEventListener("disconnect",r)}}),[openStatus]);const closePopup=e=>{setPopup(!1)},help=()=>{setPopup(!0)},closePort=async t=>{if(setRefreshByte(!1),!closeStatus){closeStatus=!0;try{setUsb(!1),worker.postMessage({type:"disconnected"}),closeStatus=!1}catch(e){console.log(e)}}},requestPort=async()=>{try{await navigator.serial.requestPort({filters:filters}).then((async()=>{worker.postMessage({type:"connected"})})),worker.onmessage=e=>{"connected"===e.data.type&&setUsb(e.data.value)}}catch(e){console.log(e)}},showarrowButton=()=>{let e=refs.droDownInner;e.scrollHeight>e.clientHeight&&(scrollIndicator.current.style.display="block"),e.scrollHeight<=e.clientHeight&&(scrollIndicator.current.style.display="none")},closedropddown=(e,t)=>{if("sampleRef"===t){let e=document.getElementsByClassName("dropdownContent");for(let t=1;t<e.length;t++)e[t].style.display="none"}else{refs[t].style.display="none",e.map((e=>{refs[e].style.display="none"}))}},toggleDropDown=(e,t)=>{let i=refs[t];e.stopPropagation();const r=_Utils_data__WEBPACK_IMPORTED_MODULE_9__.PT[t];switch(t){case"mainRef1":return i.style.display="block"===i.style.display?closedropddown(r,"mainRef1"):"block",void showarrowButton();case"inputRef1":return i.style.display="block"===i.style.display?closedropddown(r,"inputRef1"):"block",void showarrowButton();case"outputRef1":return i.style.display="block"===i.style.display?closedropddown(r,"outputRef1"):"block",void showarrowButton();case"mainRef2":return i.style.display="block"===i.style.display?closedropddown(r,"mainRef2"):"block",void showarrowButton();case"inputRef2":return i.style.display="block"===i.style.display?closedropddown(r,"inputRef2"):"block",void showarrowButton();case"outputRef2":return i.style.display="block"===i.style.display?closedropddown(r,"outputRef2"):"block",void showarrowButton();case"sampleRef":return void(i.classList.contains("flexClass")?(scrollIndicator.current.style.display="none",i.classList.remove("flexClass"),closedropddown(r,"sampleRef")):i.classList.add("flexClass"));case"droDownInner":return void(i.style.display="block"===i.style.display?"none":"block")}showarrowButton(),i.style.display="block"===i.style.display?"none":"block"};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const e=e=>{let t=document.getElementById("droDown_outer"),i=document.getElementById("droDown_inner");t.classList.remove("flexClass"),i.style.display="none",scrollIndicator.current.style.display="none";let r=document.getElementsByClassName("dropdownContent");for(let n=1;n<r.length;n++)r[n].style.display="none"};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]);const getSampleCode=(e,t,i)=>{if(e.stopPropagation(),"peeCee"===i){let e=_Utils_data__WEBPACK_IMPORTED_MODULE_9__.Cx[t];sessionStorage.setItem("code",JSON.stringify(e)),setCode(e),sessionStorage.setItem("code",JSON.stringify(e))}else if("zing"===i){let e=_Utils_data__WEBPACK_IMPORTED_MODULE_9__.Y9[t];sessionStorage.setItem("code",JSON.stringify(e)),setCode(e),sessionStorage.setItem("code",JSON.stringify(e))}},erase=e=>{if(isNewUi){setIsChange(!0);let e={...sidebar_filesName};Object.keys(e).map((t=>{t===workSpaceFile.filename&&(e[t].code="",setCode(""))})),setSidebar_FilesName(e),setWorkSpaceFile({...workSpaceFile,code:""})}else setCode(""),sessionStorage.setItem("code",JSON.stringify(""))},Save=()=>{if(isNewUi){setIsChange(!1);const e=new(jszip__WEBPACK_IMPORTED_MODULE_3___default()),t=e.folder("".concat(projectName));Object.keys(sidebar_filesName).map((e=>{t.file("".concat(e),"".concat(sidebar_filesName[e].code))})),e.generateAsync({type:"blob"}).then((e=>{const t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="".concat(projectName,".zip"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))}else setFilePopUp(!0)},projectNameSubmitHandel=()=>{setEditProjectName(!1)},toggleSwipe=e=>{document.querySelector(".swipe-container").classList.toggle("true"),setIsProjectRun(!isProjectRun)},handelReplaceFile=e=>{let t={...sidebar_filesName};t[inputFileDetails.fileName]={filename:inputFileDetails.fileName,code:inputFileDetails.code},setSidebar_FilesName(t),setWorkSpaceFile({filename:inputFileDetails.fileName,code:inputFileDetails.code}),setIsShowFileReplacePopUp(!1)},getProject=async()=>{let e=[..."import os\rprint(os.listdir())\r"].map((e=>e.charCodeAt(0)));worker.postMessage({type:"getFiles",value:[3,...e]})},getFilsData=async()=>{["a.py","b.py","boot.py","c.py","d.py","main.py"].map((async e=>{await new Promise((e=>setTimeout(e,2e3)));let t=[...'f = open("'.concat(e,'", "r")\rprint(f.read())\rf.close()\r')].map((e=>e.charCodeAt(0)));worker.postMessage({type:"getFileData",value:[3,...t]})}))};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(_styles__WEBPACK_IMPORTED_MODULE_6__.gM,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(_styles__WEBPACK_IMPORTED_MODULE_6__.nI,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_styles__WEBPACK_IMPORTED_MODULE_6__.s4,{src:(0,_RenderImage__WEBPACK_IMPORTED_MODULE_1__.Z)("selectbar")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_styles__WEBPACK_IMPORTED_MODULE_6__.Dx,{children:"Python Coding"}),isNewUi&&editProjectName?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("form",{className:"projectName_from",onSubmit:e=>projectNameSubmitHandel(),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("input",{spellCheck:"false",value:projectName,onChange:e=>{setIsChange(!0),setProjectName(e.target.value)}})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"projectname",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("p",{className:"projectnameTitle",children:projectName}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"projectnameEditDiv",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("img",{className:"editButton",src:(0,_RenderImage__WEBPACK_IMPORTED_MODULE_1__.Z)("editPencil"),alt:"edit",onClick:e=>setEditProjectName(!0)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("p",{className:"editProjectToolTip",children:"Edit Project Name"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(_styles__WEBPACK_IMPORTED_MODULE_6__.f2,{children:[isNewUi&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"swipe-container",onClick:e=>toggleSwipe(e),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"swipe-handle"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"left-text",children:"Project Run"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"right-text",children:"File Run"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_styles__WEBPACK_IMPORTED_MODULE_6__.kZ,{onClick:e=>{isNewUi?setShowExamplePopUp(!0):(toggleDropDown(e,"sampleRef"),toggleDropDown(e,"droDownInner"))},src:(0,_RenderImage__WEBPACK_IMPORTED_MODULE_1__.Z)("code"),alt:"example code",draggable:"false",style:{paddingTop:"0%",width:"7.5vh"}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_styles__WEBPACK_IMPORTED_MODULE_6__.kZ,{src:(0,_RenderImage__WEBPACK_IMPORTED_MODULE_1__.Z)("erase"),alt:"erase",onClick:erase,draggable:"false"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_styles__WEBPACK_IMPORTED_MODULE_6__.$B,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_styles__WEBPACK_IMPORTED_MODULE_6__.kZ,{src:(0,_RenderImage__WEBPACK_IMPORTED_MODULE_1__.Z)("file"),alt:"file",draggable:"false",onClick:e=>setIsShowFileInputPopUp(!0)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_styles__WEBPACK_IMPORTED_MODULE_6__.kZ,{src:(0,_RenderImage__WEBPACK_IMPORTED_MODULE_1__.Z)("save"),alt:"help",onClick:()=>{Save()},draggable:"false"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("img",{style:{width:"15vh",cursor:"pointer",marginTop:"1%"},id:"wifiOff",src:(0,_RenderImage__WEBPACK_IMPORTED_MODULE_1__.Z)(usb?"usbOn":"usbOff"),alt:"wifi",onClick:requestPort,draggable:"false"})]})]}),filePopup&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_Save_SavePopUp__WEBPACK_IMPORTED_MODULE_8__.Z,{showPopUp:filePopup,setFilePopUp:setFilePopUp,code:code}),isShowFileInputPopUp&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_InputFilePopup__WEBPACK_IMPORTED_MODULE_12__.Z,{setIsShowFileInputPopUp:setIsShowFileInputPopUp,setIsShowFileReplacePopUp:setIsShowFileReplacePopUp,setInputFileDetails:setInputFileDetails}),isShowFileReplacePopUp&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"inputFilePopupContainer",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"inputFilePopupContainer_inner",style:{flexDirection:"column"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("p",{style:{marginTop:"25px",textAlign:"center"},children:["An older file named"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("span",{style:{color:"red"},children:inputFileDetails.fileName})," ","already exists. Do you want to replace it with the newer one?"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"sameFile_exists_ans",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("p",{onClick:handelReplaceFile,children:"YES"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("p",{onClick:e=>setIsShowFileReplacePopUp(!1),children:"NO"})]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_DropDown_Dropdown__WEBPACK_IMPORTED_MODULE_7__.Z,{toggleDropDown:toggleDropDown,registerRef:registerRef,getSampleCode:getSampleCode,scrollIndicator:scrollIndicator}),isNewUi&&showExamplePopUp&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ExampleCode_ExampleCodePopup__WEBPACK_IMPORTED_MODULE_11__.Z,{showExamplePopUp:showExamplePopUp,setShowExamplePopUp:setShowExamplePopUp}),isNewUi&&isLodarShow&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{style:{zIndex:"1000000",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_Loder_Loder__WEBPACK_IMPORTED_MODULE_10__.Z,{})})]})}const __WEBPACK_DEFAULT_EXPORT__=Header},3180:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(2791),n=i(6695),s=i(6690),o=i(184);const a=function(e){let{setIsShowFileInputPopUp:t,setIsShowFileReplacePopUp:i,setInputFileDetails:a}=e;const{code:l,setCode:c,usb:h,setUsb:u,refreshByte:d,setRefreshByte:f,worker:p,device:m,setDevice:g,setFeedback:v,isDisabled:_,setIsDisabled:b,sidebar_filesName:y,setSidebar_FilesName:O,subHeader_filesName:w,setSubHeader_filesName:S,workSpaceFile:x,setWorkSpaceFile:k,isProjectRun:C,setIsProjectRun:E,isLodarShow:T,setIsLodarShow:A,setProjectName:P,isNewUi:R}=(0,r.useContext)(n.Z),D=new URLSearchParams(window.location.search);return["peeCee","zing","crawlee","klaw","moki"].includes(D.get("device"))&&D.get("device"),(0,o.jsx)("div",{className:"inputFilePopupContainer",children:(0,o.jsxs)("div",{className:"inputFilePopupContainer_inner",children:[(0,o.jsx)("img",{className:"inputFilePopupContainer_closeBtn",src:(0,s.Z)("close"),alt:"close",onClick:()=>{t(!1)}}),(0,o.jsxs)("label",{htmlFor:"file-input",className:"file_div",children:[(0,o.jsx)("img",{src:(0,s.Z)("fileIcon"),alt:"inputFile"}),(0,o.jsx)("p",{children:"Open File"}),(0,o.jsx)("input",{id:"file-input",type:"file",accept:".py",hidden:!0,onChange:e=>{(e=>{let r=e.target.files[0];const n=new FileReader;n.onload=R?e=>{let t=e.target.result,n=r.name,s=!1;if(s=Object.keys(y).some((e=>e===n)),s)i(!0),a({fileName:n,code:t});else{let e={...y};e[n]={filename:n,code:t},O(e),k({filename:n,code:t}),S([...w,n])}}:e=>{c(e.target.result)},t(!1),n.readAsText(r)})(e)}})]}),(0,o.jsxs)("label",{htmlFor:"folder-input",className:"file_div",children:[(0,o.jsx)("img",{src:(0,s.Z)("fileIcon"),alt:"inputProject"}),(0,o.jsx)("p",{children:"Open Folder"}),(0,o.jsx)("input",{id:"folder-input",type:"file",webkitdirectory:"true",mozdirectory:"true",hidden:!0,onChange:e=>{const i=e.target.files;let r={};const n=i[0].webkitRelativePath.split("/")[0];P(n),Array.from(i).forEach((async e=>{const t=new FileReader;t.onload=t=>{r[e.name]={filename:e.name,code:t.target.result},O(r)},t.readAsText(e)})),t(!1),k({}),S([]),e.target.value=""}})]})]})})}},1631:(e,t,i)=>{"use strict";i.d(t,{$B:()=>b,Dx:()=>y,f2:()=>g,gM:()=>p,kZ:()=>_,nI:()=>m,s4:()=>v});var r,n,s,o,a,l,c,h,u,d=i(168),f=i(2978);const p=f.zo.div(r||(r=(0,d.Z)(["\n  /* grid-area: headerContainer; */\n  z-index: 100000;\n  overflow: hidden;\n  display: flex;\n  background-color: #f0f7fa;\n  /* justify-content: space-between; */\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 11vh;\n"]))),m=f.zo.div(n||(n=(0,d.Z)(["\n  width: 30%;\n  color: white;\n  position: relative;\n"]))),g=f.zo.div(s||(s=(0,d.Z)(["\n  width: 70%;\n  display: flex;\n  gap: 1%;\n  justify-content: flex-end;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n"]))),v=f.zo.img(o||(o=(0,d.Z)(["\n  width: 60vh;\n  height: 100%;\n  position: absolute;\n  right: 44%;\n"]))),_=(f.zo.div(a||(a=(0,d.Z)(["\n  overflow: hidden;\n  position: relative;\n  right: 0.8%;\n"]))),f.zo.button(l||(l=(0,d.Z)(["\n  font-size: 1.5rem;\n  border: none;\n  outline: none;\n  color: white;\n  background-color: inherit;\n  font-family: inherit;\n  margin: 0;\n  cursor: pointer;\n  margin-top: 1%;\n  padding: 1rem;\n"]))),f.zo.img(c||(c=(0,d.Z)(["\n  cursor: pointer;\n  width: 8.5vh;\n  padding-top: 1%;\n"])))),b=f.zo.div(h||(h=(0,d.Z)(["\n  cursor: pointer;\n  width: 8.3vh;\n  padding-top: 1.4%;\n"]))),y=f.zo.p(u||(u=(0,d.Z)(['\n  position: absolute;\n  top: 50%;\n  left: 25%;\n  transform: translate(-50%, -50%);\n  font-size: 3vh;\n  font: "Halcyon Regular";\n  font-family: "Halcyon Regular";\n'])))},1434:(e,t,i)=>{"use strict";i.d(t,{Z:()=>O});var r,n,s,o,a,l,c,h,u,d=i(168),f=i(184),p=(i(2791),i(2978));const m={"aria-busy":!0,role:"progressbar"},g=(p.ZP.div(r||(r=(0,d.Z)(["\n  display: ",";\n"])),(e=>e.$visible?"flex":"none")),242.776657104492),v=(0,p.F4)(n||(n=(0,d.Z)(["\n12.5% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n43.75% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n100% {\n  stroke-dasharray: ","px, ","px;\n  stroke-dashoffset: -","px;\n}\n"])),33.98873199462888,g,26.70543228149412,84.97182998657219,g,84.97182998657219,2.42776657104492,g,240.34889053344708),_=(p.ZP.path(s||(s=(0,d.Z)(["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"])),2.42776657104492,g,v,1.6),(0,p.F4)(o||(o=(0,d.Z)(["\nto {\n   transform: rotate(360deg);\n }\n"])))),b=(p.ZP.svg(a||(a=(0,d.Z)(["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: 0.75s;\n"])),_),p.ZP.polyline(l||(l=(0,d.Z)(["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"])),(e=>e.width)),(0,p.F4)(c||(c=(0,d.Z)(["\nto {\n   stroke-dashoffset: 136;\n }\n"])))),y=(p.ZP.polygon(h||(h=(0,d.Z)(["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"])),b),p.ZP.svg(u||(u=(0,d.Z)(["\n  transform-origin: 50% 65%;\n"]))),e=>{let{visible:t=!0,width:i="80",height:r="80",wrapperClass:n="",wrapperStyle:s={},ariaLabel:o="hourglass-loading",colors:a=["#306cce","#72a1ed"]}=e;return t?(0,f.jsxs)("svg",{width:i,height:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 350 350",preserveAspectRatio:"xMidYMid",className:n,style:s,"aria-label":o,"data-testid":"hourglass-svg",...m,children:[(0,f.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"0; 0; -30; 360; 360",keyTimes:"0; 0.40; 0.55; 0.65; 1",dur:"3s",begin:"0s",calcMode:"linear",repeatCount:"indefinite"}),(0,f.jsxs)("g",{children:[(0,f.jsx)("path",{fill:a[0],stroke:a[0],d:"M324.658,20.572v-2.938C324.658,7.935,316.724,0,307.025,0H40.313c-9.699,0-17.635,7.935-17.635,17.634v2.938     c0,9.699,7.935,17.634,17.635,17.634h6.814c3.5,0,3.223,3.267,3.223,4.937c0,19.588,8.031,42.231,14.186,56.698     c12.344,29.012,40.447,52.813,63.516,69.619c4.211,3.068,3.201,5.916,0.756,7.875c-22.375,17.924-51.793,40.832-64.271,70.16     c-6.059,14.239-13.934,36.4-14.18,55.772c-0.025,1.987,0.771,5.862-3.979,5.862h-6.064c-9.699,0-17.635,7.936-17.635,17.634v2.94     c0,9.698,7.935,17.634,17.635,17.634h266.713c9.699,0,17.633-7.936,17.633-17.634v-2.94c0-9.698-7.934-17.634-17.633-17.634     h-3.816c-7,0-6.326-5.241-6.254-7.958c0.488-18.094-4.832-38.673-12.617-54.135c-17.318-34.389-44.629-56.261-61.449-68.915     c-3.65-2.745-4.018-6.143,0-8.906c17.342-11.929,44.131-34.526,61.449-68.916c8.289-16.464,13.785-38.732,12.447-57.621     c-0.105-1.514-0.211-4.472,3.758-4.472h6.482C316.725,38.206,324.658,30.272,324.658,20.572z M270.271,93.216     c-16.113,31.998-41.967,54.881-64.455,68.67c-1.354,0.831-3.936,2.881-3.936,8.602v6.838c0,6.066,2.752,7.397,4.199,8.286     c22.486,13.806,48.143,36.636,64.191,68.508c7.414,14.727,11.266,32.532,10.885,46.702c-0.078,2.947,1.053,8.308-6.613,8.308     H72.627c-6.75,0-6.475-3.37-6.459-5.213c0.117-12.895,4.563-30.757,12.859-50.255c14.404-33.854,44.629-54.988,64.75-67.577     c0.896-0.561,2.629-1.567,2.629-6.922v-10.236c0-5.534-2.656-7.688-4.057-8.57c-20.098-12.688-49.256-33.618-63.322-66.681     c-8.383-19.702-12.834-37.732-12.861-50.657c-0.002-1.694,0.211-4.812,3.961-4.812h206.582c4.168,0,4.127,3.15,4.264,4.829     C282.156,57.681,278.307,77.257,270.271,93.216z"}),(0,f.jsxs)("g",{children:[(0,f.jsx)("path",{fill:a[1],stroke:a[1],d:"M169.541,196.2l-68.748,86.03c-2.27,2.842-1.152,5.166,2.484,5.166h140.781c3.637,0,4.756-2.324,2.484-5.166     l-68.746-86.03C175.525,193.358,171.811,193.358,169.541,196.2z"}),(0,f.jsx)("animate",{attributeName:"opacity",values:"0; 0; 1; 1; 0; 0",keyTimes:"0; 0.1; 0.4; 0.6; 0.61; 1",dur:"3s",repeatCount:"indefinite"})]}),(0,f.jsxs)("g",{children:[(0,f.jsx)("path",{fill:a[1],stroke:a[1],d:"M168.986,156.219c2.576,2.568,6.789,2.568,9.363,0l34.576-34.489c2.574-2.568,1.707-4.67-1.932-4.67H136.34     c-3.637,0-4.506,2.102-1.932,4.67L168.986,156.219z"}),(0,f.jsx)("animate",{attributeName:"opacity",values:"1; 1; 0; 0; 1; 1",keyTimes:"0; 0.1; 0.4; 0.65; 0.66; 1",dur:"3s",repeatCount:"indefinite"})]})]})]}):null});const O=function(){return(0,f.jsx)("div",{children:(0,f.jsx)(y,{visible:!0,height:"80",width:"80",ariaLabel:"hourglass-loading",wrapperStyle:{},wrapperClass:"",colors:["rgb(86,183,215)","rgb(86,183,215, 0.5)"]})})}},6690:(e,t,i)=>{"use strict";i.d(t,{Z:()=>O});const r=i.p+"static/media/back.07fdf090317fc912c7d9.png";var n=i(2941);const s=i.p+"static/media/erase.801c360e455ab241c156.png";var o=i(2989);const a=i.p+"static/media/file.814fa246b89986eec3ea.png",l=i.p+"static/media/help.630595f67872d67cb1e4.png",c=i.p+"static/media/helpScreen1.18b970015c18ea5540b8.png",h=i.p+"static/media/helpScreen2.a79371831cb953b79f80.png",u=i.p+"static/media/helpScreen3.18515e4702e1630de435.png",d=i.p+"static/media/save.7124360f9baa69e54253.png",f=i.p+"static/media/upload.0a6236eed6af7a2baf99.png",p=i.p+"static/media/usboff.f0d879f794cc01af6c9e.png",m=i.p+"static/media/usbon.877090178c8fb45183ad.png";i(2791);const g=i.p+"static/media/code.8d3b5c5acc0c0d0c2388da28dd603ad0.svg";var v=i(7743);const _=i.p+"static/media/add-button.59c1f307498c176c00853dc255c965d7.svg";const b=i.p+"static/media/cross_button.b3ad35e0b7cafae65c6b9d7baf00cb61.svg";const y=i.p+"static/media/fileIcon.35d3369eaba7babbbf4c440154af58a4.svg";const O=function(e){switch(e){case"back":return r;case"close":case"closeButton":case"close":return n;case"erase":return s;case"error":return o;case"file":return a;case"help":return l;case"helpScreen1":return c;case"helpScreen2":return h;case"helpScreen3":return u;case"left":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKIAAACpCAMAAACf6xbqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkMxMzFBREE0QzA5RTExRUM4NDU4ODM0NUVGQTMyRjEwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkMxMzFBREE1QzA5RTExRUM4NDU4ODM0NUVGQTMyRjEwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzEzMUFEQTJDMDlFMTFFQzg0NTg4MzQ1RUZBMzJGMTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzEzMUFEQTNDMDlFMTFFQzg0NTg4MzQ1RUZBMzJGMTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz61KpegAAAAe1BMVEXh4eHg4ODi4uLf39/e3t7d3d3+/v79/f38/Pzc3Nz6+vr29vb39/fm5ub19fXp6en////5+fnj4+Pn5+fa2try8vL7+/vb29vo6Oju7u7x8fHv7+/r6+v09PTq6urs7Ozt7e3w8PDl5eXz8/Pk5OT4+PjZ2dnY2Nj///8MvhHaAAAAKXRSTlP/////////////////////////////////////////////////////AFL0IIcAAAQ3SURBVHja7NyJjuI6EAVQL9n3EAhh35p+9/+/8HVLo1mo0miYBnRHsj8AHVVS5bKxY0A/TCAGYiAGYiAGYiAGYiAGYiAGYiD+g8SxqcpmJCY2k3GRd2YoWYl748y30VISk9ab7yPaEhJHb38IjfMXOuI4+1l416N+EbF8vxGagYy4M7dCRxbF09LcjllPRTwIoLFHqozex5K4ZqqL6W0qf4TwvWGaXdLaixC6u+a/ZxOrpUhlOy+Y2oirk4kyZEzN2PpdPGNrE6Z+cS0zOVpRtbTbXMawBROxlTFcXkBETOpIEhdMa5fCy4f835VpeTU6OaWcexARd3MRQ59nICI28i302wRExKOMoXVUS/2VjGG8BhOxFt2hMwemDZO0ln3DvAQRMXWyO5w1ICJWsmD7e7vD5xILKwv2NIKIeIxkDKMERMSdlQV784gffhjx7G8XAS4awEQ8Kh12AyJiYmWx8ScQEQulYC8LEBHHSGbK2xVExIV1stikICKWcpFitwmIiJMsNvHbQyf+rxLX8jW0CzARjYihibcgIqZ72TdEVxAR01jG0DcgIpYzOaP4DETEPleW808Q/j1xpRSbWQci4kUp2CuAiHiORAzzPZiIR6X3akBETCKlYK9BRCxqmcq+ABGxWIrmy7geRMSLskhxCYiIpVKw26cK7yXulUQZACLiSSnYaxARO6U7zFcgIqatLNi2AhExWyrvYQMiYiH/SvEuAxEx05bzLxH+MXElcjmqOzAREzHpPXop+mVievuYrcnIiBjEqxjvyIiVMq+UXERtds4PXEQs4pctqP56AjzKVvYlheeeNqKay/Jdp1RENPLwkncpFRHjXCZNVFERkU3K6q+nIiLxSvHZUBGBjX/61vGXl/q1EseJi4gmV/7G6KiIOBmZ17OEivi5aSLiOCuoiOiVPyajjIqINFZm7AUVEclBOWhQUREBp2zIt1xEXJQifuIiYqsc2XAdFRG9sgEwZVRENErORCkVEamXL6QpqYjIBpkzcU9FRPcWPeSc/hOJHx2k8kLuuIhoc3kMZsZFRKnE8dhREbHIlcPmKRURozwBaoaCiohe3gKz7z0VEYl72PWRZxGRyEs4Nm+oiMAgT8bbiYuonSCLNlxEbJay+NiOiohKOYnXplRElEoRn49URGQz5SpERUX8MMqtinlFRUQ3KJe2V1REQNkGiBdcRBxl8bFnLiJ2ykW7Q0dFxEW5rhinVETtpIKtRyqifnW2pyIi0b52sKMiIlG2AZY7KiKwVYr4gYuIk3JDdcNFxFq759tREVEZeUzqrg7yBV+CqZQ42oKKiOxNOcyVUBGRyZwxJy4iur3YBpjIiJ9faiP/Qtbn8jW/+XeYj4jFL2XHpoTEXy4MLiswEnH9djzFmToDJxHoN9P5PB2oPj/1iBGIgRiIgRiIgRiIgRiIgfi78b8AAwBq+S0IdYJCSwAAAABJRU5ErkJggg==";case"plode":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAAAXNSR0IArs4c6QAAAyhJREFUWEftWFtIVFEUXVuHGh2NECohjJSECiKJICgryzsI/ZgfQZA9iD7KINCaISqK8KsIIej1I/TwJ4kQfwLvgFFozcc8RIuk1NSPlBzNRrPyseNqhk4z554zMxLSHLhfZ+21115n33tmD2ERLFoEGpEQGa9TSjj5T51kZguAVADLANgALP8taAyA8QQA/AAwCYCB6d6ffYzYb0Q0IVuE0nEzB1fiU/NBjPUfB7DZJEkvgJcAvgL4PoOlFCxJTcWK7Y+xNLMDQDsRGUUIl7RI7n5yFF019zExasYpt59VAuSU7oIl/TURjYuCpERy2/Vy9OlVctkVUGk5/dh2L5eIgrGLdNmN/klWSC8PzT5ShpzSaiL6GSnI1El2n7yDYMcp+ayKSIutnQrq1sfkJLvsRtMvVUytBCdNF5ol3OTe5hS0XzHeFFPHlVSFgGMTGWjNgq+iJxYBMrGxiRzwbID//FuZRFFjCE1UqOdH3ZM82LIT3nMvohYgEWjm4vQVIOLhQd8heJ01ErmigsgIlBHphNd5LSoF4qAW0vQ8WV6xk0P+G/A4zsqSheCGYU3Jovx64W0iw21y3P5b8DpOyxDNwzDqya4XK8dFCFgIJz+SpmfHS6B5Twb8lfA5LqklpBOkNVSrxYjRYicD/pvwOc6oJJR9Y5U4hZ+ggP8qfI7LSoQm97AK1yzW7DtZBq/ztgqxyEl22TsBzPQr0V0qbCiT4TY5bt8B+Jy1MkR/qo7gJLvs4caEUdL0NDN+scixvmw0HTaql17hnOTGonWYnHofjkSmh01/gvHz/aww13hI07eGimFX4UYg6U3YSjM25dGWqhaRC+YiOx49RdfDEikrLbZnVFC37y+RurYGRN0L5yQPZ8Dt7MFIpzFfCxY3kubaGw7A/vLVGGj7AMA6bz/Z9oD21B1jZhKNtqZOGqTMn9PhvtiIkS5j1jaG+zmLg2B6RXa9SFiCp6IUQ60XAOQCSIJ1lQs7KouBteNEZPyJEHFJiZyNZq5NhsftwJfW3cDUBKyZ7yi/xiHVCnPLMnEulE9JpKqYeOETIhNOxsuBePEkevK/cvIXJTL/KvZllHEAAAAASUVORK5CYII=";case"right":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKIAAACpCAMAAACf6xbqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNBRjk2NUIzQzA5RTExRUM5ODRDOTBCQUE5QzkwNkQxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNBRjk2NUI0QzA5RTExRUM5ODRDOTBCQUE5QzkwNkQxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0FGOTY1QjFDMDlFMTFFQzk4NEM5MEJBQTlDOTA2RDEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0FGOTY1QjJDMDlFMTFFQzk4NEM5MEJBQTlDOTA2RDEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4r4KLGAAAAe1BMVEXh4eHg4ODi4uLf39/e3t7d3d3+/v79/f38/Pzc3Nz6+vr29vb39/fm5ub19fXp6en////5+fnj4+Pn5+fa2try8vL7+/vb29vo6Oju7u7x8fHv7+/r6+v09PTq6urs7Ozt7e3w8PDl5eXz8/Pk5OT4+PjZ2dnY2Nj///8MvhHaAAAAKXRSTlP/////////////////////////////////////////////////////AFL0IIcAAARzSURBVHja7NzZkqM6DAZgL+yQACEJZN86PXr/Jzx9MXWmJlJNNWCn/wvzAKmvRCxsWbYi+EcFYiAGYiAGYiAGYiAGYiAGYiAG4g8Qt8uyWm6BiWWnjI2MGpaoxFr9fow6YxKPkfr/sXUCSHxY84eotN3iEWv116NXWzhip16MnyVcFM2rUZ3AiO1KvT79DWxEXzUzqgtYXtxzYnzGItLykwVSr1Ksb3RpWBztIoUiUrHWbGD3FdZkLOv4oDFPrPliolkc1ecebEq7i/jI3mMRqeZxzI9gC4NHz+NYg61dNpwYLRIoIj1/8ZdtC6wVYHvnHxqzhSJSllsWx/UJikjJ0fJ/5BKKSGT4/3F9BatG7GMexx1YweSiWBzjBVhNp1zzWYXr2dncstOSr2isSaGIXzNInnxsBUWk7cCTuC6giJREPI7RFYpIdOBJXJ+wiNRFr3E09o5FpKUwE79iEenG37XVCRSRil5I4gUUkZ4ffMxEWygipTz5GL2BIn7NIPm7jkooItFHzJPPgEWkDY+j3mMR6chmucYqLCI9Iz6rOKdQRFpaHsc4hSJSZvmXZlVCESkTygB5C0WkZiUknx0UkWgnJPEHFpHOOYtjdMciCgNb2SsWUShVGBslUEQqLB/YU2aQPjtMWrYwNLovoIiUGGFJ84AiUlILSbyEIn4tX4VBc8Yi0l5I4jcsIu1yYQbZQBGp4nG0dQpFpKXwf+wzKCJlxvJNmgKKSJlUBsigiNQsWBKPdlhEYflqvluVehsxU69GnWIRT2xU6w7rRZfCN6aCIl7yGV/qtxCFxVb8/aqe+pGEY/SIZYx/YrrgaXs9ZnvLOzHlHz9lRu2s+yZW/CXb9bgKuGdiK6wCh4yAiAch2dixa2mvRKGsbA9Qi9RBiOGEtgR/xEbY4sinNMl4IyYrPpbVpCZrX8RixYdyP21L0BMxi4RNy4m1ZD/EjfBVnrxr4IVYCY0Il8mb0z6ItVCMN9N/zgPxJiTsBwERGyO0csxqBnZNzAZhUd8SEDGNhJEys+/SLbHkdWNr5za5OSW2MR8pXUZARKGzP/poCIh4Ev6GBwe/64644i0wuZOuflfE5irE0M1BQUfEVGhEzzcERCw6HkLtqp3fCbH95E3oqiUgonS0xLg7WuKAuMx5wnZ5fHo+ceAvOe6IgIiHyH2XmFNio3my6Q8ERExrodPO9eHKWcSt0LyfOz97PodYCUcgVhkBEau1cBTZvXAGcScc6O4aAiJuYmE576W0MZV45wm7vxIQsbkIB+x8XdEwiZjGwjHFBwERtws9o4/gHcT2jUdmpxFP0q0HPq+uGU08CYdGOq+X64wlXoSEfSQCIh6EU6i+71oZRWyks7x7AiKmNW9aUhUBEQvhUou1f+EIYiI0VX1khES88YGi3iEcQWRF7OjcEBaRlW3edWPb94kve7f5geCIqf4r5WwIj0hV7/R4n5fUnS1+X3CghydhEonKy3C/D4eWCJb4I08gBmIgBmIgBmIgBmIgBuK/nv8EGAB1jS0I3FIYmwAAAABJRU5ErkJggg==";case"save":return d;case"selectbar":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALgAAAA9CAYAAAAeTqOsAAAABHNCSVQICAgIfAhkiAAAA4VJREFUeF7tnTFLHEEUx2fWD2TcPdIH0gRSWHl7Jk2qBILVkspPoI2ktQ1C0E9gFaxECN6uhICQIoWFkOaMhWLkNhOIIYXnzNudvbsHv4Or7v/ePH7vz3LM7MzYxY/Hnw0fCEyJgDXm0n2Ph3laTGNIi8GngZkx7iNQ5WmvazIYvGvC5J9IwD3Jz8o8Xe4SEQbvki65vQQSYw7d35U1r7ChAIM3BEdYRALW7FX9dCNixn+pMHgXVMkpJmBNvVXm2Y440BOAwWMTJV9jAsnYFMPV9KBxgnsCMXhMmuRqTaBOFl6crCyetk70NwEGj0WSPNEI/Epun39deXweIyEGj0GRHFEJuOnD69HVxdPvr55ct02MwdsSJL4TAkldfxsOsrxtcgzeliDxnRGw1n4q+0vv2gyAwdvQI7ZzAtbYD2W+9L7pQBi8KTnipkfAJptV/9FukwExeBNqxEyfgK3Xq362Lx0Yg0uJoZ8Zgboevz0Z9I4kBWBwCS20MycgXQjC4DNvGQUICYzcQtDL0IUgDC6ki3z2BGxtvoyuL96ELARh8Nn3iwoaEHBz5PtujnzdF4rBfYT4fW4JWFvvlv1s86ECMfjcto/CwgjU21WebU/SYvAwiqjmmcADC0EYfJ4bR23hBCYsBGHwcIQo55zAfQtBGHzOm0Z54QTczMr52CbF/zuCMHg4P5QKCLjNEqc3yW1xtxCEwRU0jRJlBNwO/aPR1c/iz0IQBpexQ62EwN0cOQZX0jDKFBKo6x/VIHuGwYXckOshsJDUrzG4nn5RqYQAT3AJLbTaCPAfXFvHqDeYALMowagQaiPAPLi2jlFvMAFWMoNRIdRIgHdRNHaNmsMI8DZhGCdUCgnwPrjCplFyIAF29ASCQqaNAHsytXWMeoMJsKs+GBVCbQQ4F0Vbx6hXQoCTrSS00OoiwNmEuvpFtQICnC4rgIVUGQHOB1fWMMoNJ8AND+GsUOoiwB09uvpFtQIC3LImgIVUFwHuydTVL6oVEOCmYwEspPoIcFe9vp5RcSAB6UKOLy3HRvgI8fvUCCRjUwxX04OYA2LwmDTJ1ZiA2wm/VebZTuMEEwIxeGyi5JMTsGav6qcb8kB/BAb3M0LRIYHEmMNhnq51NQQG74oseb0E3HTgWZmny15hCwEGbwGP0HYEqjzttcvgj8bgfkYoIhJwT+1L9z12f0uKiGknpvoN3VWGKRAa4NgAAAAASUVORK5CYII=";case"upload":return f;case"usbOff":return p;case"usbOn":return m;case"uparrow":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABHNCSVQICAgIfAhkiAAAAAFzUkdCAK7OHOkAAAAEZ0FNQQAAsY8L/GEFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAANi0lEQVR4Xu2de1xUZRrHn/fMqOQFBFyTLMTA1LyAtWqtmnhps9USrE8qFWAXK10BP4VpmdLF26qLmpLopxSwtCyhVnf7rIKZ2kfNFGx3gYQEEUtTbmqanJl33+c97xxmYAaH4JwZkO8fnDPPGQbOj+e8z/O8Nwi4kICA6ACjUQ4AMwkBiXRWrDQUvxIgXuwQgufMlkMBKpRz8hU/mGkFSDRblo1FRUWbi7jNBeguYK+AiBCzwRgtERjJXgqBGgsKTDKILGecLPooWxh1QXMBmZd1NhjkUAmkMOZFEwkB4WkAHTp4QN+7/aFPH3/w9GzPbUOH9uFHz07toU9ff36el3saqi79ys8PH87jx6qqXyEv7zS7VgKXL1/lNoRSWsm8N8MM5gyTyfgV807hudqgqYBBQZEJQCHWWjQ/Px8YM/YeLtRYdmwK9uw5xoXNyjwOZ89eFFZFTCBkVUFBaoIwNTmaCNgr8Olo9tEL2acH4OvevW+HSZNGwJAhvVWv0gr01iNH8iE9/QDz0BJuY0IWsxtNOFmYtpkbmpAmFTAo6KlQAlIiO+VtGxOOvvZ6BBkyRHks9ebIkTxYsnirKqTSVtK4goItSiBqAppEQAwM1GhIZG0Pj6DduvmYY2PDpbDwYfy6q8lIPwjvvpuhPt5MxH1ENsU1RcBptIDodUCldGzn2rdvR6OnPURmzQoTV90LFDE1ZTdlQQfvu4qCeWJjvbFRAvK2jpBNeB4WNgzmvTZVjabuCkbvpUu2sjbyoGKgdFpj2kaDODYYJt4mJh6PbjNmPgqsrYN27drwa+4M/o6YBbDAAt9+m89ciIT5egf3LCvPyRBvaRAN9kDM64xGUzq2dyyPo/PnP0ncpa1rKNg2Llr0EX+ksV2UZUNYQ/PGBgmIwQKMRnxkQzAJ3rJlruZpidZg2hMZ+Te4xBN1mgOyKbohwcVpAdHz2hjNe9lpCOZ1qWlz3b69cxZsF6Mil4l0h+ZUy4ZQZz1REscbgo8tO7Q48RC8l5TUV1lJeQd7RYLZvTrdHjrlgSJgRHfseAtkZi1vUeJZg544ZnS8UltTSDlZmMoqqvq5oQeKVCUaA0Za2qstVjwE7w3vsUOHW8zMtaKUkrR+6k1jeGlGJHx04a23osjwEQO4vSXT5Q9e0LVrZ5KZeZw9nyTMx2fAvrKyEw77Gx0KiBGXSMYv2akH5nlRUX9WLtwEYGZBWGmFtTR7lMN9vfp/WVbx/c/isg0OH2GsbdlXL6ww3LU005KZzGnCWX7LhPRiWqwS5jrYDSKiV2UvtntZe1eQltzu1QcGldGj4s1XrlyVWN08yl7dbNcDCZV4fRsTE37TiofgvU975iGuEau87HphHQEDAyOj2LsD/Px8aGTUg8J684KPMnbPMQmD7UXlOgIyA+8gQO/jhlYgJjac60SFNtbYCBgUFMm74bEnubl2EGgBBhPUhAWUHnycxwpVQKx1mcRxeI7d8NzYioqqCaVxXCuBKqDRaB6JvcpY67pqDMPClSvXIDl5Jzz6yAIIm7gQduw4IK64DtQEa2VMa3CYVphrEmlf74Fz2dWQ6dPHQ3BIoLDqT3HROUhM/Aw2b/o3lJVVwcWLVXy48uKFShg8uDe0bWsU79Sf6usm2L//e4zIv1k6YFUPpEB4toy9ta4iP78E5szZWNPdbsW2bV/BSy+uhtPF54RFfwYPvosfKVC1suAC8rKNPb446N29uy+/oDdHj/4Azz27Ek6c+FFY6oJd8DExSXBEzE7QGyzxbrvNF4OJF+9cZnABWakShUdXed/2T/Zx8S5cqBIWBfbLQpcuOMeoBvTSWbPWQlaWrlNgVMaMHcSDCTUauRdyAS3juZZ5KXpx+fI1WL78E1iwIAV++61aWBWefe5h2PbxfHj/g5dh0mMjhFUBS6yZM9bAxg27bObF6MHQoX35kYjHmLCQHNDGaD6Fde/R75J0S18wWCQn7+JTMKxp08YIr78eAZOnqIGOR+UtaXtg1aodwlLD44+PgFkx4dgFJSzaM/iPM/lAVLUs9ZSMRlMPNPa921838WqCha14vr6ekPRejI14CA5gvfjSI7B8xQv83JpPP90PcbFJUHL6vLBoj0UrnNsoEZzcyMApZnrwnYNg0a9fAKxLioHhw/sLiy04jjthwlB4b30s+PnZBrrjxwv4yNpRHOfVAWXshMG0k6ikTD3To9fl88+/gWftBAuc5rZy5QsQHHynsDgGc8HNKfFw771KSmHh55/LYPr0RPjii0PCoh1eXh2VE4l0VvNArcH8beXKT+sEi4gnR8PSZc9Bj4BbheXG+Pt3heQNcfDEEzjJtYarV6/D31duZz/LbuexJjABlTnJWkfga0w4s8ksXinBIiEhEt5446k67Zoz4PfEz5kM89n3WyPLJrh6TRavtAHnOSrQUN088K67bofx4+9j0dKbnyex9q52sGgoHTt6wJPMg7HtvPNOP54z/mX8ED6hUy9Ir6DI4+wYkp6eoMs0DYzA3t6eTEjbBLk2+L7c3BJWngPcf3+/G77/l18qobz8Ek++cfxaS3A6SHg49mrRHBSQojE37wM8uAXfHPwvzJv3Ppw/r8yuuOOOrvDOomiX9xJZ07fPM/yo2yPsLFu3ZsHzzyeq4iElJedZ5fEu7Np1WFjcBxSQF5Xolq4Eq40Fb2yGt97cAmZzTbCxgCXbKy8nw4bknbqXb7Wp0YrmSBQo/1Nb1mG4gmKW4syJ3wDbt38tLAo4uF2bxMQdfIZp0Sn9UpXaXBJ/QFw95fJHODu7EGbPXl+ndwW71t5+ZxprC6dCp062QeGzzw7A3Lnvww8/nBEW12Hw8QkJYH/nUIxeevfGHGTBIjZmLZwp+UVYFEIGBcHatX9l0fdufo4VSu7/TvPeaQvnzpVDVmY2DBjQk0dePcnI+EaZ9gEkxWUeiMFiOgsWFRVXhEXhscdGwOrVM6BHD6UywRoYo++aNTN4GWfN+fPlvK7+5ON9wqI/EjErqyCxj00PeLBYYD9YxM2eBHPnTbHbNeXPBMWOhMmTbZNvLA0XLkzhZSJ+th5UVl5WTsy0wuDjO9CDAIlu284IkyYNVy5oRGHhWXjn7Q9h5z9sC/727T1g8ZJnICJiNLRt63imPw4ohY4KBl8fTzhw4D/cOy0cO3YSTp36iVc5Pj6dhFUbNm78J5wtvcieYLpMkmVDMRpZG1Pz22gAeseypR/zhYHWYLBYzzxrwoT7hOXGTI0YBckbZtcRavfuY7yHW2tPtGiFa5UlsVg5m/1QUvvmmpLS0gu8386aQSxAYNfUYLU4d55hw/pB0nux0L8/X8+ogj8Df5ZW4MRL7I3GHBC140GE5YJ82pZlLa4WYB9az57dxCvg4xyrWLDw93e+G6s2GJ1XrHgBJk78k7BgV9etNf11GnD4cC4/mqmycp5nqmL9x3F8nLL2rkCTJqB3fP3199CrV3cYOXLg7+rGsgcOTn35ryNwhnleaGgwhGg4MWDM6Hh69uxFwp7fQbieRE31gwIjy3FseE/mcpeNDbs7pSxwjB0Tj8GrsqAwjacKah5IgPKpCpkatoPNHZxigrCsRV1HogpIiWLcsWM/f91KXSza4H4M/IShCijL0j6WVlXk558RZUor1qAmuBQMH1/czEKYawTka8MI8HnAixd9pGlO2BxZsnirogkhq6zX0akCIgUFqW+ynKaIeSHBpaCtKOBsMeZ9hHlfce0dQGwERFh1yt+wZk16qxcK1qxO50U7S1nqnyONFBampqAX/vRTGUlN2S2sNy9pqXtw0F5C77O3NUAdARFKzNPwiF6oVy+NO4L3vlp4HxBqd+GhXQFxRQ6Wd1gf474rNys4dKCsUqL7HO3u4XCxoa9n/xyQDFPz8k57YLeR3r3Vrmbdui9wixSethCTaYqjxYYOBcRv8PYekEcImYJTa2/v3qXZ74/gLJiBqE8eoQ8X/PihwxlL9a4XLi8/kefbORjzw3GHDuXSBx4YQHA9bUsGhyxnz15Pr1+XWXVLpxUUblGrDnuonQn10brk3zF2g0htWPjGqJyNHxz59FLdxk/0BO8Jd+7Ae8Sg4Yx4iFMCItWyNEpUKS1ORIt4otYtxg14xKUb4rSAvP4zyeEWEUePesXl00GaAryHsWPmqOKxiNug3YvqDSK1wcjs6TUoxSDRcdXVcredOw9R3KChuUZnjLYYMHCMAx9b2WQI/bEoDceInKZBAiIVFdnXyspykn29BwZUV5sG4SBLc8wTcSu8pUu2gRJtIaWgMC0M701cdpoGC2ihrPzE5z6dB1ayPHEc5omlZy7wGQTuvoMbtndvJqTyGpejbH9Xp5PAWZxKY+ojMPCpMALSJhxP6dDBg+JKd3fdKgArC+Z5/JFlL12/AaMFHNWz3gIU91tAIVu3AG0gfLsU3PHDavde3JjRVVNza29Ci1EWe1Ua63XWNKmAFpTdLepug4yrQbUeMsWhRxxZbJbbINemvo24H3zwnibzTMtG3Huzsm2mdTDhmudG3NbgBg2N3Qoevaq0VJmEiVu/V1Zd4dEUt4LPzzsjdp9UQNFw3LZFbAVvDww4WvwzApyrIpnkzS3unxHUB65VdvjvMCjpYWlDlcYfeIVAKclmXlzhHv8OA+D/CfEO6KUTeacAAAAASUVORK5CYII=";case"code":return g;case"saveButton":return v;case"downIcon":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABO0lEQVR4nO2W3WqDQBCFtw/YSoKQPnyhIU0eIIEz4pVFyEXSbsy6O38t84F3O3I+dPSkFARBEFgDYEtEX0T0AeA1OQPAGxF9EtEJQJ89NE3TC4ADEeF6nR8eNgBAP2e6yXecM2cPD8OwvznoRga/JTBnXRrofg5YyyAjcc3UPRvcZAYv4zi+q6W/39lcll0qwYMMWiU8yIBLwlIG3BIWMpCS0JQRl9CQUZOQlFGXkJCRXOxtSWlc+NsWN4Cae0CiNLbIVEr0YqWRKVDVzMBdGtcEYxbvHorULnPJTM1iw6I0Ls2YSEi8Bhp7pPVk9J+EsIyNBLOMrQSTjA+J1g+A6mL/q9KoKWMuwSHjRqLxA+BLokbGrYR0aTSBuzSawlUaXdBaGl1RWxpdsrY0ugaFpfFPgCelMQiCIK3hG9U8gR9E+UH4AAAAAElFTkSuQmCC";case"addButton":return _;case"crossButton":return b;case"clipBord":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsElEQVR4nO2XUQrDIAxA35d3Wnu+td219Cp113AULEjRUYM6HD4IiMU8miBEyEcBL+ANWGD1e9XZAHeJpYXYetkEzH597BVBBeV0iZgDcSxEbdi+JMyNRVLOR+RbSnBlkrTBJZIdmIhUC/KUOZBgiPsqtblxdcyvxLqGWELfYnOzr83EurZYQt9iM+7x3/dYQnYeG0ySUs5BcM85tBYc9p45YuXl559LYvfSJq+MASk+yTjg6oeW7+YAAAAASUVORK5CYII=";case"clipBordCopyed":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR4nO3WvUoDQRQF4E9kURMiptHGylJI3iZFioAo2uoTBOzURgWbtGJjq6CojT+Ndj6OpQRuscgq2c1uQJIDB2bv3J1z5+wwe/lnqGMPu6hNSnQO99jGDu7K3tEJBhm8winawbOIZeUex1ojo4s+NlI8j/hw3EQSbEasGznpd/oRHxlbwSS1swNcxLfN4nBuP5WfpNYpJNyKhZbQ+UO4EzmtMoRr6MmPXhQx1o7bBYRLszovpsPqeaxN2uoE17iZpNULIfiJ1Sqs3sTKj7xhYQ/4iBtMFVZf4h3L8dzAC15TMVVYvYhHvGE9inj65SdQ+qmu4RlfuI1islDJqW7gMOam+wJJY3ZXj9WB1HKOS+1AWjnGhYS7Gc1eEeZu9urRmg7G5FHe9nYGZeMbtchiR3MZ6BsAAAAASUVORK5CYII=";case"exportButton":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVR4nO2Wu0pDQRCG0wQvhaLgG4gP4BNYCnkA7aIkOzFgCisrr402FgHRmQSxj+IFLHyAiFpZWBnS+RAiRn45F6IxZzd78GwaszDV2bP/tzP/7G4q5WBAKA2hWhhpFxpmcaYLCCGMG5RLQ6l+DAQ7v/wh3l8ICM1C1GcEAMKsuC8HRC2CqRUJ0b9MqHgQEBqF0C6EmpE/MpXMgjQOoQxEFcC07ofQgwagsxzwxJnutZP9UNuRwseFOTDdgund/L8BAsHOEQcA1dwkRF3FFu2OmgfQjAOAam4aohoJiIcArDVLlwdwVJxIUDwwIyI+as3GdK0BbEHUI5jOIeoQovYh6tnWhLAB8A3XXZo6mBa8zPzqiqz1gQRbAM/t34u8gmk+cl4lvxTrNIQFgN/n7VZTdZwsTyV2FMMOIBMu8oRyaSxK3HgZme4B2AAwEZjeUMnP6MS1EL0uIVhlQK1CaK+XeCeEOrN6kCBGGzoZcAAAoWL7Ugpipd8AsF4TAwAZlID+uwnZ4kHy51AfJtqmcwCmF1MGdtxngDb0AAdrI2C6c5j+Ok6zw2bTBBBb/oMzCU8Eb8QGRG32Ev8CBFDb91VmQvgAAAAASUVORK5CYII=";case"threeDonMenu":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtUlEQVRYhe2WwQmDQBBF5+AxqUTTgLYRJJ1ItAg1ZwtSrCOWoMdkBkYU3ZOHvyHOgwfiZR4uuyuRYRynYAf1iR7+YD8bU2RA4whokAG5IwC6DFe2Ww1v2QsyQAjYhI312TgfN7ZWIx/DJ1p2wYSOeNH+HKiQAbUjoEQGyOdeL8HIhsiAOaJS4cONn2C+jBLycBnJddzTsgs6fQejoP05kCMDvP+SpY6AOzJAkH/At5qhhxv/wxej/0EVxprmrwAAAABJRU5ErkJggg==";case"editPencil":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAByUlEQVRIicWVS0vDQBDHA6Io0jxKm93Umpm0olgQhYKevPop9OChB/0E4lEP6kF6sN7Em3dR9Fv4QBC8aLUqgooUrEets0koaVq1JC0OLCT7+P1ndmZ3JSm8dWl6akwzUmYbWPWmMNNSGZ6pHKtu25GkbHfb4AqDWxJ4Vbk1S98rJPClcNiXMpmecPAETCgMywQtK4aZrfUbmCORTxo7lgB6w3j+4HiL1/26xbzjKodFd2wvKPxOZfCisNQ8bcc7fV/FYqZRPw9WRU4iCRwJBFfjOG57a1jTzUQIPicEZGZNBobXYD4RMS4ST3m4bKmiFN1M/QRvEOFY1Bi+0f4/RhLW8J9wWgDUblSxyFstHNc0Dgs+R3JumVaiHEYDw+k/bx8qhpu1PntbROLhOTqAU8HhHNZdeL4BzvEpnOf/BmdwL8fTQ63Cix2Bu3Ve8pciwTdCw20BjgU6GB/+OpcNnBEiTeAlOT6YbgnuRIBH5OXJb3MCw50I4MK+xzsBtwHO8S50BM4Y6xeJ1BgstR0uTFxK7nu6q+qwTPnYpu06oKhOKaqKuOjEhRcILkw8f55Hu+qcTDindkhtiwQwMNwrIiJJJpN9oWE++wZhja50AcBFawAAAABJRU5ErkJggg==";case"fileIcon":return y;default:return""}}},835:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var r=i(2791),n=i(2651),s=(i(5587),i(6049)),o=i(2941),a=i(7743),l=i(6695),c=i(184);const h=e=>{const{sidebar_filesName:t,isNewUi:i}=(0,r.useContext)(l.Z),[h,u]=(0,r.useState)(""),d=new URLSearchParams(window.location.search);["peeCee","zing","crawlee","klaw","moki"].includes(d.get("device"))&&d.get("device");return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:s.Z.container,children:(0,c.jsxs)("div",{className:s.Z.box,style:{width:"350px",minHeight:"155px"},children:[(0,c.jsx)("img",{className:s.Z.closeBtn,style:{width:"3rem",top:"-46px"},src:o,alt:"close",onClick:()=>{e.setFilePopUp(!1)}}),(0,c.jsx)("input",{placeholder:"Enter the ".concat(i?"folder":"file"," name"),style:{width:"14vw",height:"4.5vh",backgroundColor:"lightgrey",textAlign:"center",position:"absolute",borderRadius:"5px",border:"none",top:"46%",left:"50%",transform:"translate(-50%,-50%)"},type:"text",value:h,autoFocus:!0,onChange:e=>{u("".concat(e.target.value))}})," ",(0,c.jsx)("br",{}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:(0,c.jsx)("img",{onClick:()=>{e.setFilePopUp(!1),(()=>{if(i){const e=JSON.stringify({...t}),i=new Blob([e],{type:"text/plain"});0!==h.length&&(0,n.saveAs)(i,"".concat(h,".txt"))}else{const t=e.code,i=new Blob([t],{type:"text/plain"});0!==h.length&&(0,n.saveAs)(i,"".concat(h,".py"))}})()},alt:"save",src:a,width:"30%"})})]})})})}},9173:(e,t,i)=>{"use strict";i(2791),i(6690),i(184)},129:(e,t,i)=>{"use strict";i.d(t,{Cs:()=>a,Cx:()=>s,Kf:()=>n,PT:()=>h,Ti:()=>l,Y9:()=>o,aJ:()=>c});const r={input:{label:"Input",menu:{inbuild:{label:"Inbuild",menu:{battery:{label:"Battery percentage"},accelerometer_and_gyrometer:{label:"accelerometer & gyrometer"},RGB_Ultrasonic:{label:"Read RGB Ultrasonic"}}},external:{label:"External",menu:{GPIO_read:{label:"Read from GPIO"},ADC_read:{label:"ADC reading value"}}}}},output:{label:"Output",menu:{inbuild:{label:"Inbuild",menu:{RGB_LEDS_inbuild:{label:"Inbuild RGB LEDS"}}},external:{label:"External",menu:{led_blink:{label:"Led blinking"},pwm:{label:"PWM output"},serial_servo:{label:"Serial servo"}}}}}},n={PEECEE_dropdown_menu:{input:{label:"Input",menu:{inbuild:{label:"Inbuild",menu:{temperature:{label:"Read temperature"},mic:{label:"Read mic"},touch:{label:"Read touch"},color_sensor:{label:"Read color value"},light_sensor:{label:"Read light value"},proximity_sensor:{label:"Read Distance"},gesture_sensor:{label:"Read gesture"},battery:{label:"Battery percentage"},accelerometer_and_gyrometer:{label:"accelerometer & gyrometer"}}},external:{label:"External",menu:{GPIO_read:{label:"Read from GPIO"},ADC_rea:{label:"ADC reading value"}}}}},output:{label:"Output",menu:{inbuild:{label:"Inbuild",menu:{RGB_LEDS_eye:{label:"RGB LED eye"},smile_LED:{label:"Smile LED"},buzzer:{label:"Buzzer tone"}}},external:{label:"External",menu:{led_blink:{label:"Led blinking"},pwm:{label:"PWM output"},oled:{label:"OLED display"},rgb:{label:"External RGB LED"}}}}}},ZING_dropdown_menu:r,CRAWLEE_dropdown_menu:r,KLAW_dropdown_menu:{input:{label:"Input",menu:{inbuild:{label:"Inbuild",menu:{klaw_switch:{label:"Read klaw switch"},klaw_pot:{label:"Read potentiometer"}}},external:{label:"External",menu:{ultrasonic:{label:"Read ultrasonic"},GPIO_read:{label:"Read from GPIO"},ADC_read:{label:"ADC reading value"}}}}},output:{label:"Output",menu:{inbuild:{label:"Inbuild",menu:{}},external:{label:"External",menu:{led_blink:{label:"Led blinking"},pwm:{label:"PWM output"},klaw_servo:{label:"Klaw servo"},oled:{label:"OLED display"}}}}}},MOKI_dropdown_menu:{input:{label:"Input",menu:{inbuild:{label:"Inbuild",menu:{moki_switch:{label:"Read moki switch"}}},external:{label:"External",menu:{ultrasonic:{label:"Read ultrasonic"},GPIO_read:{label:"Read from GPIO"},ADC_read:{label:"ADC reading value"}}}}},output:{label:"Output",menu:{inbuild:{label:"Inbuild",menu:{}},external:{label:"External",menu:{led_blink:{label:"Led blinking"},pwm:{label:"PWM output"},oled:{label:"OLED display"}}}}}}},s={GPIO_read:"from playcomputer import *\nfrom machine import Pin\nfrom time import sleep\nA1=Pin(PORT_A1,Pin.IN)\n\nwhile True:\n    A1_val=A1.value()\n    sleep(1)\n    print(A1_val)",ADC_rea:"from playcomputer import PORT_A1, Pin , ADC\nfrom time import sleep\npot = ADC(Pin(PORT_A1))\npot.atten(ADC.ATTN_11DB)       #Full range: 3.3v\n\nwhile True:\n    pot_value = pot.read()\n    print(pot_value)\n    sleep(0.1)",temperature:"from playcomputer import *\nfrom time import sleep\n\ntemp = ADC(Pin(TEMP_PIN))\ntemp.atten(ADC.ATTN_11DB)\n\nwhile True:\n    t = temp.read()\n    print(t)\n    sleep(1)",mic:'from playcomputer import Mic\nmic = Mic()\nwhile True:\n   val = mic.read()\n   print(f"Sound : {val}")',touch:'from playcomputer import TouchPad, Pin ,  PORT_T0, PORT_T1, PORT_T2, PORT_T3\n\nt0 = TouchPad(Pin(PORT_T0))\nt1 = TouchPad(Pin(PORT_T1))\nt2 = TouchPad(Pin(PORT_T2))\nt3 = TouchPad(Pin(PORT_T3))\n\nwhile True:\n   t0_val = t0.read()\n   t1_val = t1.read()\n   t2_val = t2.read()\n   t3_val = t3.read()\n   print(f"Touch 0 : {t0_val}")\n   print(f"Touch 1 : {t1_val}")\n   print(f"Touch 2 : {t2_val}")\n   print(f"Touch 3 : {t3_val}")',color_sensor:'from playcomputer import Apds\nfrom time import sleep\n\napds = Apds()\napds.enable_color_sensor()\n\nwhile True:\n  red = apds.read_color_red()\n  green = apds.read_color_green()\n  blue = apds.read_color_blue()\n  print(f"RED {red} GREEN {green} BLUE {blue}")',light_sensor:"from playcomputer import Apds\nfrom time import sleep\n\napds = Apds()\napds.enable_light_sensor()\n   \nwhile True:\n    l = apds.read_light()\n    print(l)\n    sleep(1)",gesture_sensor:"from playcomputer import Apds\nfrom time import sleep\n\napds = Apds()\napds.enable_gesture_sensor()\n   \nwhile True:\n    g = apds.read_gesture()\n    print(g)\n    sleep(1)",proximity_sensor:"from playcomputer import *\nfrom time import sleep\n\napds = Apds()\napds.enable_proximity_sensor()\n   \nwhile True:\n    p = apds.read_proximity()\n    print(p)\n    sleep(1)",battery:"from playcomputer import *\nfrom time import sleep\n   \nbat = Battery()\n\nwhile True:\n    b = bat.get_level()\n    print(b)\n    sleep(1)",accelerometer_and_gyrometer:'from playcomputer import Qmi8658\nqmi8658=Qmi8658()\n\nwhile True:\n    xyz=qmi8658.read_xyz()\n    print(f"ACC_X={xyz[0]}")\n    print(f"ACC_Y={xyz[1]}")\n    print(f"ACC_Z={xyz[2]}")\n\n    print(f"GYRO_X={xyz[3]}")\n    print(f"GYRO_Y={xyz[4]}")\n    print(f"GYRO_Z={xyz[5]}")\n',led_blink:"from playcomputer import PORT_A1, Pin\nfrom time import sleep\n\nport = Pin(PORT_A1, Pin.OUT)\n\nwhile True:\n   port.value(1)\n   sleep(1)\n   port.value(0)\n   sleep(1)\n    ",pwm:"import playcomputer\nfrom machine import PWM\n            \npwm = PWM(playcomputer.PORT_A1 )  # PORT_A1: Here, 'A1' indicates the  port, based on what you used.\n                                                   \npwm.duty_u16(32768)     # set duty (32768)  to 50% meens it glow 50% brightness.",RGB_LEDS_eye:"from playcomputer import RgbEyes\n\neyes = RgbEyes()\neyes.set_pixels(num =1, red =255, blue =255, green =255)\neyes.update_pixels()",smile_LED:"from playcomputer import SmileLed\nfrom time import sleep\nsmile = SmileLed()\n\nwhile True:\n    smile.on(1)\n    smile.on(2)\n    smile.on(3)\n    smile.on(4)\n    sleep(1)\n\n    smile.off(1)\n    smile.off(2)\n    smile.off(3)\n    smile.off(4)\n    sleep(1)",buzzer:"from playcomputer import Buzzer\nbuzzer = Buzzer()\n\nbuzzer.start()\nbuzzer.set_freq(1000)\nbuzzer.stop()",oled:"from playcomputer import Oled\noled=Oled()\n\n# connect the oled in B port.\n\n# set_text('string', x_coordinate, y_coordinate) is a method that takes 3 arguments:\n# 1st argument: The string to be displayed, maximum string length is 16.\n# 2nd argument: The X-coordinate on the OLED display where the string will be shown.\n# 3rd argument: The Y-coordinate on the OLED display where the string will be shown.\n\n# The valid range for the X-coordinate is from 0 to 128.\n# The valid range for the Y-coordinate is from 0 to 64.\n\nwhile True:\n    oled.set_text(\"Free the MALLOCS !!!!\", 10, 20)\n    oled.show()",rgb:"import playcomputer\nimport machine, neopixel\nnp = neopixel.NeoPixel(machine.Pin(playcomputer.PORT_B1), 10)\n\n# rgb are connect at \"B\" port.\n# np[0]: Here, '[0]' indicates the  rgb number 0.\n\nnp[0] = (255, 0, 0) # set to red, full brightness\nnp[1] = (0, 128, 0) # set to green, half brightness\nnp.write()"},o={GPIO_read:"import zing\nfrom machine import Pin\nfrom time import sleep\n\nPA1 = Pin(zing.PORT_A1, Pin.IN)\n\nwhile True:\n   print(PA1.value())\n   sleep(1)",ADC_read:"import zing\nfrom machine import ADC, Pin\nfrom time import sleep\n\nPA1 = ADC(Pin(zing.PORT_A1))\n\nwhile True:\n   print(PA1.read())\n   sleep(1)",battery:"from zing import battery\n\nbat = battery()\n\nwhile True:\n   val = bat.get_level()\n   print(val)",accelerometer_and_gyrometer:'from zing import IMU\n\nimu = IMU()\n\nwhile True:\n   acc = imu.get_acc()\n   gyro = imu.get_acc()\n   print(f"ACC_X={acc[0]}")\n   print(f"ACC_Y={acc[1]}")\n   print(f"ACC_Z={acc[2]}")\n\n   print(f"GYRO_X={gyro[0]}")\n   print(f"GYRO_Y={gyro[1]}")\n   print(f"GYRO_Z={gyro[2]}")\n',RGB_Ultrasonic:"from zing import RGB_Ultrasonic\n\nus = RGB_Ultrasonic()\n\nwhile True:\n  id = 1\n  dis = us.distance_cm() #reading the distance in cm\n  print(dis)\n  us.rgb_set_color(255,0,0) #seting the rgbof ultrasonic\n",led_blink:"import zing\nfrom time import sleep\nfrom machine import Pin\n\nPA1 = Pin(zing.PORT_A1, Pin.OUT)\n\nwhile True:\n   PA1.value(1)\n   sleep(1)\n   PA1.value(0)\n   sleep(1)\n    ",pwm:"import zing\nfrom machine import PWM\n        \npwm = PWM(zing.PORT_A1 )  # PORT_A1: Here, 'A1' indicates the  port, based on what you used.\n                                               \npwm.duty_u16(32768)     # set duty (32768)  to 50% meens it glow 50% brightness.",RGB_LEDS_inbuild:"from zing import rgb_led\n\nled = rgb_led()\nled.set_pixels(1,255,0,0)\nled.update_pixels()",serial_servo:"from zing import SerialServo\nfrom time import sleep\n\nservo = SerialServo()\n\nwhile True:\n   servo.angle_adjust(1,100) # here 1st argument 1 is the servo id, and 2nd argument is the servo angel.\n   sleep(1)\n   servo.angle_adjust(1,1024)\n   sleep(1)"},a={GPIO_read:"import crawlee\nfrom machine import Pin\nfrom time import sleep\n\nPA1 = Pin(crawlee.PORT_A1, Pin.IN)\n\nwhile True:\n   print(PA1.value())\n   sleep(1)",ADC_read:"import crawlee\nfrom machine import ADC, Pin\nfrom time import sleep\n\nPA1 = ADC(Pin(crawlee.PORT_A1))\n\nwhile True:\n   print(PA1.read())\n   sleep(1)",battery:"from crawlee import battery\n\nbat = battery()\n\nwhile True:\n   val = bat.get_level()\n   print(val)",accelerometer_and_gyrometer:'from crawlee import IMU\n\nimu = IMU()\n\nwhile True:\n   acc = imu.get_acc()\n   gyro = imu.get_acc()\n   print(f"ACC_X={acc[0]}")\n   print(f"ACC_Y={acc[1]}")\n   print(f"ACC_Z={acc[2]}")\n\n   print(f"GYRO_X={gyro[0]}")\n   print(f"GYRO_Y={gyro[1]}")\n   print(f"GYRO_Z={gyro[2]}")\n',RGB_Ultrasonic:"from crawlee import RGB_Ultrasonic\n\nus = RGB_Ultrasonic()\n\nwhile True:\n  id = 1\n  dis = us.distance_cm() #reading the distance in cm\n  print(dis)\n  us.rgb_set_color(255,0,0) #seting the rgbof ultrasonic\n",led_blink:"import crawlee\nfrom time import sleep\nfrom machine import Pin\n\nPA1 = Pin(crawlee.PORT_A1, Pin.OUT)\n\nwhile True:\n   PA1.value(1)\n   sleep(1)\n   PA1.value(0)\n   sleep(1)\n    ",pwm:"import crawlee\nfrom machine import PWM\n    \npwm = PWM(crawlee.PORT_A1 )  # PORT_A1: Here, 'A1' indicates the  port, based on what you used.\n                                           \npwm.duty_u16(32768)     # set duty (32768)  to 50% meens it glow 50% brightness.",RGB_LEDS_inbuild:"from crawlee import rgb_led\n\nled = rgb_led()\nled.set_pixels(1,255,0,0)\nled.update_pixels()",serial_servo:"from crawlee import SerialServo\nfrom time import sleep\n\nservo = SerialServo()\n\nwhile True:\n   servo.angle_adjust(1,100) # here 1st argument 1 is the servo id, and 2nd argument is the servo angel.\n   sleep(1)\n   servo.angle_adjust(1,1024)\n   sleep(1)"},l={GPIO_read:"import klaw\nfrom machine import Pin\nfrom time import sleep\n\nPA1 = Pin(klaw.PORT_A1, Pin.IN)\n\nwhile True:\n   print(PA1.value())\n   sleep(1)",ADC_read:"import klaw\nfrom machine import ADC, Pin\nfrom time import sleep\n\nPA1 = ADC(Pin(klaw.PORT_A1))\n\nwhile True:\n   print(PA1.read())\n   sleep(1)",klaw_pot:"import klaw\nfrom machine import ADC, Pin\nfrom time import sleep\n\npot1 = ADC(Pin(klaw.PORT_JY1)) # PORT_JY1: Here, '1' indicates the  potentiometer number, based on what you read.\n\nwhile True:\n  print(pot1.read())\n  sleep(1)",klaw_switch:"import klaw\nfrom machine import Pin\nfrom time import sleep\n   \nswitch1 = Pin(klaw.PORT_SWITCH1, Pin.IN)  # PORT_SWITCH1: Here, '1' indicates the switch number, based on what you read.\n   \nwhile True:\n  print(switch1.value())\n  sleep(1)",ultrasonic:"from klaw import UltraSonic\nfrom time import sleep\nul=UltraSonic()\n\n# Ultrasonic sensor connect to the A port\n\nwhile True:\n    print(ul.read())\n    sleep(1)\n  ",led_blink:"import klaw\nfrom time import sleep\nfrom machine import Pin\n\nPA1 = Pin(klaw.PORT_A1, Pin.OUT)\n\nwhile True:\n   PA1.value(1)\n   sleep(1)\n   PA1.value(0)\n   sleep(1)\n    ",pwm:"import klaw\nfrom machine import PWM\n\npwm = PWM(klaw.PORT_A1 )  # PORT_A1: Here, 'A1' indicates the  port, based on what you used.\n            \n# The value passed to duty_u16() determines how bright the LED will glow.\n# It accepts values from 0 (LED completely off) to 65535 (LED fully on).\n\npwm.duty_u16(32768)     # 32768 is roughly half of 65535, which makes the LED glow at 50% brightness.",klaw_servo:'import klaw\nfrom machine import Pin, PWM\nimport time\n\n# Initialize servo on PORT_MOTOR1 (modify if your setup differs)\nservo = PWM(Pin(klaw.PORT_MOTOR1))\nservo.freq(50)  # Standard frequency for servos (50Hz)\n\n\n# ------------------------------------------------------------------------------\n# Function: move_servo(angle)\n# Purpose:  Rotates a servo motor connected to a PWM pin to a specific angle.\n#\n# Parameters:\n#   angle (int or float): Desired servo angle between 0 (left) and 180 (right).\n#\n# How it works:\n#   - Converts the input angle to a pulse width between 0.5ms and 2.5ms,\n#     which is the typical control signal range for standard servo motors.\n#   - Converts the pulse width into a 16-bit duty cycle (0 to 65535)\n#     based on a 20ms PWM period (50Hz).\n#   - Sends the calculated duty cycle to the servo via PWM to rotate it\n#     to the desired angle.\n#\n# Example:\n#   move_servo(90)  # Rotates the servo to 90 degrees (centre position)\n# ------------------------------------------------------------------------------\ndef move_servo(angle):\n    """\n    Move the servo to a specific angle (0 to 180).\n    """\n    min_pulse = 0.5  # milliseconds\n    max_pulse = 2.5  # milliseconds\n    pulse = min_pulse + (angle / 180) * (max_pulse - min_pulse)\n    duty = int((pulse / 20) * 65535)  # Convert to 16-bit duty for 20ms period\n    servo.duty_u16(duty)\n\ntry:\n    while True:\n        # Swap from 0 to 180 degrees\n        # Swap from 0 to 180 degrees (change 0 and 180 to desired start and end angles)\n        # To change the Swap range to 0 to 150 degrees, modify the range below.\n        for angle in range(0, 181, 10):  # Change 151 to your desired maximum angle (e.g., 150)\n            move_servo(angle)\n            time.sleep(0.1)\n\n        # Swap back to 0 degrees (change 0 and 150 to match the new angles)\n        # To change the Swap back to a different angle, modify the range below as well.\n        for angle in range(180, -1, -10):  # Change 150 to your new end angle (e.g., 150)\n            move_servo(angle)\n            time.sleep(0.1)\n\nexcept KeyboardInterrupt:\n    servo.deinit()  # Stop PWM if interrupted',oled:"from klaw import Oled\noled=Oled()\n   \n# connect the oled in B port.\n\n# set_text('string', x_coordinate, y_coordinate) is a method that takes 3 arguments:\n# 1st argument: The string to be displayed, maximum string length is 16.\n# 2nd argument: The X-coordinate on the OLED display where the string will be shown.\n# 3rd argument: The Y-coordinate on the OLED display where the string will be shown.\n\n# The valid range for the X-coordinate is from 0 to 128.\n# The valid range for the Y-coordinate is from 0 to 64.\n\nwhile True:\n    oled.set_text(\"Free the MALLOCS !!!!\", 10, 20)\n    oled.show()"},c={GPIO_read:"import moki\nfrom machine import Pin\nfrom time import sleep\n\nPA1 = Pin(moki.PORT_A1, Pin.IN)\n\nwhile True:\n   print(PA1.value())\n   sleep(1)",ADC_read:"import moki\nfrom machine import ADC, Pin\nfrom time import sleep\n\nPA1 = ADC(Pin(moki.PORT_A1))\n\nwhile True:\n   print(PA1.read())\n   sleep(1)",moki_switch:"import moki\nfrom machine import Pin\nfrom time import sleep\n   \nswitch1 = Pin(moki.PORT_SW1, Pin.IN)  # PORT_SW1: Here, '1' indicates the switch number, based on what you read.\n   \nwhile True:\n  print(switch1.value())\n  sleep(1)",ultrasonic:"from moki import UltraSonic\nfrom time import sleep\nul=UltraSonic()\n\n# Ultrasonic sensor connect to the A poart\n\nwhile True:\n    print(ul.read())\n    sleep(1)\n  ",led_blink:"import moki\nfrom time import sleep\nfrom machine import Pin\n\nPA1 = Pin(moki.PORT_A1, Pin.OUT)\n\nwhile True:\n   PA1.value(1)\n   sleep(1)\n   PA1.value(0)\n   sleep(1)\n    ",oled:"from moki import Oled\noled=Oled()\n   \n# connect the oled in B port.\n\n# set_text('string', x_coordinate, y_coordinate) is a method that takes 3 arguments:\n# 1st argument: The string to be displayed, maximum string length is 16.\n# 2nd argument: The X-coordinate on the OLED display where the string will be shown.\n# 3rd argument: The Y-coordinate on the OLED display where the string will be shown.\n\n# The valid range for the X-coordinate is from 0 to 128.\n# The valid range for the Y-coordinate is from 0 to 64.\n\nwhile True:\n    oled.set_text(\"Free the MALLOCS !!!!\", 10, 20)\n    oled.show()",pwm:"import moki\nfrom machine import PWM\n\npwm = PWM(moki.PORT_A1 )  # PORT_A1: Here, 'A1' indicates the  port, based on what you used.\n                                       \npwm.duty_u16(32768)     # set duty (32768)  to 50% meens it glow 50% brightness."},h={sampleRef:["droDownInner","inputRef1","inbuiltRef1","externalRef1","outputRef1","outputInbuiltRef1","outputExternalRef1","inputRef2","inbuiltRef2","externalRef2","outputRef2","outputInbuiltRef2","outputExternalRef2"],mainRef1:["inputRef1","inbuiltRef1","externalRef1","outputRef1","outputInbuiltRef1","outputExternalRef1"],inputRef1:["inbuiltRef1","externalRef1"],outputRef1:["outputInbuiltRef1","outputExternalRef1"],mainRef2:["inputRef2","inbuiltRef2","externalRef2","outputRef2","outputInbuiltRef2","outputExternalRef2"],inputRef2:["inbuiltRef2","externalRef2"],outputRef2:["outputInbuiltRef2","outputExternalRef2"]}},6695:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});const r=(0,i(2791).createContext)()},8595:(e,t,i)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}i.d(t,{ZP:()=>zi});var n=i(2791),s=i(6580),o=i(7184),a=i(1450),l=i(4499);function c(e,t){return i=>{let{state:r,dispatch:n}=i;if(r.readOnly)return!1;let s=e(t,r);return!!s&&(n(r.update(s)),!0)}}const h=c(g,0),u=c(m,0),d=c(((e,t)=>m(e,t,function(e){let t=[];for(let i of e.selection.ranges){let r=e.doc.lineAt(i.from),n=i.to<=r.to?r:e.doc.lineAt(i.to),s=t.length-1;s>=0&&t[s].to>r.from?t[s].to=n.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:n.to})}return t}(t))),0);function f(e,t){let i=e.languageDataAt("commentTokens",t);return i.length?i[0]:{}}const p=50;function m(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,r=i.map((e=>f(t,e.from).block));if(!r.every((e=>e)))return null;let n=i.map(((e,i)=>function(e,t,i,r){let n,s,{open:o,close:a}=t,l=e.sliceDoc(i-p,i),c=e.sliceDoc(r,r+p),h=/\s*$/.exec(l)[0].length,u=/^\s*/.exec(c)[0].length,d=l.length-h;if(l.slice(d-o.length,d)==o&&c.slice(u,u+a.length)==a)return{open:{pos:i-h,margin:h&&1},close:{pos:r+u,margin:u&&1}};r-i<=2*p?n=s=e.sliceDoc(i,r):(n=e.sliceDoc(i,i+p),s=e.sliceDoc(r-p,r));let f=/^\s*/.exec(n)[0].length,m=/\s*$/.exec(s)[0].length,g=s.length-m-a.length;return n.slice(f,f+o.length)==o&&s.slice(g,g+a.length)==a?{open:{pos:i+f+o.length,margin:/\s/.test(n.charAt(f+o.length))?1:0},close:{pos:r-m-a.length,margin:/\s/.test(s.charAt(g-1))?1:0}}:null}(t,r[i],e.from,e.to)));if(2!=e&&!n.every((e=>e)))return{changes:t.changes(i.map(((e,t)=>n[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}])))};if(1!=e&&n.some((e=>e))){let e=[];for(let t,i=0;i<n.length;i++)if(t=n[i]){let n=r[i],{open:s,close:o}=t;e.push({from:s.pos-n.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+n.close.length})}return{changes:e}}return null}function g(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,r=[],n=-1;for(let{from:s,to:o}of i){let e=r.length,i=1e9,a=f(t,s).line;if(a){for(let e=s;e<=o;){let l=t.doc.lineAt(e);if(l.from>n&&(s==o||o>l.from)){n=l.from;let e=/^\s*/.exec(l.text)[0].length,t=e==l.length,s=l.text.slice(e,e+a.length)==a?e:-1;e<l.text.length&&e<i&&(i=e),r.push({line:l,comment:s,token:a,indent:e,empty:t,single:!1})}e=l.to+1}if(i<1e9)for(let t=e;t<r.length;t++)r[t].indent<r[t].line.text.length&&(r[t].indent=i);r.length==e+1&&(r[e].single=!0)}}if(2!=e&&r.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:n,indent:s,empty:o,single:a}of r)!a&&o||e.push({from:t.from+s,insert:n+" "});let i=t.changes(e);return{changes:i,selection:t.selection.map(i,1)}}if(1!=e&&r.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:i,token:n}of r)if(i>=0){let r=t.from+i,s=r+n.length;" "==t.text[s-t.from]&&s++,e.push({from:r,to:s})}return{changes:e}}return null}const v=s.q6.define(),_=s.q6.define(),b=s.r$.define(),y=s.r$.define({combine:e=>(0,s.BO)(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,r)=>e(i,r)||t(i,r)})});const O=s.QQ.define({create:()=>N.empty,update(e,t){let i=t.state.facet(y),r=t.annotation(v);if(r){let n=t.docChanged?s.jT.single(function(e){let t=0;return e.iterChangedRanges(((e,i)=>t=i)),t}(t.changes)):void 0,o=E.fromTransaction(t,n),a=r.side,l=0==a?e.undone:e.done;return l=o?T(l,l.length,i.minDepth,o):D(l,t.startState.selection),new N(0==a?r.rest:l,0==a?l:r.rest)}let n=t.annotation(_);if("full"!=n&&"before"!=n||(e=e.isolate()),!1===t.annotation(s.YW.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let o=E.fromTransaction(t),a=t.annotation(s.YW.time),l=t.annotation(s.YW.userEvent);return o?e=e.addChanges(o,a,l,i,t):t.selection&&(e=e.addSelection(t.startState.selection,a,l,i.newGroupDelay)),"full"!=n&&"after"!=n||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new N(e.done.map(E.fromJSON),e.undone.map(E.fromJSON))});function w(e,t){return function(i){let{state:r,dispatch:n}=i;if(!t&&r.readOnly)return!1;let s=r.field(O,!1);if(!s)return!1;let o=s.pop(e,r,t);return!!o&&(n(o),!0)}}const S=w(0,!1),x=w(1,!1),k=w(0,!0),C=w(1,!0);class E{constructor(e,t,i,r,n){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=n}setSelAfter(e){return new E(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(i=this.startSelection)||void 0===i?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new E(e.changes&&s.as.fromJSON(e.changes),[],e.mapped&&s.n0.fromJSON(e.mapped),e.startSelection&&s.jT.fromJSON(e.startSelection),e.selectionsAfter.map(s.jT.fromJSON))}static fromTransaction(e,t){let i=P;for(let r of e.startState.facet(b)){let t=r(e);t.length&&(i=i.concat(t))}return!i.length&&e.changes.empty?null:new E(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,P)}static selection(e){return new E(void 0,P,void 0,void 0,e)}}function T(e,t,i,r){let n=t+1>i+20?t-i-1:0,s=e.slice(n,t);return s.push(r),s}function A(e,t){return e.length?t.length?e.concat(t):e:t}const P=[],R=200;function D(e,t){if(e.length){let i=e[e.length-1],r=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-R));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),T(e,e.length-1,1e9,i.setSelAfter(r)))}return[E.selection([t])]}function M(e){let t=e[e.length-1],i=e.slice();return i[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),i}function L(e,t){if(!e.length)return e;let i=e.length,r=P;for(;i;){let n=I(e[i-1],t,r);if(n.changes&&!n.changes.empty||n.effects.length){let t=e.slice(0,i);return t[i-1]=n,t}t=n.mapped,i--,r=n.selectionsAfter}return r.length?[E.selection(r)]:P}function I(e,t,i){let r=A(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):P,i);if(!e.changes)return E.selection(r);let n=e.changes.map(t),o=t.mapDesc(e.changes,!0),a=e.mapped?e.mapped.composeDesc(o):o;return new E(n,s.Py.mapEffects(e.effects,t),a,e.startSelection.map(o),r)}const B=/^(input\.type|delete)($|\.)/;class N{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new N(this.done,this.undone):this}addChanges(e,t,i,r,n){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&!o.changes.empty&&e.changes&&(!i||B.test(i))&&(!o.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(n,function(e,t){let i=[],r=!1;return e.iterChangedRanges(((e,t)=>i.push(e,t))),t.iterChangedRanges(((e,t,n,s)=>{for(let o=0;o<i.length;){let e=i[o++],t=i[o++];s>=e&&n<=t&&(r=!0)}})),r}(o.changes,e.changes))||"input.type.compose"==i)?T(s,s.length-1,r.minDepth,new E(e.changes.compose(o.changes),A(e.effects,o.effects),o.mapped,o.startSelection,P)):T(s,s.length,r.minDepth,e),new N(s,P,t,i)}addSelection(e,t,i,r){let n=this.done.length?this.done[this.done.length-1].selectionsAfter:P;return n.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&(s=n[n.length-1],o=e,s.ranges.length==o.ranges.length&&0===s.ranges.filter(((e,t)=>e.empty!=o.ranges[t].empty)).length)?this:new N(D(this.done,e),this.undone,t,i);var s,o}addMapping(e){return new N(L(this.done,e),L(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=0==e?this.done:this.undone;if(0==r.length)return null;let n=r[r.length-1];if(i&&n.selectionsAfter.length)return t.update({selection:n.selectionsAfter[n.selectionsAfter.length-1],annotations:v.of({side:e,rest:M(r)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(n.changes){let i=1==r.length?P:r.slice(0,r.length-1);return n.mapped&&(i=L(i,n.mapped)),t.update({changes:n.changes,selection:n.startSelection,effects:n.effects,annotations:v.of({side:e,rest:i}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}N.empty=new N(P,P);const j=[{key:"Mod-z",run:S,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:x,preventDefault:!0},{linux:"Ctrl-Shift-z",run:x,preventDefault:!0},{key:"Mod-u",run:k,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:C,preventDefault:!0}];function W(e,t){return s.jT.create(e.ranges.map(t),e.mainIndex)}function z(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Q(e,t){let{state:i,dispatch:r}=e,n=W(i.selection,t);return!n.eq(i.selection)&&(r(z(i,n)),!0)}function F(e,t){return s.jT.cursor(t?e.to:e.from)}function U(e,t){return Q(e,(i=>i.empty?e.moveByChar(i,t):F(i,t)))}function q(e){return e.textDirectionAt(e.state.selection.main.head)==o.Nm.LTR}const H=e=>U(e,!q(e)),V=e=>U(e,q(e));function Y(e,t){return Q(e,(i=>i.empty?e.moveByGroup(i,t):F(i,t)))}"undefined"!=typeof Intl&&Intl.Segmenter;function X(e,t,i){if(t.type.prop(i))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Z(e,t,i){let r,n,o=(0,a.qz)(e).resolveInner(t.head),c=i?l.md.closedBy:l.md.openedBy;for(let s=t.head;;){let t=i?o.childAfter(s):o.childBefore(s);if(!t)break;X(e,t,c)?o=t:s=i?t.to:t.from}return n=o.type.prop(c)&&(r=i?(0,a.Um)(e,o.from,1):(0,a.Um)(e,o.to,-1))&&r.matched?i?r.end.to:r.end.from:i?o.to:o.from,s.jT.cursor(n,i?-1:1)}function G(e,t){return Q(e,(i=>{if(!i.empty)return F(i,t);let r=e.moveVertically(i,t);return r.head!=i.head?r:e.moveToLineBoundary(i,t)}))}const $=e=>G(e,!1),K=e=>G(e,!0);function J(e){let t,i=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,r=0,n=0;if(i){for(let t of e.state.facet(o.tk.scrollMargins)){let i=t(e);(null===i||void 0===i?void 0:i.top)&&(r=Math.max(null===i||void 0===i?void 0:i.top,r)),(null===i||void 0===i?void 0:i.bottom)&&(n=Math.max(null===i||void 0===i?void 0:i.bottom,n))}t=e.scrollDOM.clientHeight-r-n}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:n,selfScroll:i,height:Math.max(e.defaultLineHeight,t-5)}}function ee(e,t){let i,r=J(e),{state:n}=e,s=W(n.selection,(i=>i.empty?e.moveVertically(i,t,r.height):F(i,t)));if(s.eq(n.selection))return!1;if(r.selfScroll){let t=e.coordsAtPos(n.selection.main.head),a=e.scrollDOM.getBoundingClientRect(),l=a.top+r.marginTop,c=a.bottom-r.marginBottom;t&&t.top>l&&t.bottom<c&&(i=o.tk.scrollIntoView(s.main.head,{y:"start",yMargin:t.top-l}))}return e.dispatch(z(n,s),{effects:i}),!0}const te=e=>ee(e,!1),ie=e=>ee(e,!0);function re(e,t,i){let r=e.lineBlockAt(t.head),n=e.moveToLineBoundary(t,i);if(n.head==t.head&&n.head!=(i?r.to:r.from)&&(n=e.moveToLineBoundary(t,i,!1)),!i&&n.head==r.from&&r.length){let i=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;i&&t.head!=r.from+i&&(n=s.jT.cursor(r.from+i))}return n}function ne(e,t,i){let r=!1,n=W(e.selection,(t=>{let n=(0,a.Um)(e,t.head,-1)||(0,a.Um)(e,t.head,1)||t.head>0&&(0,a.Um)(e,t.head-1,1)||t.head<e.doc.length&&(0,a.Um)(e,t.head+1,-1);if(!n||!n.end)return t;r=!0;let o=n.start.from==t.head?n.end.to:n.end.from;return i?s.jT.range(t.anchor,o):s.jT.cursor(o)}));return!!r&&(t(z(e,n)),!0)}function se(e,t){let i=W(e.state.selection,(e=>{let i=t(e);return s.jT.range(e.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)}));return!i.eq(e.state.selection)&&(e.dispatch(z(e.state,i)),!0)}function oe(e,t){return se(e,(i=>e.moveByChar(i,t)))}const ae=e=>oe(e,!q(e)),le=e=>oe(e,q(e));function ce(e,t){return se(e,(i=>e.moveByGroup(i,t)))}function he(e,t){return se(e,(i=>e.moveVertically(i,t)))}const ue=e=>he(e,!1),de=e=>he(e,!0);function fe(e,t){return se(e,(i=>e.moveVertically(i,t,J(e).height)))}const pe=e=>fe(e,!1),me=e=>fe(e,!0),ge=e=>{let{state:t,dispatch:i}=e;return i(z(t,{anchor:0})),!0},ve=e=>{let{state:t,dispatch:i}=e;return i(z(t,{anchor:t.doc.length})),!0},_e=e=>{let{state:t,dispatch:i}=e;return i(z(t,{anchor:t.selection.main.anchor,head:0})),!0},be=e=>{let{state:t,dispatch:i}=e;return i(z(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0};function ye(e,t){if(e.state.readOnly)return!1;let i="delete.selection",{state:r}=e,n=r.changeByRange((r=>{let{from:n,to:o}=r;if(n==o){let s=t(r);s<n?(i="delete.backward",s=Oe(e,s,!1)):s>n&&(i="delete.forward",s=Oe(e,s,!0)),n=Math.min(n,s),o=Math.max(o,s)}else n=Oe(e,n,!1),o=Oe(e,o,!0);return n==o?{range:r}:{changes:{from:n,to:o},range:s.jT.cursor(n,n<r.head?-1:1)}}));return!n.changes.empty&&(e.dispatch(r.update(n,{scrollIntoView:!0,userEvent:i,effects:"delete.selection"==i?o.tk.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Oe(e,t,i){if(e instanceof o.tk)for(let r of e.state.facet(o.tk.atomicRanges).map((t=>t(e))))r.between(t,t,((e,r)=>{e<t&&r>t&&(t=i?r:e)}));return t}const we=(e,t)=>ye(e,(i=>{let r,n,o=i.from,{state:l}=e,c=l.doc.lineAt(o);if(!t&&o>c.from&&o<c.from+200&&!/[^ \t]/.test(r=c.text.slice(0,o-c.from))){if("\t"==r[r.length-1])return o-1;let e=(0,s.IS)(r,l.tabSize)%(0,a.y1)(l)||(0,a.y1)(l);for(let t=0;t<e&&" "==r[r.length-1-t];t++)o--;n=o}else n=(0,s.cp)(c.text,o-c.from,t,t)+c.from,n==o&&c.number!=(t?l.doc.lines:1)&&(n+=t?1:-1);return n})),Se=e=>we(e,!1),xe=e=>we(e,!0),ke=(e,t)=>ye(e,(i=>{let r=i.head,{state:n}=e,o=n.doc.lineAt(r),a=n.charCategorizer(r);for(let e=null;;){if(r==(t?o.to:o.from)){r==i.head&&o.number!=(t?n.doc.lines:1)&&(r+=t?1:-1);break}let l=(0,s.cp)(o.text,r-o.from,t)+o.from,c=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),h=a(c);if(null!=e&&h!=e)break;" "==c&&r==i.head||(e=h),r=l}return r})),Ce=e=>ke(e,!1);function Ee(e){let t=[],i=-1;for(let r of e.selection.ranges){let n=e.doc.lineAt(r.from),s=e.doc.lineAt(r.to);if(r.empty||r.to!=s.from||(s=e.doc.lineAt(r.to-1)),i>=n.number){let e=t[t.length-1];e.to=s.to,e.ranges.push(r)}else t.push({from:n.from,to:s.to,ranges:[r]});i=s.number+1}return t}function Te(e,t,i){if(e.readOnly)return!1;let r=[],n=[];for(let o of Ee(e)){if(i?o.to==e.doc.length:0==o.from)continue;let t=e.doc.lineAt(i?o.to+1:o.from-1),a=t.length+1;if(i){r.push({from:o.to,to:t.to},{from:o.from,insert:t.text+e.lineBreak});for(let t of o.ranges)n.push(s.jT.range(Math.min(e.doc.length,t.anchor+a),Math.min(e.doc.length,t.head+a)))}else{r.push({from:t.from,to:o.from},{from:o.to,insert:e.lineBreak+t.text});for(let e of o.ranges)n.push(s.jT.range(e.anchor-a,e.head-a))}}return!!r.length&&(t(e.update({changes:r,scrollIntoView:!0,selection:s.jT.create(n,e.selection.mainIndex),userEvent:"move.line"})),!0)}function Ae(e,t,i){if(e.readOnly)return!1;let r=[];for(let n of Ee(e))i?r.push({from:n.from,insert:e.doc.slice(n.from,n.to)+e.lineBreak}):r.push({from:n.to,insert:e.lineBreak+e.doc.slice(n.from,n.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Pe=Re(!1);function Re(e){return t=>{let{state:i,dispatch:r}=t;if(i.readOnly)return!1;let n=i.changeByRange((t=>{let{from:r,to:n}=t,o=i.doc.lineAt(r),c=!e&&r==n&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let i,r=(0,a.qz)(e).resolveInner(t),n=r.childBefore(t),s=r.childAfter(t);return n&&s&&n.to<=t&&s.from>=t&&(i=n.type.prop(l.md.closedBy))&&i.indexOf(s.name)>-1&&e.doc.lineAt(n.to).from==e.doc.lineAt(s.from).from&&!/\S/.test(e.sliceDoc(n.to,s.from))?{from:n.to,to:s.from}:null}(i,r);e&&(r=n=(n<=o.to?o:i.doc.lineAt(n)).to);let h=new a.Gn(i,{simulateBreak:r,simulateDoubleBreak:!!c}),u=(0,a.K0)(h,r);for(null==u&&(u=(0,s.IS)(/^\s*/.exec(i.doc.lineAt(r).text)[0],i.tabSize));n<o.to&&/\s/.test(o.text[n-o.from]);)n++;c?({from:r,to:n}=c):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);let d=["",(0,a.SS)(i,u)];return c&&d.push((0,a.SS)(i,h.lineIndent(o.from,-1))),{changes:{from:r,to:n,insert:s.xv.of(d)},range:s.jT.cursor(r+1+d[1].length)}}));return r(i.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function De(e,t){let i=-1;return e.changeByRange((r=>{let n=[];for(let s=r.from;s<=r.to;){let o=e.doc.lineAt(s);o.number>i&&(r.empty||r.to>o.from)&&(t(o,n,r),i=o.number),s=o.to+1}let o=e.changes(n);return{changes:n,range:s.jT.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}}))}const Me=e=>{let{state:t,dispatch:i}=e;return!t.readOnly&&(i(t.update(De(t,((e,i)=>{i.push({from:e.from,insert:t.facet(a.c)})})),{userEvent:"input.indent"})),!0)},Le=e=>{let{state:t,dispatch:i}=e;return!t.readOnly&&(i(t.update(De(t,((e,i)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let n=(0,s.IS)(r,t.tabSize),o=0,l=(0,a.SS)(t,Math.max(0,n-(0,a.y1)(t)));for(;o<r.length&&o<l.length&&r.charCodeAt(o)==l.charCodeAt(o);)o++;i.push({from:e.from+o,to:e.from+r.length,insert:l.slice(o)})})),{userEvent:"delete.dedent"})),!0)},Ie=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>Q(e,(t=>Z(e.state,t,!q(e)))),shift:e=>se(e,(t=>Z(e.state,t,!q(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>Q(e,(t=>Z(e.state,t,q(e)))),shift:e=>se(e,(t=>Z(e.state,t,q(e))))},{key:"Alt-ArrowUp",run:e=>{let{state:t,dispatch:i}=e;return Te(t,i,!1)}},{key:"Shift-Alt-ArrowUp",run:e=>{let{state:t,dispatch:i}=e;return Ae(t,i,!1)}},{key:"Alt-ArrowDown",run:e=>{let{state:t,dispatch:i}=e;return Te(t,i,!0)}},{key:"Shift-Alt-ArrowDown",run:e=>{let{state:t,dispatch:i}=e;return Ae(t,i,!0)}},{key:"Escape",run:e=>{let{state:t,dispatch:i}=e,r=t.selection,n=null;return r.ranges.length>1?n=s.jT.create([r.main]):r.main.empty||(n=s.jT.create([s.jT.cursor(r.main.head)])),!!n&&(i(z(t,n)),!0)}},{key:"Mod-Enter",run:Re(!0)},{key:"Alt-l",mac:"Ctrl-l",run:e=>{let{state:t,dispatch:i}=e,r=Ee(t).map((e=>{let{from:i,to:r}=e;return s.jT.range(i,Math.min(r+1,t.doc.length))}));return i(t.update({selection:s.jT.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:e=>{let{state:t,dispatch:i}=e,r=W(t.selection,(e=>{var i;for(let r=(0,a.qz)(t).resolveStack(e.from,1);r;r=r.next){let{node:t}=r;if((t.from<e.from&&t.to>=e.to||t.to>e.to&&t.from<=e.from)&&(null===(i=t.parent)||void 0===i?void 0:i.parent))return s.jT.range(t.to,t.from)}return e}));return i(z(t,r)),!0},preventDefault:!0},{key:"Mod-[",run:Le},{key:"Mod-]",run:Me},{key:"Mod-Alt-\\",run:e=>{let{state:t,dispatch:i}=e;if(t.readOnly)return!1;let r=Object.create(null),n=new a.Gn(t,{overrideIndentation:e=>{let t=r[e];return null==t?-1:t}}),s=De(t,((e,i,s)=>{let o=(0,a.K0)(n,e.from);if(null==o)return;/\S/.test(e.text)||(o=0);let l=/^\s*/.exec(e.text)[0],c=(0,a.SS)(t,o);(l!=c||s.from<e.from+l.length)&&(r[e.from]=o,i.push({from:e.from,to:e.from+l.length,insert:c}))}));return s.changes.empty||i(t.update(s,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,i=t.changes(Ee(t).map((e=>{let{from:i,to:r}=e;return i>0?i--:r<t.doc.length&&r++,{from:i,to:r}}))),r=W(t.selection,(t=>e.moveVertically(t,!0))).map(i);return e.dispatch({changes:i,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:e=>{let{state:t,dispatch:i}=e;return ne(t,i,!1)}},{key:"Mod-/",run:e=>{let{state:t}=e,i=t.doc.lineAt(t.selection.main.from),r=f(e.state,i.from);return r.line?h(e):!!r.block&&d(e)}},{key:"Alt-A",run:u}].concat([{key:"ArrowLeft",run:H,shift:ae,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>Y(e,!q(e)),shift:e=>ce(e,!q(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>Q(e,(t=>re(e,t,!q(e)))),shift:e=>se(e,(t=>re(e,t,!q(e)))),preventDefault:!0},{key:"ArrowRight",run:V,shift:le,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>Y(e,q(e)),shift:e=>ce(e,q(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>Q(e,(t=>re(e,t,q(e)))),shift:e=>se(e,(t=>re(e,t,q(e)))),preventDefault:!0},{key:"ArrowUp",run:$,shift:ue,preventDefault:!0},{mac:"Cmd-ArrowUp",run:ge,shift:_e},{mac:"Ctrl-ArrowUp",run:te,shift:pe},{key:"ArrowDown",run:K,shift:de,preventDefault:!0},{mac:"Cmd-ArrowDown",run:ve,shift:be},{mac:"Ctrl-ArrowDown",run:ie,shift:me},{key:"PageUp",run:te,shift:pe},{key:"PageDown",run:ie,shift:me},{key:"Home",run:e=>Q(e,(t=>re(e,t,!1))),shift:e=>se(e,(t=>re(e,t,!1))),preventDefault:!0},{key:"Mod-Home",run:ge,shift:_e},{key:"End",run:e=>Q(e,(t=>re(e,t,!0))),shift:e=>se(e,(t=>re(e,t,!0))),preventDefault:!0},{key:"Mod-End",run:ve,shift:be},{key:"Enter",run:Pe},{key:"Mod-a",run:e=>{let{state:t,dispatch:i}=e;return i(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:Se,shift:Se},{key:"Delete",run:xe},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Ce},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>ke(e,!0)},{mac:"Mod-Backspace",run:e=>ye(e,(t=>{let i=e.moveToLineBoundary(t,!1).head;return t.head>i?i:Math.max(0,t.head-1)}))},{mac:"Mod-Delete",run:e=>ye(e,(t=>{let i=e.moveToLineBoundary(t,!0).head;return t.head<i?i:Math.min(e.state.doc.length,t.head+1)}))}].concat([{key:"Ctrl-b",run:H,shift:ae,preventDefault:!0},{key:"Ctrl-f",run:V,shift:le},{key:"Ctrl-p",run:$,shift:ue},{key:"Ctrl-n",run:K,shift:de},{key:"Ctrl-a",run:e=>Q(e,(t=>s.jT.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>se(e,(t=>s.jT.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>Q(e,(t=>s.jT.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>se(e,(t=>s.jT.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:xe},{key:"Ctrl-h",run:Se},{key:"Ctrl-k",run:e=>ye(e,(t=>{let i=e.lineBlockAt(t.head).to;return t.head<i?i:Math.min(e.state.doc.length,t.head+1)}))},{key:"Ctrl-Alt-h",run:Ce},{key:"Ctrl-o",run:e=>{let{state:t,dispatch:i}=e;if(t.readOnly)return!1;let r=t.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:s.xv.of(["",""])},range:s.jT.cursor(e.from)})));return i(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:e=>{let{state:t,dispatch:i}=e;if(t.readOnly)return!1;let r=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let i=e.from,r=t.doc.lineAt(i),n=i==r.from?i-1:(0,s.cp)(r.text,i-r.from,!1)+r.from,o=i==r.to?i+1:(0,s.cp)(r.text,i-r.from,!0)+r.from;return{changes:{from:n,to:o,insert:t.doc.slice(i,o).append(t.doc.slice(n,i))},range:s.jT.cursor(o)}}));return!r.changes.empty&&(i(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:ie}].map((e=>({mac:e.key,run:e.run,shift:e.shift}))))),Be={key:"Tab",run:Me,shift:Le};function Ne(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,i=arguments[1];if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i)){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var n=i[r];"string"==typeof n?e.setAttribute(r,n):null!=n&&(e[r]=n)}t++}for(;t<arguments.length;t++)je(e,arguments[t]);return e}function je(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var i=0;i<t.length;i++)je(e,t[i])}}const We="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class ze{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,n=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=n?e=>n(We(e)):We,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,s.gm)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=(0,s.bg)(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=(0,s.nZ)(e);let r=this.normalize(t);for(let n=0,s=i;;n++){let e=r.charCodeAt(n),o=this.match(e,s);if(n==r.length-1){if(o)return this.value=o,this;break}s==i&&n<t.length&&t.charCodeAt(n)==e&&s++}}}match(e,t){let i=null;for(let r=0;r<this.matches.length;r+=2){let n=this.matches[r],s=!1;this.query.charCodeAt(n)==e&&(n==this.query.length-1?i={from:this.matches[r+1],to:t+1}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?i={from:t,to:t+1}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}"undefined"!=typeof Symbol&&(ze.prototype[Symbol.iterator]=function(){return this});const Qe={from:-1,to:-1,match:/.*/.exec("")},Fe="gm"+(null==/x/.unicode?"":"u");class Ue{constructor(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;if(this.text=e,this.to=n,this.curLine="",this.done=!1,this.value=Qe,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Ve(e,t,i,r,n);this.re=new RegExp(t,Fe+((null===i||void 0===i?void 0:i.ignoreCase)?"i":"")),this.test=null===i||void 0===i?void 0:i.test,this.iter=e.iter();let s=e.lineAt(r);this.curLineStart=s.from,this.matchPos=Ye(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=Ye(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const qe=new WeakMap;class He{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=qe.get(e);if(!r||r.from>=i||r.to<=t){let r=new He(t,e.sliceString(t,i));return qe.set(e,r),r}if(r.from==t&&r.to==i)return r;let{text:n,from:s}=r;return s>t&&(n=e.sliceString(t,s)+n,s=t),r.to<i&&(n+=e.sliceString(r.to,i)),qe.set(e,new He(s,n)),new He(t,n.slice(t-s,i-s))}}class Ve{constructor(e,t,i,r,n){this.text=e,this.to=n,this.done=!1,this.value=Qe,this.matchPos=Ye(e,r),this.re=new RegExp(t,Fe+((null===i||void 0===i?void 0:i.ignoreCase)?"i":"")),this.test=null===i||void 0===i?void 0:i.test,this.flat=He.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,i=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,i,t)))return this.value={from:e,to:i,match:t},this.matchPos=Ye(this.text,i+(e==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=He.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Ye(e,t){if(t>=e.length)return t;let i,r=e.lineAt(t);for(;t<r.to&&(i=r.text.charCodeAt(t-r.from))>=56320&&i<57344;)t++;return t}function Xe(e){let t=Ne("input",{class:"cm-textfield",name:"line",value:String(e.state.doc.lineAt(e.state.selection.main.head).number)});function i(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!i)return;let{state:r}=e,n=r.doc.lineAt(r.selection.main.head),[,a,l,c,h]=i,u=c?+c.slice(1):0,d=l?+l:n.number;if(l&&h){let e=d/100;a&&(e=e*("-"==a?-1:1)+n.number/r.doc.lines),d=Math.round(r.doc.lines*e)}else l&&a&&(d=d*("-"==a?-1:1)+n.number);let f=r.doc.line(Math.max(1,Math.min(r.doc.lines,d))),p=s.jT.cursor(f.from+Math.max(0,Math.min(u,f.length)));e.dispatch({effects:[Ze.of(!1),o.tk.scrollIntoView(p.from,{y:"center"})],selection:p}),e.focus()}return{dom:Ne("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:Ze.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),i())},onsubmit:e=>{e.preventDefault(),i()}},Ne("label",e.state.phrase("Go to line"),": ",t)," ",Ne("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(Ue.prototype[Symbol.iterator]=Ve.prototype[Symbol.iterator]=function(){return this});const Ze=s.Py.define(),Ge=s.QQ.define({create:()=>!0,update(e,t){for(let i of t.effects)i.is(Ze)&&(e=i.value);return e},provide:e=>o.mH.from(e,(e=>e?Xe:null))}),$e=o.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Ke={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Je=s.r$.define({combine:e=>(0,s.BO)(e,Ke,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});const et=o.p.mark({class:"cm-selectionMatch"}),tt=o.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function it(e,t,i,r){return(0==i||e(t.sliceDoc(i-1,i))!=s.D0.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=s.D0.Word)}const rt=o.lg.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(Je),{state:i}=e,r=i.selection;if(r.ranges.length>1)return o.p.none;let n,a=r.main,l=null;if(a.empty){if(!t.highlightWordAroundCursor)return o.p.none;let e=i.wordAt(a.head);if(!e)return o.p.none;l=i.charCategorizer(a.head),n=i.sliceDoc(e.from,e.to)}else{let e=a.to-a.from;if(e<t.minSelectionLength||e>200)return o.p.none;if(t.wholeWords){if(n=i.sliceDoc(a.from,a.to),l=i.charCategorizer(a.head),!it(l,i,a.from,a.to)||!function(e,t,i,r){return e(t.sliceDoc(i,i+1))==s.D0.Word&&e(t.sliceDoc(r-1,r))==s.D0.Word}(l,i,a.from,a.to))return o.p.none}else if(n=i.sliceDoc(a.from,a.to).trim(),!n)return o.p.none}let c=[];for(let s of e.visibleRanges){let e=new ze(i.doc,n,s.from,s.to);for(;!e.next().done;){let{from:r,to:n}=e.value;if((!l||it(l,i,r,n))&&(a.empty&&r<=a.from&&n>=a.to?c.push(tt.range(r,n)):(r>=a.to||n<=a.from)&&c.push(et.range(r,n)),c.length>t.maxMatches))return o.p.none}}return o.p.set(c)}},{decorations:e=>e.decorations}),nt=o.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const st=s.r$.define({combine:e=>(0,s.BO)(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Lt(e),scrollToMatch:e=>o.tk.scrollIntoView(e)})});class ot{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,Fe),!0}catch(t){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new ft(this):new ct(this)}getCursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,r=e.doc?e:s.yy.create({doc:e});return null==i&&(i=r.doc.length),this.regexp?ht(this,r,t,i):lt(this,r,t,i)}}class at{constructor(e){this.spec=e}}function lt(e,t,i,r){return new ze(t.doc,e.unquoted,i,r,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?(n=t.doc,o=t.charCategorizer(t.selection.main.head),(e,t,i,r)=>((r>e||r+i.length<t)&&(r=Math.max(0,e-2),i=n.sliceString(r,Math.min(n.length,t+2))),(o(ut(i,e-r))!=s.D0.Word||o(dt(i,e-r))!=s.D0.Word)&&(o(dt(i,t-r))!=s.D0.Word||o(ut(i,t-r))!=s.D0.Word))):void 0);var n,o}class ct extends at{constructor(e){super(e)}nextMatch(e,t,i){let r=lt(this.spec,e,i,e.doc.length).nextOverlapping();return r.done&&(r=lt(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let i=Math.max(t,r-1e4-this.spec.unquoted.length),n=lt(this.spec,e,i,r),s=null;for(;!n.nextOverlapping().done;)s=n.value;if(s)return s;if(i==t)return null;r-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=lt(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let n=lt(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!n.next().done;)r(n.value.from,n.value.to)}}function ht(e,t,i,r){return new Ue(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(n=t.charCategorizer(t.selection.main.head),(e,t,i)=>!i[0].length||(n(ut(i.input,i.index))!=s.D0.Word||n(dt(i.input,i.index))!=s.D0.Word)&&(n(dt(i.input,i.index+i[0].length))!=s.D0.Word||n(ut(i.input,i.index+i[0].length))!=s.D0.Word)):void 0},i,r);var n}function ut(e,t){return e.slice((0,s.cp)(e,t,!1),t)}function dt(e,t){return e.slice(t,(0,s.cp)(e,t))}class ft extends at{nextMatch(e,t,i){let r=ht(this.spec,e,i,e.doc.length).next();return r.done&&(r=ht(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let n=Math.max(t,i-1e4*r),s=ht(this.spec,e,n,i),o=null;for(;!s.next().done;)o=s.value;if(o&&(n==t||o.from>n+10))return o;if(n==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,((t,i)=>"$"==i?"$":"&"==i?e.match[0]:"0"!=i&&+i<e.match.length?e.match[i]:t)))}matchAll(e,t){let i=ht(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let n=ht(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!n.next().done;)r(n.value.from,n.value.to)}}const pt=s.Py.define(),mt=s.Py.define(),gt=s.QQ.define({create:e=>new vt(Tt(e).create(),null),update(e,t){for(let i of t.effects)i.is(pt)?e=new vt(i.value.create(),e.panel):i.is(mt)&&(e=new vt(e.query,i.value?Et:null));return e},provide:e=>o.mH.from(e,(e=>e.panel))});class vt{constructor(e,t){this.query=e,this.panel=t}}const _t=o.p.mark({class:"cm-searchMatch"}),bt=o.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),yt=o.lg.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(gt))}update(e){let t=e.state.field(gt);(t!=e.startState.field(gt)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight(e){let{query:t,panel:i}=e;if(!i||!t.spec.valid)return o.p.none;let{view:r}=this,n=new s.f_;for(let s=0,o=r.visibleRanges,a=o.length;s<a;s++){let{from:e,to:i}=o[s];for(;s<a-1&&i>o[s+1].from-500;)i=o[++s].to;t.highlight(r.state,e,i,((e,t)=>{let i=r.state.selection.ranges.some((i=>i.from==e&&i.to==t));n.add(e,t,i?bt:_t)}))}return n.finish()}},{decorations:e=>e.decorations});function Ot(e){return t=>{let i=t.state.field(gt,!1);return i&&i.query.spec.valid?e(t,i):Rt(t)}}const wt=Ot(((e,t)=>{let{query:i}=t,{to:r}=e.state.selection.main,n=i.nextMatch(e.state,r,r);if(!n)return!1;let o=s.jT.single(n.from,n.to),a=e.state.facet(st);return e.dispatch({selection:o,effects:[jt(e,n),a.scrollToMatch(o.main,e)],userEvent:"select.search"}),Pt(e),!0})),St=Ot(((e,t)=>{let{query:i}=t,{state:r}=e,{from:n}=r.selection.main,o=i.prevMatch(r,n,n);if(!o)return!1;let a=s.jT.single(o.from,o.to),l=e.state.facet(st);return e.dispatch({selection:a,effects:[jt(e,o),l.scrollToMatch(a.main,e)],userEvent:"select.search"}),Pt(e),!0})),xt=Ot(((e,t)=>{let{query:i}=t,r=i.matchAll(e.state,1e3);return!(!r||!r.length)&&(e.dispatch({selection:s.jT.create(r.map((e=>s.jT.range(e.from,e.to)))),userEvent:"select.search.matches"}),!0)})),kt=Ot(((e,t)=>{let{query:i}=t,{state:r}=e,{from:n,to:a}=r.selection.main;if(r.readOnly)return!1;let l=i.nextMatch(r,n,n);if(!l)return!1;let c,h,u=[],d=[];if(l.from==n&&l.to==a&&(h=r.toText(i.getReplacement(l)),u.push({from:l.from,to:l.to,insert:h}),l=i.nextMatch(r,l.from,l.to),d.push(o.tk.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(n).number)+"."))),l){let t=0==u.length||u[0].from>=l.to?0:l.to-l.from-h.length;c=s.jT.single(l.from-t,l.to-t),d.push(jt(e,l)),d.push(r.facet(st).scrollToMatch(c.main,e))}return e.dispatch({changes:u,selection:c,effects:d,userEvent:"input.replace"}),!0})),Ct=Ot(((e,t)=>{let{query:i}=t;if(e.state.readOnly)return!1;let r=i.matchAll(e.state,1e9).map((e=>{let{from:t,to:r}=e;return{from:t,to:r,insert:i.getReplacement(e)}}));if(!r.length)return!1;let n=e.state.phrase("replaced $ matches",r.length)+".";return e.dispatch({changes:r,effects:o.tk.announce.of(n),userEvent:"input.replace.all"}),!0}));function Et(e){return e.state.facet(st).createPanel(e)}function Tt(e,t){var i,r,n,s,o;let a=e.selection.main,l=a.empty||a.to>a.from+100?"":e.sliceDoc(a.from,a.to);if(t&&!l)return t;let c=e.facet(st);return new ot({search:(null!==(i=null===t||void 0===t?void 0:t.literal)&&void 0!==i?i:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null===t||void 0===t?void 0:t.caseSensitive)&&void 0!==r?r:c.caseSensitive,literal:null!==(n=null===t||void 0===t?void 0:t.literal)&&void 0!==n?n:c.literal,regexp:null!==(s=null===t||void 0===t?void 0:t.regexp)&&void 0!==s?s:c.regexp,wholeWord:null!==(o=null===t||void 0===t?void 0:t.wholeWord)&&void 0!==o?o:c.wholeWord})}function At(e){let t=(0,o.Sd)(e,Et);return t&&t.dom.querySelector("[main-field]")}function Pt(e){let t=At(e);t&&t==e.root.activeElement&&t.select()}const Rt=e=>{let t=e.state.field(gt,!1);if(t&&t.panel){let i=At(e);if(i&&i!=e.root.activeElement){let r=Tt(e.state,t.query.spec);r.valid&&e.dispatch({effects:pt.of(r)}),i.focus(),i.select()}}else e.dispatch({effects:[mt.of(!0),t?pt.of(Tt(e.state,t.query.spec)):s.Py.appendConfig.of(zt)]});return!0},Dt=e=>{let t=e.state.field(gt,!1);if(!t||!t.panel)return!1;let i=(0,o.Sd)(e,Et);return i&&i.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:mt.of(!1)}),!0},Mt=[{key:"Mod-f",run:Rt,scope:"editor search-panel"},{key:"F3",run:wt,shift:St,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:wt,shift:St,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Dt,scope:"editor search-panel"},{key:"Mod-Shift-l",run:e=>{let{state:t,dispatch:i}=e,r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:n,to:o}=r.main,a=[],l=0;for(let c=new ze(t.doc,t.sliceDoc(n,o));!c.next().done;){if(a.length>1e3)return!1;c.value.from==n&&(l=a.length),a.push(s.jT.range(c.value.from,c.value.to))}return i(t.update({selection:s.jT.create(a,l),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:e=>{let t=(0,o.Sd)(e,Xe);if(!t){let i=[Ze.of(!0)];null==e.state.field(Ge,!1)&&i.push(s.Py.appendConfig.of([Ge,$e])),e.dispatch({effects:i}),t=(0,o.Sd)(e,Xe)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:e=>{let{state:t,dispatch:i}=e,{ranges:r}=t.selection;if(r.some((e=>e.from===e.to)))return(e=>{let{state:t,dispatch:i}=e,{selection:r}=t,n=s.jT.create(r.ranges.map((e=>t.wordAt(e.head)||s.jT.cursor(e.head))),r.mainIndex);return!n.eq(r)&&(i(t.update({selection:n})),!0)})({state:t,dispatch:i});let n=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=n)))return!1;let a=function(e,t){let{main:i,ranges:r}=e.selection,n=e.wordAt(i.head),s=n&&n.from==i.from&&n.to==i.to;for(let o=!1,a=new ze(e.doc,t,r[r.length-1].to);;){if(a.next(),!a.done){if(o&&r.some((e=>e.from==a.value.from)))continue;if(s){let t=e.wordAt(a.value.from);if(!t||t.from!=a.value.from||t.to!=a.value.to)continue}return a.value}if(o)return null;a=new ze(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),o=!0}}(t,n);return!!a&&(i(t.update({selection:t.selection.addRange(s.jT.range(a.from,a.to),!1),effects:o.tk.scrollIntoView(a.to)})),!0)},preventDefault:!0}];class Lt{constructor(e){this.view=e;let t=this.query=e.state.field(gt).query.spec;function i(e,t,i){return Ne("button",{class:"cm-button",name:e,onclick:t,type:"button"},i)}this.commit=this.commit.bind(this),this.searchField=Ne("input",{value:t.search,placeholder:It(e,"Find"),"aria-label":It(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ne("input",{value:t.replace,placeholder:It(e,"Replace"),"aria-label":It(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ne("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Ne("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Ne("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=Ne("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,i("next",(()=>wt(e)),[It(e,"next")]),i("prev",(()=>St(e)),[It(e,"previous")]),i("select",(()=>xt(e)),[It(e,"all")]),Ne("label",null,[this.caseField,It(e,"match case")]),Ne("label",null,[this.reField,It(e,"regexp")]),Ne("label",null,[this.wordField,It(e,"by word")]),...e.state.readOnly?[]:[Ne("br"),this.replaceField,i("replace",(()=>kt(e)),[It(e,"replace")]),i("replaceAll",(()=>Ct(e)),[It(e,"replace all")])],Ne("button",{name:"close",onclick:()=>Dt(e),"aria-label":It(e,"close"),type:"button"},["\xd7"])])}commit(){let e=new ot({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:pt.of(e)}))}keydown(e){(0,o.$1)(this.view,e,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?St:wt)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),kt(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(pt)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(st).top}}function It(e,t){return e.state.phrase(t)}const Bt=30,Nt=/[\s\.,:;?!]/;function jt(e,t){let{from:i,to:r}=t,n=e.state.doc.lineAt(i),s=e.state.doc.lineAt(r).to,a=Math.max(n.from,i-Bt),l=Math.min(s,r+Bt),c=e.state.sliceDoc(a,l);if(a!=n.from)for(let o=0;o<Bt;o++)if(!Nt.test(c[o+1])&&Nt.test(c[o])){c=c.slice(o);break}if(l!=s)for(let o=c.length-1;o>c.length-Bt;o--)if(!Nt.test(c[o-1])&&Nt.test(c[o])){c=c.slice(0,o);break}return o.tk.announce.of("".concat(e.state.phrase("current match"),". ").concat(c," ").concat(e.state.phrase("on line")," ").concat(n.number,"."))}const Wt=o.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),zt=[gt,s.Wl.low(yt),Wt];var Qt=i(7102);class Ft{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Ut{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,n=i.facet(ii).markerFilter;n&&(r=n(r));let s=o.p.set(r.map((e=>e.from==e.to||e.from==e.to-1&&i.doc.lineAt(e.from).to==e.from?o.p.widget({widget:new si(e),diagnostic:e}).range(e.from):o.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity+(e.markClass?" "+e.markClass:"")},diagnostic:e}).range(e.from,e.to))),!0);return new Ut(s,t,qt(s))}}function qt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null;return e.between(i,1e9,((e,i,n)=>{let{spec:s}=n;if(!t||s.diagnostic==t)return r=new Ft(e,i,s.diagnostic),!1})),r}function Ht(e,t){let i=e.startState.doc.lineAt(t.pos);return!(!e.effects.some((e=>e.is(Yt)))&&!e.changes.touchesRange(i.from,i.to))}function Vt(e,t){return e.field(Gt,!1)?t:t.concat(s.Py.appendConfig.of(ui))}const Yt=s.Py.define(),Xt=s.Py.define(),Zt=s.Py.define(),Gt=s.QQ.define({create:()=>new Ut(o.p.none,null,null),update(e,t){if(t.docChanged){let i=e.diagnostics.map(t.changes),r=null;if(e.selected){let n=t.changes.mapPos(e.selected.from,1);r=qt(i,e.selected.diagnostic,n)||qt(i,null,n)}e=new Ut(i,e.panel,r)}for(let i of t.effects)i.is(Yt)?e=Ut.init(i.value,e.panel,t.state):i.is(Xt)?e=new Ut(e.diagnostics,i.value?ai.open:null,e.selected):i.is(Zt)&&(e=new Ut(e.diagnostics,e.panel,i.value));return e},provide:e=>[o.mH.from(e,(e=>e.panel)),o.tk.decorations.from(e,(e=>e.diagnostics))]});const $t=o.p.mark({class:"cm-lintRange cm-lintRange-active"});function Kt(e,t,i){let{diagnostics:r}=e.state.field(Gt),n=[],s=2e8,o=0;r.between(t-(i<0?1:0),t+(i>0?1:0),((e,r,a)=>{let{spec:l}=a;t>=e&&t<=r&&(e==r||(t>e||i>0)&&(t<r||i<0))&&(n.push(l.diagnostic),s=Math.min(e,s),o=Math.max(r,o))}));let a=e.state.facet(ii).tooltipFilter;return a&&(n=a(n)),n.length?{pos:s,end:o,above:e.state.doc.lineAt(s).to<o,create:()=>({dom:Jt(e,n)})}:null}function Jt(e,t){return Ne("ul",{class:"cm-tooltip-lint"},t.map((t=>ni(e,t,!1))))}const ei=e=>{let t=e.state.field(Gt,!1);return!(!t||!t.panel)&&(e.dispatch({effects:Xt.of(!1)}),!0)},ti=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(Gt,!1);t&&t.panel||e.dispatch({effects:Vt(e.state,[Xt.of(!0)])});let i=(0,o.Sd)(e,ai.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:e=>{let t=e.state.field(Gt,!1);if(!t)return!1;let i=e.state.selection.main,r=t.diagnostics.iter(i.to+1);return!(!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==i.from&&r.to==i.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],ii=s.r$.define({combine:e=>Object.assign({sources:e.map((e=>e.source))},(0,s.BO)(e.map((e=>e.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))});function ri(e){let t=[];if(e)e:for(let{name:i}of e){for(let e=0;e<i.length;e++){let r=i[e];if(/[a-zA-Z]/.test(r)&&!t.some((e=>e.toLowerCase()==r.toLowerCase()))){t.push(r);continue e}}t.push("")}return t}function ni(e,t,i){var r;let n=i?ri(t.actions):[];return Ne("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Ne("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(r=t.actions)||void 0===r?void 0:r.map(((i,r)=>{let s=!1,o=r=>{if(r.preventDefault(),s)return;s=!0;let n=qt(e.state.field(Gt).diagnostics,t);n&&i.apply(e,n.from,n.to)},{name:a}=i,l=n[r]?a.indexOf(n[r]):-1,c=l<0?a:[a.slice(0,l),Ne("u",a.slice(l,l+1)),a.slice(l+1)];return Ne("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":" Action: ".concat(a).concat(l<0?"":' (access key "'.concat(n[r],')"'),".")},c)})),t.source&&Ne("div",{class:"cm-diagnosticSource"},t.source))}class si extends o.l9{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Ne("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class oi{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=ni(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ai{constructor(e){this.view=e,this.items=[];this.list=Ne("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)ei(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:i}=this.items[this.selectedIndex],r=ri(i.actions);for(let n=0;n<r.length;n++)if(r[n].toUpperCase().charCodeAt(0)==t.keyCode){let t=qt(this.view.state.field(Gt).diagnostics,i);t&&i.actions[n].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=Ne("div",{class:"cm-panel-lint"},this.list,Ne("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>ei(this.view)},"\xd7")),this.update()}get selectedIndex(){let e=this.view.state.field(Gt).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Gt),i=0,r=!1,n=null;for(e.between(0,this.view.state.doc.length,((e,s,o)=>{let a,{spec:l}=o,c=-1;for(let t=i;t<this.items.length;t++)if(this.items[t].diagnostic==l.diagnostic){c=t;break}c<0?(a=new oi(this.view,l.diagnostic),this.items.splice(i,0,a),r=!0):(a=this.items[c],c>i&&(this.items.splice(i,c-i),r=!0)),t&&a.diagnostic==t.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),n=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new oi(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),n?(this.list.setAttribute("aria-activedescendant",n.id),this.view.requestMeasure({key:this,read:()=>({sel:n.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:e=>{let{sel:t,panel:i}=e,r=i.height/this.list.offsetHeight;t.top<i.top?this.list.scrollTop-=(i.top-t.top)/r:t.bottom>i.bottom&&(this.list.scrollTop+=(t.bottom-i.bottom)/r)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=qt(this.view.state.field(Gt).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:Zt.of(t)})}static open(e){return new ai(e)}}function li(e){return'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:'viewBox="0 0 40 40"',">").concat(encodeURIComponent(e),"</svg>')")}function ci(e){return li('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(e,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}const hi=o.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:ci("#d11")},".cm-lintRange-warning":{backgroundImage:ci("orange")},".cm-lintRange-info":{backgroundImage:ci("#999")},".cm-lintRange-hint":{backgroundImage:ci("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});o.SJ;const ui=[Gt,o.tk.decorations.compute([Gt],(e=>{let{selected:t,panel:i}=e.field(Gt);return t&&i&&t.from!=t.to?o.p.set([$t.range(t.from,t.to)]):o.p.none})),(0,o.bF)(Kt,{hideOn:Ht}),hi];var di=function(e){void 0===e&&(e={});var{crosshairCursor:t=!1}=e,i=[];!1!==e.closeBracketsKeymap&&(i=i.concat(Qt.GA)),!1!==e.defaultKeymap&&(i=i.concat(Ie)),!1!==e.searchKeymap&&(i=i.concat(Mt)),!1!==e.historyKeymap&&(i=i.concat(j)),!1!==e.foldKeymap&&(i=i.concat(a.e7)),!1!==e.completionKeymap&&(i=i.concat(Qt.B1)),!1!==e.lintKeymap&&(i=i.concat(ti));var r=[];return!1!==e.lineNumbers&&r.push((0,o.Eu)()),!1!==e.highlightActiveLineGutter&&r.push((0,o.HQ)()),!1!==e.highlightSpecialChars&&r.push((0,o.AE)()),!1!==e.history&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[O,y.of(e),o.tk.domEventHandlers({beforeinput(e,t){let i="historyUndo"==e.inputType?S:"historyRedo"==e.inputType?x:null;return!!i&&(e.preventDefault(),i(t))}})]}()),!1!==e.foldGutter&&r.push((0,a.mi)()),!1!==e.drawSelection&&r.push((0,o.Uw)()),!1!==e.dropCursor&&r.push((0,o.qr)()),!1!==e.allowMultipleSelections&&r.push(s.yy.allowMultipleSelections.of(!0)),!1!==e.indentOnInput&&r.push((0,a.nY)()),!1!==e.syntaxHighlighting&&r.push((0,a.nF)(a.R_,{fallback:!0})),!1!==e.bracketMatching&&r.push((0,a.n$)()),!1!==e.closeBrackets&&r.push((0,Qt.vQ)()),!1!==e.autocompletion&&r.push((0,Qt.ys)()),!1!==e.rectangularSelection&&r.push((0,o.Zs)()),!1!==t&&r.push((0,o.S2)()),!1!==e.highlightActiveLine&&r.push((0,o.ZO)()),!1!==e.highlightSelectionMatches&&r.push(function(e){let t=[nt,rt];return e&&t.push(Je.of(e)),t}()),e.tabSize&&"number"===typeof e.tabSize&&r.push(a.c.of(" ".repeat(e.tabSize))),r.concat([o.$f.of(i.flat())]).filter(Boolean)},fi=i(4200);const pi="#e5c07b",mi="#e06c75",gi="#56b6c2",vi="#ffffff",_i="#abb2bf",bi="#7d8799",yi="#61afef",Oi="#98c379",wi="#d19a66",Si="#c678dd",xi="#21252b",ki="#2c313a",Ci="#282c34",Ei="#353a42",Ti="#3E4451",Ai="#528bff",Pi=o.tk.theme({"&":{color:_i,backgroundColor:Ci},".cm-content":{caretColor:Ai},".cm-cursor, .cm-dropCursor":{borderLeftColor:Ai},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Ti},".cm-panels":{backgroundColor:xi,color:_i},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Ci,color:bi,border:"none"},".cm-activeLineGutter":{backgroundColor:ki},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Ei},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Ei,borderBottomColor:Ei},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:ki,color:_i}}},{dark:!0}),Ri=a.Qf.define([{tag:fi.pJ.keyword,color:Si},{tag:[fi.pJ.name,fi.pJ.deleted,fi.pJ.character,fi.pJ.propertyName,fi.pJ.macroName],color:mi},{tag:[fi.pJ.function(fi.pJ.variableName),fi.pJ.labelName],color:yi},{tag:[fi.pJ.color,fi.pJ.constant(fi.pJ.name),fi.pJ.standard(fi.pJ.name)],color:wi},{tag:[fi.pJ.definition(fi.pJ.name),fi.pJ.separator],color:_i},{tag:[fi.pJ.typeName,fi.pJ.className,fi.pJ.number,fi.pJ.changed,fi.pJ.annotation,fi.pJ.modifier,fi.pJ.self,fi.pJ.namespace],color:pi},{tag:[fi.pJ.operator,fi.pJ.operatorKeyword,fi.pJ.url,fi.pJ.escape,fi.pJ.regexp,fi.pJ.link,fi.pJ.special(fi.pJ.string)],color:gi},{tag:[fi.pJ.meta,fi.pJ.comment],color:bi},{tag:fi.pJ.strong,fontWeight:"bold"},{tag:fi.pJ.emphasis,fontStyle:"italic"},{tag:fi.pJ.strikethrough,textDecoration:"line-through"},{tag:fi.pJ.link,color:bi,textDecoration:"underline"},{tag:fi.pJ.heading,fontWeight:"bold",color:mi},{tag:[fi.pJ.atom,fi.pJ.bool,fi.pJ.special(fi.pJ.variableName)],color:wi},{tag:[fi.pJ.processingInstruction,fi.pJ.string,fi.pJ.inserted],color:Oi},{tag:fi.pJ.invalid,color:vi}]),Di=[Pi,(0,a.nF)(Ri)];var Mi=o.tk.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Li=s.q6.define(),Ii=[];function Bi(e){var{value:t,selection:i,onChange:r,onStatistics:a,onCreateEditor:l,onUpdate:c,extensions:h=Ii,autoFocus:u,theme:d="light",height:f=null,minHeight:p=null,maxHeight:m=null,width:g=null,minWidth:v=null,maxWidth:_=null,placeholder:b="",editable:y=!0,readOnly:O=!1,indentWithTab:w=!0,basicSetup:S=!0,root:x,initialState:k}=e,[C,E]=(0,n.useState)(),[T,A]=(0,n.useState)(),[P,R]=(0,n.useState)(),D=o.tk.theme({"&":{height:f,minHeight:p,maxHeight:m,width:g,minWidth:v,maxWidth:_},"& .cm-scroller":{height:"100% !important"}}),M=o.tk.updateListener.of((e=>{if(e.docChanged&&"function"===typeof r&&!e.transactions.some((e=>e.annotation(Li)))){var t=e.state.doc.toString();r(t,e)}a&&a((e=>({line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map((t=>e.state.sliceDoc(t.from,t.to))),selectedText:e.state.selection.ranges.some((e=>!e.empty))}))(e))})),L=function(e){void 0===e&&(e={});var{indentWithTab:t=!0,editable:i=!0,readOnly:r=!1,theme:n="light",placeholder:a="",basicSetup:l=!0}=e,c=[];switch(t&&c.unshift(o.$f.of([Be])),l&&("boolean"===typeof l?c.unshift(di()):c.unshift(di(l))),a&&c.unshift((0,o.W$)(a)),n){case"light":c.push(Mi);break;case"dark":c.push(Di);break;case"none":break;default:c.push(n)}return!1===i&&c.push(o.tk.editable.of(!1)),r&&c.push(s.yy.readOnly.of(!0)),[...c]}({theme:d,editable:y,readOnly:O,placeholder:b,indentWithTab:w,basicSetup:S}),I=[M,D,...L];return c&&"function"===typeof c&&I.push(o.tk.updateListener.of(c)),I=I.concat(h),(0,n.useEffect)((()=>{if(C&&!P){var e={doc:t,selection:i,extensions:I},r=k?s.yy.fromJSON(k.json,e,k.fields):s.yy.create(e);if(R(r),!T){var n=new o.tk({state:r,parent:C,root:x});A(n),l&&l(n,r)}}return()=>{T&&(R(void 0),A(void 0))}}),[C,P]),(0,n.useEffect)((()=>E(e.container)),[e.container]),(0,n.useEffect)((()=>()=>{T&&(T.destroy(),A(void 0))}),[T]),(0,n.useEffect)((()=>{u&&T&&T.focus()}),[u,T]),(0,n.useEffect)((()=>{T&&T.dispatch({effects:s.Py.reconfigure.of(I)})}),[d,h,f,p,m,g,v,_,b,y,O,w,S,r,c]),(0,n.useEffect)((()=>{if(void 0!==t){var e=T?T.state.doc.toString():"";T&&t!==e&&T.dispatch({changes:{from:0,to:e.length,insert:t||""},annotations:[Li.of(!0)]})}}),[t,T]),{state:P,setState:R,view:T,setView:A,container:C,setContainer:E}}var Ni=i(184),ji=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],Wi=(0,n.forwardRef)(((e,t)=>{var{className:i,value:s="",selection:o,extensions:a=[],onChange:l,onStatistics:c,onCreateEditor:h,onUpdate:u,autoFocus:d,theme:f="light",height:p,minHeight:m,maxHeight:g,width:v,minWidth:_,maxWidth:b,basicSetup:y,placeholder:O,indentWithTab:w,editable:S,readOnly:x,root:k,initialState:C}=e,E=function(e,t){if(null==e)return{};var i,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)i=s[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,ji),T=(0,n.useRef)(null),{state:A,view:P,container:R}=Bi({container:T.current,root:k,value:s,autoFocus:d,theme:f,height:p,minHeight:m,maxHeight:g,width:v,minWidth:_,maxWidth:b,basicSetup:y,placeholder:O,indentWithTab:w,editable:S,readOnly:x,selection:o,onChange:l,onStatistics:c,onCreateEditor:h,onUpdate:u,extensions:a,initialState:C});if((0,n.useImperativeHandle)(t,(()=>({editor:T.current,state:A,view:P})),[T,R,A,P]),"string"!==typeof s)throw new Error("value must be typeof string but got "+typeof s);var D="string"===typeof f?"cm-theme-"+f:"cm-theme";return(0,Ni.jsx)("div",r({ref:T,className:D+(i?" "+i:"")},E))}));Wi.displayName="CodeMirror";const zi=Wi},5587:(e,t,i)=>{e.exports=function e(t,i,r){function n(o,a){if(!i[o]){if(!t[o]){if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[o]={exports:{}};t[o][0].call(c.exports,(function(e){return n(t[o][1][e]||e)}),c,c.exports,e,t,i,r)}return i[o].exports}for(var s=void 0,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(e,t,i){"use strict";var r=e("./utils"),n=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(e){for(var t,i,n,o,a,l,c,h=[],u=0,d=e.length,f=d,p="string"!==r.getTypeOf(e);u<e.length;)f=d-u,n=p?(t=e[u++],i=u<d?e[u++]:0,u<d?e[u++]:0):(t=e.charCodeAt(u++),i=u<d?e.charCodeAt(u++):0,u<d?e.charCodeAt(u++):0),o=t>>2,a=(3&t)<<4|i>>4,l=1<f?(15&i)<<2|n>>6:64,c=2<f?63&n:64,h.push(s.charAt(o)+s.charAt(a)+s.charAt(l)+s.charAt(c));return h.join("")},i.decode=function(e){var t,i,r,o,a,l,c=0,h=0,u="data:";if(e.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&f--,e.charAt(e.length-2)===s.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=n.uint8array?new Uint8Array(0|f):new Array(0|f);c<e.length;)t=s.indexOf(e.charAt(c++))<<2|(o=s.indexOf(e.charAt(c++)))>>4,i=(15&o)<<4|(a=s.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(l=s.indexOf(e.charAt(c++))),d[h++]=t,64!==a&&(d[h++]=i),64!==l&&(d[h++]=r);return d}},{"./support":30,"./utils":32}],2:[function(e,t,i){"use strict";var r=e("./external"),n=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function a(e,t,i,r,n){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=r,this.compressedContent=n}a.prototype={getContentWorker:function(){var e=new n(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new n(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,i){return e.pipe(new s).pipe(new o("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,i){"use strict";var r=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,i){"use strict";var r=e("./utils"),n=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,i,r){var s=n,o=r+i;e^=-1;for(var a=r;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,i,r){var s=n,o=r+i;e^=-1;for(var a=r;a<o;a++)e=e>>>8^s[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,t,i){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,i){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=e("pako"),s=e("./utils"),o=e("./stream/GenericWorker"),a=r?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}i.magic="\b\0",s.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(a,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},i.compressWorker=function(e){return new l("Deflate",e)},i.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,i){"use strict";function r(e,t){var i,r="";for(i=0;i<t;i++)r+=String.fromCharCode(255&e),e>>>=8;return r}function n(e,t,i,n,o,h){var u,d,f=e.file,p=e.compression,m=h!==a.utf8encode,g=s.transformTo("string",h(f.name)),v=s.transformTo("string",a.utf8encode(f.name)),_=f.comment,b=s.transformTo("string",h(_)),y=s.transformTo("string",a.utf8encode(_)),O=v.length!==f.name.length,w=y.length!==_.length,S="",x="",k="",C=f.dir,E=f.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var A=0;t&&(A|=8),m||!O&&!w||(A|=2048);var P=0,R=0;C&&(P|=16),"UNIX"===o?(R=798,P|=function(e,t){var i=e;return e||(i=t?16893:33204),(65535&i)<<16}(f.unixPermissions,C)):(R=20,P|=function(e){return 63&(e||0)}(f.dosPermissions)),u=E.getUTCHours(),u<<=6,u|=E.getUTCMinutes(),u<<=5,u|=E.getUTCSeconds()/2,d=E.getUTCFullYear()-1980,d<<=4,d|=E.getUTCMonth()+1,d<<=5,d|=E.getUTCDate(),O&&(x=r(1,1)+r(l(g),4)+v,S+="up"+r(x.length,2)+x),w&&(k=r(1,1)+r(l(b),4)+y,S+="uc"+r(k.length,2)+k);var D="";return D+="\n\0",D+=r(A,2),D+=p.magic,D+=r(u,2),D+=r(d,2),D+=r(T.crc32,4),D+=r(T.compressedSize,4),D+=r(T.uncompressedSize,4),D+=r(g.length,2),D+=r(S.length,2),{fileRecord:c.LOCAL_FILE_HEADER+D+g+S,dirRecord:c.CENTRAL_FILE_HEADER+r(R,2)+D+r(b.length,2)+"\0\0\0\0"+r(P,4)+r(n,4)+g+S+b}}var s=e("../utils"),o=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),c=e("../signature");function h(e,t,i,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(h,o),h.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-r-1))/i:100}}))},h.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=n(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,i=n(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=this.bytesWritten-e,n=function(e,t,i,n,o){var a=s.transformTo("string",o(n));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(i,4)+r(a.length,2)+a}(this.dirRecords.length,i,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},h.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},h.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,i){"use strict";var r=e("../compressions"),n=e("./ZipFileWorker");i.generateWorker=function(e,t,i){var s=new n(t.streamFiles,i,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,i){o++;var n=function(e,t){var i=e||t,n=r[i];if(!n)throw new Error(i+" is not a valid compression method !");return n}(i.options.compression,t.compression),a=i.options.compressionOptions||t.compressionOptions||{},l=i.dir,c=i.date;i._compressWorker(n,a).withStreamInfo("file",{name:e,dir:l,date:c,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(s)})),s.entriesCount=o}catch(e){s.error(e)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,i){"use strict";var r=e("./utils"),n=e("./external"),s=e("./utf8"),o=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new n.Promise((function(t,i){var r=e.decompressed.getContentWorker().pipe(new a);r.on("error",(function(e){i(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var i=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(e)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var i=new o(t);return i.load(e),i})).then((function(e){var i=[n.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var s=0;s<r.length;s++)i.push(c(r[s]));return n.Promise.all(i)})).then((function(e){for(var n=e.shift(),s=n.files,o=0;o<s.length;o++){var a=s[o],l=a.fileNameStr,c=r.resolve(a.fileNameStr);i.file(c,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders}),a.dir||(i.file(c).unsafeOriginalName=l)}return n.zipComment.length&&(i.comment=n.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,i){"use strict";var r=e("../utils"),n=e("../stream/GenericWorker");function s(e,t){n.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(s,n),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,i){"use strict";var r=e("readable-stream").Readable;function n(e,t,i){r.call(this,t),this._helper=e;var n=this;e.on("data",(function(e,t){n.push(e)||n._helper.pause(),i&&i(t)})).on("error",(function(e){n.emit("error",e)})).on("end",(function(){n.push(null)}))}e("../utils").inherits(n,r),n.prototype._read=function(){this._helper.resume()},t.exports=n},{"../utils":32,"readable-stream":16}],14:[function(e,t,i){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,i){"use strict";function r(e,t,i){var r,n=s.getTypeOf(t),a=s.extend(i||{},l);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=m(e)),a.createFolders&&(r=p(e))&&g.call(this,r,!0);var u="string"===n&&!1===a.binary&&!1===a.base64;i&&void 0!==i.binary||(a.binary=!u),(t instanceof c&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",n="string");var v=null;v=t instanceof c||t instanceof o?t:d.isNode&&d.isStream(t)?new f(e,t):s.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var _=new h(e,v,a);this.files[e]=_}var n=e("./utf8"),s=e("./utils"),o=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),h=e("./zipObject"),u=e("./generate"),d=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,r;for(t in this.files)r=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,r)},filter:function(e){var t=[];return this.forEach((function(i,r){e(i,r)&&t.push(r)})),t},file:function(e,t,i){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,i),this;if(v(e)){var n=e;return this.filter((function(e,t){return!t.dir&&n.test(e)}))}var s=this.files[this.root+e];return s&&!s.dir?s:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,i){return i.dir&&e.test(t)}));var t=this.root+e,i=g.call(this,t),r=this.clone();return r.root=i.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter((function(t,i){return i.name.slice(0,e.length)===e})),r=0;r<i.length;r++)delete this.files[i[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if((i=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");s.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var r=i.comment||this.comment||"";t=u.generateWorker(this,i,r)}catch(e){(t=new o("error")).error(e)}return new a(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,i){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,i){"use strict";var r=e("./DataReader");function n(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(n,r),n.prototype.byteAt=function(e){return this.data[this.zero+e]},n.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),r=e.charCodeAt(2),n=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===i&&this.data[s+2]===r&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),r=e.charCodeAt(2),n=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&i===s[1]&&r===s[2]&&n===s[3]},n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./DataReader":18}],18:[function(e,t,i){"use strict";var r=e("../utils");function n(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=n},{"../utils":32}],19:[function(e,t,i){"use strict";var r=e("./Uint8ArrayReader");function n(e){r.call(this,e)}e("../utils").inherits(n,r),n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,i){"use strict";var r=e("./DataReader");function n(e){r.call(this,e)}e("../utils").inherits(n,r),n.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},n.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./DataReader":18}],21:[function(e,t,i){"use strict";var r=e("./ArrayReader");function n(e){r.call(this,e)}e("../utils").inherits(n,r),n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,i){"use strict";var r=e("../utils"),n=e("../support"),s=e("./ArrayReader"),o=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||n.uint8array?"nodebuffer"===t?new a(e):n.uint8array?new l(r.transformTo("uint8array",e)):new s(r.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,i){"use strict";i.LOCAL_FILE_HEADER="PK\x03\x04",i.CENTRAL_FILE_HEADER="PK\x01\x02",i.CENTRAL_DIRECTORY_END="PK\x05\x06",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,i){"use strict";var r=e("./GenericWorker"),n=e("../utils");function s(e){r.call(this,"ConvertWorker to "+e),this.destType=e}n.inherits(s,r),s.prototype.processChunk=function(e){this.push({data:n.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,i){"use strict";var r=e("./GenericWorker"),n=e("../crc32");function s(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,r),s.prototype.processChunk=function(e){this.streamInfo.crc32=n(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,i){"use strict";var r=e("../utils"),n=e("./GenericWorker");function s(e){n.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(s,n),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}n.prototype.processChunk.call(this,e)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,i){"use strict";var r=e("../utils"),n=e("./GenericWorker");function s(e){n.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,i){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,i){"use strict";var r=e("../utils"),n=e("./ConvertWorker"),s=e("./GenericWorker"),o=e("../base64"),a=e("../support"),l=e("../external"),c=null;if(a.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function h(e,t){return new l.Promise((function(i,n){var s=[],a=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,i){s.push(e),t&&t(i)})).on("error",(function(e){s=[],n(e)})).on("end",(function(){try{var e=function(e,t,i){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),i);case"base64":return o.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var i,r=0,n=null,s=0;for(i=0;i<t.length;i++)s+=t[i].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(n=new Uint8Array(s),i=0;i<t.length;i++)n.set(t[i],r),r+=t[i].length;return n;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,s),c);i(e)}catch(e){n(e)}s=[]})).resume()}))}function u(e,t,i){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=i,r.checkSupport(o),this._worker=e.pipe(new n(o)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return h(this,e)},on:function(e,t){var i=this;return"data"===e?this._worker.on(e,(function(e){t.call(i,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,i)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof Buffer,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(r),i.blob=0===n.getBlob("application/zip").size}catch(e){i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch(e){i.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,i){"use strict";for(var r=e("./utils"),n=e("./support"),s=e("./nodejsUtils"),o=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function h(){o.call(this,"utf-8 encode")}a[254]=a[254]=1,i.utf8encode=function(e){return n.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,i,r,s,o,a=e.length,l=0;for(s=0;s<a;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(r-56320),s++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=n.uint8array?new Uint8Array(l):new Array(l),s=o=0;o<l;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(r-56320),s++),i<128?t[o++]=i:(i<2048?t[o++]=192|i>>>6:(i<65536?t[o++]=224|i>>>12:(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63),t[o++]=128|i>>>6&63),t[o++]=128|63&i);return t}(e)},i.utf8decode=function(e){return n.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,i,n,s,o=e.length,l=new Array(2*o);for(t=i=0;t<o;)if((n=e[t++])<128)l[i++]=n;else if(4<(s=a[n]))l[i++]=65533,t+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&t<o;)n=n<<6|63&e[t++],s--;1<s?l[i++]=65533:n<65536?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|1023&n)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),r.applyFromCharCode(l)}(e=r.transformTo(n.uint8array?"uint8array":"array",e))},r.inherits(c,o),c.prototype.processChunk=function(e){var t=r.transformTo(n.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var s=t;(t=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),t.set(s,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0||0===i?t:i+a[e[i]]>t?i:t}(t),l=t;o!==t.length&&(n.uint8array?(l=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(l=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:i.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=c,r.inherits(h,o),h.prototype.processChunk=function(e){this.push({data:i.utf8encode(e.data),meta:e.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,i){"use strict";var r=e("./support"),n=e("./base64"),s=e("./nodejsUtils"),o=e("./external");function a(e){return e}function l(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}e("setimmediate"),i.newBlob=function(t,r){i.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,i){var r=[],n=0,s=e.length;if(s<=i)return String.fromCharCode.apply(null,e);for(;n<s;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(n,Math.min(n+i,s)))):r.push(String.fromCharCode.apply(null,e.subarray(n,Math.min(n+i,s)))),n+=i;return r.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,r=i.getTypeOf(e),n=!0;if("uint8array"===r?n=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(n=c.applyCanBeUsed.nodebuffer),n)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function u(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}i.applyFromCharCode=h;var d={};d.string={string:a,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,s.allocBuffer(e.length))}},d.array={string:h,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},d.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return u(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:h,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return s.newBufferFrom(e)}},d.nodebuffer={string:h,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:a},i.transformTo=function(e,t){if(t=t||"",!e)return t;i.checkSupport(e);var r=i.getTypeOf(t);return d[r][e](t)},i.resolve=function(e){for(var t=e.split("/"),i=[],r=0;r<t.length;r++){var n=t[r];"."===n||""===n&&0!==r&&r!==t.length-1||(".."===n?i.pop():i.push(n))}return i.join("/")},i.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&s.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(e){var t,i,r="";for(i=0;i<(e||"").length;i++)r+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return r},i.delay=function(e,t,i){setImmediate((function(){e.apply(i||null,t||[])}))},i.inherits=function(e,t){function i(){}i.prototype=t.prototype,e.prototype=new i},i.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},i.prepareContent=function(e,t,s,a,c){return o.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(t,i){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){i(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var h=i.getTypeOf(t);return h?("arraybuffer"===h?t=i.transformTo("uint8array",t):"string"===h&&(c?t=n.decode(t):s&&!0!==a&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,i){"use strict";var r=e("./reader/readerFor"),n=e("./utils"),s=e("./signature"),o=e("./zipEntry"),a=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(t)+", expected "+n.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(i),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",i=n.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var r=t-i;if(0<r)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,i){"use strict";var r=e("./reader/readerFor"),n=e("./utils"),s=e("./compressedObject"),o=e("./crc32"),a=e("./utf8"),l=e("./compressions"),c=e("./support");function h(e,t){this.options=e,this.loadOptions=t}h.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,i,r,n=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<n;)t=e.readInt(2),i=e.readInt(2),r=e.readData(i),this.extraFields[t]={id:t,length:i,value:r};e.setIndex(n)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=n.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var s=n.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,i){"use strict";function r(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}var n=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!s&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new n(t,i,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new s(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)r.prototype[c[u]]=h;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var i,r,n=e.MutationObserver||e.WebKitMutationObserver;if(n){var s=0,o=new n(h),a=e.document.createTextNode("");o.observe(a,{characterData:!0}),i=function(){a.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){h(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(h,0)};else{var l=new e.MessageChannel;l.port1.onmessage=h,i=function(){l.port2.postMessage(0)}}var c=[];function h(){var e,t;r=!0;for(var i=c.length;i;){for(t=c,c=[],e=-1;++e<i;)t[e]();i=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||i()}}).call(this,"undefined"!=typeof i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,i){"use strict";var r=e("immediate");function n(){}var s={},o=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==n&&f(this,e)}function h(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function u(e,t,i){r((function(){var r;try{r=t(i)}catch(r){return s.reject(e,r)}r===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var i=!1;function r(t){i||(i=!0,s.reject(e,t))}function n(t){i||(i=!0,s.resolve(e,t))}var o=p((function(){t(n,r)}));"error"===o.status&&r(o.value)}function p(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===o)return this;var i=new this.constructor(n);return this.state!==l?u(i,this.state===a?e:t,this.outcome):this.queue.push(new h(i,e,t)),i},h.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){s.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},s.resolve=function(e,t){var i=p(d,t);if("error"===i.status)return s.reject(e,i.value);var r=i.value;if(r)f(e,r);else{e.state=a,e.outcome=t;for(var n=-1,o=e.queue.length;++n<o;)e.queue[n].callFulfilled(t)}return e},s.reject=function(e,t){e.state=o,e.outcome=t;for(var i=-1,r=e.queue.length;++i<r;)e.queue[i].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:s.resolve(new this(n),e)},c.reject=function(e){var t=new this(n);return s.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,r=!1;if(!i)return this.resolve([]);for(var o=new Array(i),a=0,l=-1,c=new this(n);++l<i;)h(e[l],l);return c;function h(e,n){t.resolve(e).then((function(e){o[n]=e,++a!==i||r||(r=!0,s.resolve(c,o))}),(function(e){r||(r=!0,s.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,r=!1;if(!i)return this.resolve([]);for(var o,a=-1,l=new this(n);++a<i;)o=e[a],t.resolve(o).then((function(e){r||(r=!0,s.resolve(l,e))}),(function(e){r||(r=!0,s.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,i){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,i){"use strict";var r=e("./zlib/deflate"),n=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString,c=0,h=-1,u=0,d=8;function f(e){if(!(this instanceof f))return new f(e);this.options=n.assign({level:h,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var i=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==c)throw new Error(o[i]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(o[i]);this._dict_set=!0}}function p(e,t){var i=new f(t);if(i.push(e,!0),i.err)throw i.msg||o[i.err];return i.result}f.prototype.push=function(e,t){var i,o,a=this.strm,h=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new n.Buf8(h),a.next_out=0,a.avail_out=h),1!==(i=r.deflate(a,o))&&i!==c)return this.onEnd(i),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(n.shrinkBuf(a.output,a.next_out))):this.onData(n.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==i);return 4===o?(i=r.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c):2!==o||(this.onEnd(c),!(a.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=f,i.deflate=p,i.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},i.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,i){"use strict";var r=e("./zlib/inflate"),n=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),h=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=r.inflateInit2(this.strm,t.windowBits);if(i!==o.Z_OK)throw new Error(a[i]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var i=new u(t);if(i.push(e,!0),i.err)throw i.msg||a[i.err];return i.result}u.prototype.push=function(e,t){var i,a,l,c,u,d,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?f.input=s.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new n.Buf8(p),f.next_out=0,f.avail_out=p),(i=r.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(d="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===h.call(m)?new Uint8Array(m):m,i=r.inflateSetDictionary(this.strm,d)),i===o.Z_BUF_ERROR&&!0===g&&(i=o.Z_OK,g=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&i!==o.Z_STREAM_END&&(0!==f.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(f.output,f.next_out),c=f.next_out-l,u=s.buf2string(f.output,l),f.next_out=c,f.avail_out=p-c,c&&n.arraySet(f.output,f.output,l,c,0),this.onData(u)):this.onData(n.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(i=r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(f.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=u,i.inflate=d,i.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},i.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,i){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,i,r,n){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+r),n);else for(var s=0;s<r;s++)e[n+s]=t[i+s]},flattenChunks:function(e){var t,i,r,n,s,o;for(t=r=0,i=e.length;t<i;t++)r+=e[t].length;for(o=new Uint8Array(r),t=n=0,i=e.length;t<i;t++)s=e[t],o.set(s,n),n+=s.length;return o}},s={arraySet:function(e,t,i,r,n){for(var s=0;s<r;s++)e[n+s]=t[i+s]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(r)},{}],42:[function(e,t,i){"use strict";var r=e("./common"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new r.Buf8(256),a=0;a<256;a++)o[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&n))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var i="",o=0;o<t;o++)i+=String.fromCharCode(e[o]);return i}o[254]=o[254]=1,i.string2buf=function(e){var t,i,n,s,o,a=e.length,l=0;for(s=0;s<a;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new r.Buf8(l),s=o=0;o<l;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?t[o++]=i:(i<2048?t[o++]=192|i>>>6:(i<65536?t[o++]=224|i>>>12:(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63),t[o++]=128|i>>>6&63),t[o++]=128|63&i);return t},i.buf2binstring=function(e){return l(e,e.length)},i.binstring2buf=function(e){for(var t=new r.Buf8(e.length),i=0,n=t.length;i<n;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,r,n,s,a=t||e.length,c=new Array(2*a);for(i=r=0;i<a;)if((n=e[i++])<128)c[r++]=n;else if(4<(s=o[n]))c[r++]=65533,i+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&i<a;)n=n<<6|63&e[i++],s--;1<s?c[r++]=65533:n<65536?c[r++]=n:(n-=65536,c[r++]=55296|n>>10&1023,c[r++]=56320|1023&n)}return l(c,r)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0||0===i?t:i+o[e[i]]>t?i:t}},{"./common":41}],43:[function(e,t,i){"use strict";t.exports=function(e,t,i,r){for(var n=65535&e|0,s=e>>>16&65535|0,o=0;0!==i;){for(i-=o=2e3<i?2e3:i;s=s+(n=n+t[r++]|0)|0,--o;);n%=65521,s%=65521}return n|s<<16|0}},{}],44:[function(e,t,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,i){"use strict";var r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,n){var s=r,o=n+i;e^=-1;for(var a=n;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,i){"use strict";var r,n=e("../utils/common"),s=e("./trees"),o=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=0,h=4,u=0,d=-2,f=-1,p=4,m=2,g=8,v=9,_=286,b=30,y=19,O=2*_+1,w=15,S=3,x=258,k=x+S+1,C=42,E=113,T=1,A=2,P=3,R=4;function D(e,t){return e.msg=l[t],t}function M(e){return(e<<1)-(4<e?9:0)}function L(e){for(var t=e.length;0<=--t;)e[t]=0}function I(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(n.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function B(e,t){s._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,I(e.strm)}function N(e,t){e.pending_buf[e.pending++]=t}function j(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function W(e,t){var i,r,n=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-k?e.strstart-(e.w_size-k):0,c=e.window,h=e.w_mask,u=e.prev,d=e.strstart+x,f=c[s+o-1],p=c[s+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(i=t)+o]===p&&c[i+o-1]===f&&c[i]===c[s]&&c[++i]===c[s+1]){s+=2,i++;do{}while(c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&s<d);if(r=x-(d-s),s=d-x,o<r){if(e.match_start=t,a<=(o=r))break;f=c[s+o-1],p=c[s+o]}}}while((t=u[t&h])>l&&0!=--n);return o<=e.lookahead?o:e.lookahead}function z(e){var t,i,r,s,l,c,h,u,d,f,p=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-k)){for(n.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=i=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--i;);for(t=i=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--i;);s+=p}if(0===e.strm.avail_in)break;if(c=e.strm,h=e.window,u=e.strstart+e.lookahead,f=void 0,(d=s)<(f=c.avail_in)&&(f=d),i=0===f?0:(c.avail_in-=f,n.arraySet(h,c.input,c.next_in,f,u),1===c.state.wrap?c.adler=o(c.adler,h,f,u):2===c.state.wrap&&(c.adler=a(c.adler,h,f,u)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=i,e.lookahead+e.insert>=S)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+S-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<S)););}while(e.lookahead<k&&0!==e.strm.avail_in)}function Q(e,t){for(var i,r;;){if(e.lookahead<k){if(z(e),e.lookahead<k&&t===c)return T;if(0===e.lookahead)break}if(i=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-k&&(e.match_length=W(e,i)),e.match_length>=S)if(r=s._tr_tally(e,e.strstart-e.match_start,e.match_length-S),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=S){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(B(e,!1),0===e.strm.avail_out))return T}return e.insert=e.strstart<S-1?e.strstart:S-1,t===h?(B(e,!0),0===e.strm.avail_out?P:R):e.last_lit&&(B(e,!1),0===e.strm.avail_out)?T:A}function F(e,t){for(var i,r,n;;){if(e.lookahead<k){if(z(e),e.lookahead<k&&t===c)return T;if(0===e.lookahead)break}if(i=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=S-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-k&&(e.match_length=W(e,i),e.match_length<=5&&(1===e.strategy||e.match_length===S&&4096<e.strstart-e.match_start)&&(e.match_length=S-1)),e.prev_length>=S&&e.match_length<=e.prev_length){for(n=e.strstart+e.lookahead-S,r=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-S),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=S-1,e.strstart++,r&&(B(e,!1),0===e.strm.avail_out))return T}else if(e.match_available){if((r=s._tr_tally(e,0,e.window[e.strstart-1]))&&B(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return T}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<S-1?e.strstart:S-1,t===h?(B(e,!0),0===e.strm.avail_out?P:R):e.last_lit&&(B(e,!1),0===e.strm.avail_out)?T:A}function U(e,t,i,r,n){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=r,this.func=n}function q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*O),this.dyn_dtree=new n.Buf16(2*(2*b+1)),this.bl_tree=new n.Buf16(2*(2*y+1)),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(w+1),this.heap=new n.Buf16(2*_+1),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*_+1),L(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=c,s._tr_init(t),u):D(e,d)}function V(e){var t=H(e);return t===u&&function(e){e.window_size=2*e.w_size,L(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=S-1,e.match_available=0,e.ins_h=0}(e.state),t}function Y(e,t,i,r,s,o){if(!e)return d;var a=1;if(t===f&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),s<1||v<s||i!==g||r<8||15<r||t<0||9<t||o<0||p<o)return D(e,d);8===r&&(r=9);var l=new q;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+S-1)/S),l.window=new n.Buf8(2*l.w_size),l.head=new n.Buf16(l.hash_size),l.prev=new n.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new n.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=i,V(e)}r=[new U(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(z(e),0===e.lookahead&&t===c)return T;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+i;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,B(e,!1),0===e.strm.avail_out))return T;if(e.strstart-e.block_start>=e.w_size-k&&(B(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===h?(B(e,!0),0===e.strm.avail_out?P:R):(e.strstart>e.block_start&&(B(e,!1),e.strm.avail_out),T)})),new U(4,4,8,4,Q),new U(4,5,16,8,Q),new U(4,6,32,32,Q),new U(4,4,16,16,F),new U(8,16,32,32,F),new U(8,16,128,128,F),new U(8,32,128,256,F),new U(32,128,258,1024,F),new U(32,258,258,4096,F)],i.deflateInit=function(e,t){return Y(e,t,g,15,8,0)},i.deflateInit2=Y,i.deflateReset=V,i.deflateResetKeep=H,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,u):d},i.deflate=function(e,t){var i,n,o,l;if(!e||!e.state||5<t||t<0)return e?D(e,d):d;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&t!==h)return D(e,0===e.avail_out?-5:d);if(n.strm=e,i=n.last_flush,n.last_flush=t,n.status===C)if(2===n.wrap)e.adler=0,N(n,31),N(n,139),N(n,8),n.gzhead?(N(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),N(n,255&n.gzhead.time),N(n,n.gzhead.time>>8&255),N(n,n.gzhead.time>>16&255),N(n,n.gzhead.time>>24&255),N(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),N(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(N(n,255&n.gzhead.extra.length),N(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=a(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(N(n,0),N(n,0),N(n,0),N(n,0),N(n,0),N(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),N(n,3),n.status=E);else{var f=g+(n.w_bits-8<<4)<<8;f|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(f|=32),f+=31-f%31,n.status=E,j(n,f),0!==n.strstart&&(j(n,e.adler>>>16),j(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),I(e),o=n.pending,n.pending!==n.pending_buf_size));)N(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),I(e),o=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,N(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),0===l&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),I(e),o=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,N(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),0===l&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&I(e),n.pending+2<=n.pending_buf_size&&(N(n,255&e.adler),N(n,e.adler>>8&255),e.adler=0,n.status=E)):n.status=E),0!==n.pending){if(I(e),0===e.avail_out)return n.last_flush=-1,u}else if(0===e.avail_in&&M(t)<=M(i)&&t!==h)return D(e,-5);if(666===n.status&&0!==e.avail_in)return D(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==c&&666!==n.status){var p=2===n.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(z(e),0===e.lookahead)){if(t===c)return T;break}if(e.match_length=0,i=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(B(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===h?(B(e,!0),0===e.strm.avail_out?P:R):e.last_lit&&(B(e,!1),0===e.strm.avail_out)?T:A}(n,t):3===n.strategy?function(e,t){for(var i,r,n,o,a=e.window;;){if(e.lookahead<=x){if(z(e),e.lookahead<=x&&t===c)return T;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=S&&0<e.strstart&&(r=a[n=e.strstart-1])===a[++n]&&r===a[++n]&&r===a[++n]){o=e.strstart+x;do{}while(r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&n<o);e.match_length=x-(o-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=S?(i=s._tr_tally(e,1,e.match_length-S),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(B(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===h?(B(e,!0),0===e.strm.avail_out?P:R):e.last_lit&&(B(e,!1),0===e.strm.avail_out)?T:A}(n,t):r[n.level].func(n,t);if(p!==P&&p!==R||(n.status=666),p===T||p===P)return 0===e.avail_out&&(n.last_flush=-1),u;if(p===A&&(1===t?s._tr_align(n):5!==t&&(s._tr_stored_block(n,0,0,!1),3===t&&(L(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),I(e),0===e.avail_out))return n.last_flush=-1,u}return t!==h?u:n.wrap<=0?1:(2===n.wrap?(N(n,255&e.adler),N(n,e.adler>>8&255),N(n,e.adler>>16&255),N(n,e.adler>>24&255),N(n,255&e.total_in),N(n,e.total_in>>8&255),N(n,e.total_in>>16&255),N(n,e.total_in>>24&255)):(j(n,e.adler>>>16),j(n,65535&e.adler)),I(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?u:1)},i.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?D(e,d):(e.state=null,t===E?D(e,-3):u):d},i.deflateSetDictionary=function(e,t){var i,r,s,a,l,c,h,f,p=t.length;if(!e||!e.state)return d;if(2===(a=(i=e.state).wrap)||1===a&&i.status!==C||i.lookahead)return d;for(1===a&&(e.adler=o(e.adler,t,p,0)),i.wrap=0,p>=i.w_size&&(0===a&&(L(i.head),i.strstart=0,i.block_start=0,i.insert=0),f=new n.Buf8(i.w_size),n.arraySet(f,t,p-i.w_size,i.w_size,0),t=f,p=i.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=p,e.next_in=0,e.input=t,z(i);i.lookahead>=S;){for(r=i.strstart,s=i.lookahead-(S-1);i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+S-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++,--s;);i.strstart=r,i.lookahead=S-1,z(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=S-1,i.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,i.wrap=a,u},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,i){"use strict";t.exports=function(e,t){var i,r,n,s,o,a,l,c,h,u,d,f,p,m,g,v,_,b,y,O,w,S,x,k,C;i=e.state,r=e.next_in,k=e.input,n=r+(e.avail_in-5),s=e.next_out,C=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),l=i.dmax,c=i.wsize,h=i.whave,u=i.wnext,d=i.window,f=i.hold,p=i.bits,m=i.lencode,g=i.distcode,v=(1<<i.lenbits)-1,_=(1<<i.distbits)-1;e:do{p<15&&(f+=k[r++]<<p,p+=8,f+=k[r++]<<p,p+=8),b=m[f&v];t:for(;;){if(f>>>=y=b>>>24,p-=y,0===(y=b>>>16&255))C[s++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=m[(65535&b)+(f&(1<<y)-1)];continue t}if(32&y){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}O=65535&b,(y&=15)&&(p<y&&(f+=k[r++]<<p,p+=8),O+=f&(1<<y)-1,f>>>=y,p-=y),p<15&&(f+=k[r++]<<p,p+=8,f+=k[r++]<<p,p+=8),b=g[f&_];i:for(;;){if(f>>>=y=b>>>24,p-=y,!(16&(y=b>>>16&255))){if(0==(64&y)){b=g[(65535&b)+(f&(1<<y)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(w=65535&b,p<(y&=15)&&(f+=k[r++]<<p,(p+=8)<y&&(f+=k[r++]<<p,p+=8)),l<(w+=f&(1<<y)-1)){e.msg="invalid distance too far back",i.mode=30;break e}if(f>>>=y,p-=y,(y=s-o)<w){if(h<(y=w-y)&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(x=d,(S=0)===u){if(S+=c-y,y<O){for(O-=y;C[s++]=d[S++],--y;);S=s-w,x=C}}else if(u<y){if(S+=c+u-y,(y-=u)<O){for(O-=y;C[s++]=d[S++],--y;);if(S=0,u<O){for(O-=y=u;C[s++]=d[S++],--y;);S=s-w,x=C}}}else if(S+=u-y,y<O){for(O-=y;C[s++]=d[S++],--y;);S=s-w,x=C}for(;2<O;)C[s++]=x[S++],C[s++]=x[S++],C[s++]=x[S++],O-=3;O&&(C[s++]=x[S++],1<O&&(C[s++]=x[S++]))}else{for(S=s-w;C[s++]=C[S++],C[s++]=C[S++],C[s++]=C[S++],2<(O-=3););O&&(C[s++]=C[S++],1<O&&(C[s++]=C[S++]))}break}}break}}while(r<n&&s<a);r-=O=p>>3,f&=(1<<(p-=O<<3))-1,e.next_in=r,e.next_out=s,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=s<a?a-s+257:257-(s-a),i.hold=f,i.bits=p}},{}],49:[function(e,t,i){"use strict";var r=e("../utils/common"),n=e("./adler32"),s=e("./crc32"),o=e("./inffast"),a=e("./inftrees"),l=1,c=2,h=0,u=-2,d=1,f=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(f),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,h):u}function _(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):u}function b(e,t){var i,r;return e&&e.state?(r=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?u:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=i,r.wbits=t,_(e))):u}function y(e,t){var i,r;return e?(r=new g,(e.state=r).window=null,(i=b(e,t))!==h&&(e.state=null),i):u}var O,w,S=!0;function x(e){if(S){var t;for(O=new r.Buf32(512),w=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(l,e.lens,0,288,O,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(c,e.lens,0,32,w,0,e.work,{bits:5}),S=!1}e.lencode=O,e.lenbits=9,e.distcode=w,e.distbits=5}function k(e,t,i,n){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),n>=o.wsize?(r.arraySet(o.window,t,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(n<(s=o.wsize-o.wnext)&&(s=n),r.arraySet(o.window,t,i-n,s,o.wnext),(n-=s)?(r.arraySet(o.window,t,i-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}i.inflateReset=_,i.inflateReset2=b,i.inflateResetKeep=v,i.inflateInit=function(e){return y(e,15)},i.inflateInit2=y,i.inflate=function(e,t){var i,f,p,g,v,_,b,y,O,w,S,C,E,T,A,P,R,D,M,L,I,B,N,j,W=0,z=new r.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;12===(i=e.state).mode&&(i.mode=13),v=e.next_out,p=e.output,b=e.avail_out,g=e.next_in,f=e.input,_=e.avail_in,y=i.hold,O=i.bits,w=_,S=b,B=h;e:for(;;)switch(i.mode){case d:if(0===i.wrap){i.mode=13;break}for(;O<16;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}if(2&i.wrap&&35615===y){z[i.check=0]=255&y,z[1]=y>>>8&255,i.check=s(i.check,z,2,0),O=y=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",i.mode=30;break}if(8!=(15&y)){e.msg="unknown compression method",i.mode=30;break}if(O-=4,I=8+(15&(y>>>=4)),0===i.wbits)i.wbits=I;else if(I>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<I,e.adler=i.check=1,i.mode=512&y?10:12,O=y=0;break;case 2:for(;O<16;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}if(i.flags=y,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=y>>8&1),512&i.flags&&(z[0]=255&y,z[1]=y>>>8&255,i.check=s(i.check,z,2,0)),O=y=0,i.mode=3;case 3:for(;O<32;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}i.head&&(i.head.time=y),512&i.flags&&(z[0]=255&y,z[1]=y>>>8&255,z[2]=y>>>16&255,z[3]=y>>>24&255,i.check=s(i.check,z,4,0)),O=y=0,i.mode=4;case 4:for(;O<16;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}i.head&&(i.head.xflags=255&y,i.head.os=y>>8),512&i.flags&&(z[0]=255&y,z[1]=y>>>8&255,i.check=s(i.check,z,2,0)),O=y=0,i.mode=5;case 5:if(1024&i.flags){for(;O<16;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}i.length=y,i.head&&(i.head.extra_len=y),512&i.flags&&(z[0]=255&y,z[1]=y>>>8&255,i.check=s(i.check,z,2,0)),O=y=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(_<(C=i.length)&&(C=_),C&&(i.head&&(I=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),r.arraySet(i.head.extra,f,g,C,I)),512&i.flags&&(i.check=s(i.check,f,C,g)),_-=C,g+=C,i.length-=C),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===_)break e;for(C=0;I=f[g+C++],i.head&&I&&i.length<65536&&(i.head.name+=String.fromCharCode(I)),I&&C<_;);if(512&i.flags&&(i.check=s(i.check,f,C,g)),_-=C,g+=C,I)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===_)break e;for(C=0;I=f[g+C++],i.head&&I&&i.length<65536&&(i.head.comment+=String.fromCharCode(I)),I&&C<_;);if(512&i.flags&&(i.check=s(i.check,f,C,g)),_-=C,g+=C,I)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;O<16;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}if(y!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}O=y=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;O<32;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}e.adler=i.check=m(y),O=y=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=_,i.hold=y,i.bits=O,2;e.adler=i.check=1,i.mode=12;case 12:if(5===t||6===t)break e;case 13:if(i.last){y>>>=7&O,O-=7&O,i.mode=27;break}for(;O<3;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}switch(i.last=1&y,O-=1,3&(y>>>=1)){case 0:i.mode=14;break;case 1:if(x(i),i.mode=20,6!==t)break;y>>>=2,O-=2;break e;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}y>>>=2,O-=2;break;case 14:for(y>>>=7&O,O-=7&O;O<32;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&y,O=y=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(C=i.length){if(_<C&&(C=_),b<C&&(C=b),0===C)break e;r.arraySet(p,f,g,C,v),_-=C,g+=C,b-=C,v+=C,i.length-=C;break}i.mode=12;break;case 17:for(;O<14;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}if(i.nlen=257+(31&y),y>>>=5,O-=5,i.ndist=1+(31&y),y>>>=5,O-=5,i.ncode=4+(15&y),y>>>=4,O-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;O<3;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}i.lens[Q[i.have++]]=7&y,y>>>=3,O-=3}for(;i.have<19;)i.lens[Q[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,N={bits:i.lenbits},B=a(0,i.lens,0,19,i.lencode,0,i.work,N),i.lenbits=N.bits,B){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;P=(W=i.lencode[y&(1<<i.lenbits)-1])>>>16&255,R=65535&W,!((A=W>>>24)<=O);){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}if(R<16)y>>>=A,O-=A,i.lens[i.have++]=R;else{if(16===R){for(j=A+2;O<j;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}if(y>>>=A,O-=A,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}I=i.lens[i.have-1],C=3+(3&y),y>>>=2,O-=2}else if(17===R){for(j=A+3;O<j;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}O-=A,I=0,C=3+(7&(y>>>=A)),y>>>=3,O-=3}else{for(j=A+7;O<j;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}O-=A,I=0,C=11+(127&(y>>>=A)),y>>>=7,O-=7}if(i.have+C>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;C--;)i.lens[i.have++]=I}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,N={bits:i.lenbits},B=a(l,i.lens,0,i.nlen,i.lencode,0,i.work,N),i.lenbits=N.bits,B){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,N={bits:i.distbits},B=a(c,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,N),i.distbits=N.bits,B){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(6<=_&&258<=b){e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=_,i.hold=y,i.bits=O,o(e,S),v=e.next_out,p=e.output,b=e.avail_out,g=e.next_in,f=e.input,_=e.avail_in,y=i.hold,O=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;P=(W=i.lencode[y&(1<<i.lenbits)-1])>>>16&255,R=65535&W,!((A=W>>>24)<=O);){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}if(P&&0==(240&P)){for(D=A,M=P,L=R;P=(W=i.lencode[L+((y&(1<<D+M)-1)>>D)])>>>16&255,R=65535&W,!(D+(A=W>>>24)<=O);){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}y>>>=D,O-=D,i.back+=D}if(y>>>=A,O-=A,i.back+=A,i.length=R,0===P){i.mode=26;break}if(32&P){i.back=-1,i.mode=12;break}if(64&P){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&P,i.mode=22;case 22:if(i.extra){for(j=i.extra;O<j;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}i.length+=y&(1<<i.extra)-1,y>>>=i.extra,O-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;P=(W=i.distcode[y&(1<<i.distbits)-1])>>>16&255,R=65535&W,!((A=W>>>24)<=O);){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}if(0==(240&P)){for(D=A,M=P,L=R;P=(W=i.distcode[L+((y&(1<<D+M)-1)>>D)])>>>16&255,R=65535&W,!(D+(A=W>>>24)<=O);){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}y>>>=D,O-=D,i.back+=D}if(y>>>=A,O-=A,i.back+=A,64&P){e.msg="invalid distance code",i.mode=30;break}i.offset=R,i.extra=15&P,i.mode=24;case 24:if(i.extra){for(j=i.extra;O<j;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}i.offset+=y&(1<<i.extra)-1,y>>>=i.extra,O-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===b)break e;if(C=S-b,i.offset>C){if((C=i.offset-C)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}E=C>i.wnext?(C-=i.wnext,i.wsize-C):i.wnext-C,C>i.length&&(C=i.length),T=i.window}else T=p,E=v-i.offset,C=i.length;for(b<C&&(C=b),b-=C,i.length-=C;p[v++]=T[E++],--C;);0===i.length&&(i.mode=21);break;case 26:if(0===b)break e;p[v++]=i.length,b--,i.mode=21;break;case 27:if(i.wrap){for(;O<32;){if(0===_)break e;_--,y|=f[g++]<<O,O+=8}if(S-=b,e.total_out+=S,i.total+=S,S&&(e.adler=i.check=i.flags?s(i.check,p,S,v-S):n(i.check,p,S,v-S)),S=b,(i.flags?y:m(y))!==i.check){e.msg="incorrect data check",i.mode=30;break}O=y=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;O<32;){if(0===_)break e;_--,y+=f[g++]<<O,O+=8}if(y!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}O=y=0}i.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;default:return u}return e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=_,i.hold=y,i.bits=O,(i.wsize||S!==e.avail_out&&i.mode<30&&(i.mode<27||4!==t))&&k(e,e.output,e.next_out,S-e.avail_out)?(i.mode=31,-4):(w-=e.avail_in,S-=e.avail_out,e.total_in+=w,e.total_out+=S,i.total+=S,i.wrap&&S&&(e.adler=i.check=i.flags?s(i.check,p,S,e.next_out-S):n(i.check,p,S,e.next_out-S)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==w&&0===S||4===t)&&B===h&&(B=-5),B)},i.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,h},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?u:((i.head=t).done=!1,h):u},i.inflateSetDictionary=function(e,t){var i,r=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?u:11===i.mode&&n(1,t,r,0)!==i.check?-3:k(e,t,r,r)?(i.mode=31,-4):(i.havedict=1,h):u},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,i){"use strict";var r=e("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,l,c,h,u,d){var f,p,m,g,v,_,b,y,O,w=d.bits,S=0,x=0,k=0,C=0,E=0,T=0,A=0,P=0,R=0,D=0,M=null,L=0,I=new r.Buf16(16),B=new r.Buf16(16),N=null,j=0;for(S=0;S<=15;S++)I[S]=0;for(x=0;x<l;x++)I[t[i+x]]++;for(E=w,C=15;1<=C&&0===I[C];C--);if(C<E&&(E=C),0===C)return c[h++]=20971520,c[h++]=20971520,d.bits=1,0;for(k=1;k<C&&0===I[k];k++);for(E<k&&(E=k),S=P=1;S<=15;S++)if(P<<=1,(P-=I[S])<0)return-1;if(0<P&&(0===e||1!==C))return-1;for(B[1]=0,S=1;S<15;S++)B[S+1]=B[S]+I[S];for(x=0;x<l;x++)0!==t[i+x]&&(u[B[t[i+x]]++]=x);if(_=0===e?(M=N=u,19):1===e?(M=n,L-=257,N=s,j-=257,256):(M=o,N=a,-1),S=k,v=h,A=x=D=0,m=-1,g=(R=1<<(T=E))-1,1===e&&852<R||2===e&&592<R)return 1;for(;;){for(b=S-A,O=u[x]<_?(y=0,u[x]):u[x]>_?(y=N[j+u[x]],M[L+u[x]]):(y=96,0),f=1<<S-A,k=p=1<<T;c[v+(D>>A)+(p-=f)]=b<<24|y<<16|O|0,0!==p;);for(f=1<<S-1;D&f;)f>>=1;if(0!==f?(D&=f-1,D+=f):D=0,x++,0==--I[S]){if(S===C)break;S=t[i+u[x]]}if(E<S&&(D&g)!==m){for(0===A&&(A=E),v+=k,P=1<<(T=S-A);T+A<C&&!((P-=I[T+A])<=0);)T++,P<<=1;if(R+=1<<T,1===e&&852<R||2===e&&592<R)return 1;c[m=D&g]=E<<24|T<<16|v-h|0}}return 0!==D&&(c[v+D]=S-A<<24|64<<16|0),d.bits=E,0}},{"../utils/common":41}],51:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,i){"use strict";var r=e("../utils/common"),n=0,s=1;function o(e){for(var t=e.length;0<=--t;)e[t]=0}var a=0,l=29,c=256,h=c+1+l,u=30,d=19,f=2*h+1,p=15,m=16,g=7,v=256,_=16,b=17,y=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(2*(h+2));o(k);var C=new Array(2*u);o(C);var E=new Array(512);o(E);var T=new Array(256);o(T);var A=new Array(l);o(A);var P,R,D,M=new Array(u);function L(e,t,i,r,n){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=r,this.max_length=n,this.has_stree=e&&e.length}function I(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function B(e){return e<256?E[e]:E[256+(e>>>7)]}function N(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function j(e,t,i){e.bi_valid>m-i?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=i-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function W(e,t,i){j(e,i[2*t],i[2*t+1])}function z(e,t){for(var i=0;i|=1&e,e>>>=1,i<<=1,0<--t;);return i>>>1}function Q(e,t,i){var r,n,s=new Array(p+1),o=0;for(r=1;r<=p;r++)s[r]=o=o+i[r-1]<<1;for(n=0;n<=t;n++){var a=e[2*n+1];0!==a&&(e[2*n]=z(s[a]++,a))}}function F(e){var t;for(t=0;t<h;t++)e.dyn_ltree[2*t]=0;for(t=0;t<u;t++)e.dyn_dtree[2*t]=0;for(t=0;t<d;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function U(e){8<e.bi_valid?N(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function q(e,t,i,r){var n=2*t,s=2*i;return e[n]<e[s]||e[n]===e[s]&&r[t]<=r[i]}function H(e,t,i){for(var r=e.heap[i],n=i<<1;n<=e.heap_len&&(n<e.heap_len&&q(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!q(t,r,e.heap[n],e.depth));)e.heap[i]=e.heap[n],i=n,n<<=1;e.heap[i]=r}function V(e,t,i){var r,n,s,o,a=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],n=e.pending_buf[e.l_buf+a],a++,0===r?W(e,n,t):(W(e,(s=T[n])+c+1,t),0!==(o=O[s])&&j(e,n-=A[s],o),W(e,s=B(--r),i),0!==(o=w[s])&&j(e,r-=M[s],o)),a<e.last_lit;);W(e,v,t)}function Y(e,t){var i,r,n,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=f,i=0;i<l;i++)0!==s[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):s[2*i+1]=0;for(;e.heap_len<2;)s[2*(n=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[n]=0,e.opt_len--,a&&(e.static_len-=o[2*n+1]);for(t.max_code=c,i=e.heap_len>>1;1<=i;i--)H(e,s,i);for(n=l;i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],H(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=r,s[2*n]=s[2*i]+s[2*r],e.depth[n]=(e.depth[i]>=e.depth[r]?e.depth[i]:e.depth[r])+1,s[2*i+1]=s[2*r+1]=n,e.heap[1]=n++,H(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,r,n,s,o,a,l=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,u=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(s=0;s<=p;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<f;i++)g<(s=l[2*l[2*(r=e.heap[i])+1]+1]+1)&&(s=g,v++),l[2*r+1]=s,c<r||(e.bl_count[s]++,o=0,m<=r&&(o=d[r-m]),a=l[2*r],e.opt_len+=a*(s+o),u&&(e.static_len+=a*(h[2*r+1]+o)));if(0!==v){do{for(s=g-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[g]--,v-=2}while(0<v);for(s=g;0!==s;s--)for(r=e.bl_count[s];0!==r;)c<(n=e.heap[--i])||(l[2*n+1]!==s&&(e.opt_len+=(s-l[2*n+1])*l[2*n],l[2*n+1]=s),r--)}}(e,t),Q(s,c,e.bl_count)}function X(e,t,i){var r,n,s=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(i+1)+1]=65535,r=0;r<=i;r++)n=o,o=t[2*(r+1)+1],++a<l&&n===o||(a<c?e.bl_tree[2*n]+=a:0!==n?(n!==s&&e.bl_tree[2*n]++,e.bl_tree[2*_]++):a<=10?e.bl_tree[2*b]++:e.bl_tree[2*y]++,s=n,c=(a=0)===o?(l=138,3):n===o?(l=6,3):(l=7,4))}function Z(e,t,i){var r,n,s=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),r=0;r<=i;r++)if(n=o,o=t[2*(r+1)+1],!(++a<l&&n===o)){if(a<c)for(;W(e,n,e.bl_tree),0!=--a;);else 0!==n?(n!==s&&(W(e,n,e.bl_tree),a--),W(e,_,e.bl_tree),j(e,a-3,2)):a<=10?(W(e,b,e.bl_tree),j(e,a-3,3)):(W(e,y,e.bl_tree),j(e,a-11,7));s=n,c=(a=0)===o?(l=138,3):n===o?(l=6,3):(l=7,4)}}o(M);var G=!1;function $(e,t,i,n){j(e,(a<<1)+(n?1:0),3),function(e,t,i,n){U(e),n&&(N(e,i),N(e,~i)),r.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i,!0)}i._tr_init=function(e){G||(function(){var e,t,i,r,n,s=new Array(p+1);for(r=i=0;r<l-1;r++)for(A[r]=i,e=0;e<1<<O[r];e++)T[i++]=r;for(T[i-1]=r,r=n=0;r<16;r++)for(M[r]=n,e=0;e<1<<w[r];e++)E[n++]=r;for(n>>=7;r<u;r++)for(M[r]=n<<7,e=0;e<1<<w[r]-7;e++)E[256+n++]=r;for(t=0;t<=p;t++)s[t]=0;for(e=0;e<=143;)k[2*e+1]=8,e++,s[8]++;for(;e<=255;)k[2*e+1]=9,e++,s[9]++;for(;e<=279;)k[2*e+1]=7,e++,s[7]++;for(;e<=287;)k[2*e+1]=8,e++,s[8]++;for(Q(k,h+1,s),e=0;e<u;e++)C[2*e+1]=5,C[2*e]=z(e,5);P=new L(k,O,c+1,h,p),R=new L(C,w,0,u,p),D=new L(new Array(0),S,0,d,g)}(),G=!0),e.l_desc=new I(e.dyn_ltree,P),e.d_desc=new I(e.dyn_dtree,R),e.bl_desc=new I(e.bl_tree,D),e.bi_buf=0,e.bi_valid=0,F(e)},i._tr_stored_block=$,i._tr_flush_block=function(e,t,i,r){var o,a,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return n;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return s;return n}(e)),Y(e,e.l_desc),Y(e,e.d_desc),l=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=d-1;3<=t&&0===e.bl_tree[2*x[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=i+5,i+4<=o&&-1!==t?$(e,t,i,r):4===e.strategy||a===o?(j(e,2+(r?1:0),3),V(e,k,C)):(j(e,4+(r?1:0),3),function(e,t,i,r){var n;for(j(e,t-257,5),j(e,i-1,5),j(e,r-4,4),n=0;n<r;n++)j(e,e.bl_tree[2*x[n]+1],3);Z(e,e.dyn_ltree,t-1),Z(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),V(e,e.dyn_ltree,e.dyn_dtree)),F(e),r&&U(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(T[i]+c+1)]++,e.dyn_dtree[2*B(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){j(e,2,3),W(e,v,k),function(e){16===e.bi_valid?(N(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var i,r,n,s,o=1,a={},l=!1,c=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,i="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?(s="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){n.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(d,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return a[o]=n,i(o),o++},h.clearImmediate=u}function u(e){delete a[e]}function d(e){if(l)setTimeout(d,0,e);else{var i=a[e];if(i){l=!0;try{!function(e){var i=e.callback,r=e.args;switch(r.length){case 0:i();break;case 1:i(r[0]);break;case 2:i(r[0],r[1]);break;case 3:i(r[0],r[1],r[2]);break;default:i.apply(t,r)}}(i)}finally{u(e),l=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&d(+t.data.slice(s.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},4463:(e,t,i)=>{"use strict";var r=i(2791),n=i(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,i,r,n,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,i,r){var n=g.hasOwnProperty(t)?g[t]:null;(null!==n?0!==n.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,r){if(null===t||"undefined"===typeof t||function(e,t,i,r){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,r))return!0;if(r)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,n,r)&&(i=null),r||null===n?function(e){return!!u.call(p,e)||!u.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):n.mustUseProperty?e[n.propertyName]=null===i?3!==n.type&&"":i:(t=n.attributeName,r=n.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(n=n.type)||4===n&&!0===i?"":""+i,r?e.setAttributeNS(r,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,_);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,_);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,_);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var B,N=Object.assign;function j(e){if(void 0===B)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var W=!1;function z(e,t){if(!e||W)return"";W=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),s=r.stack.split("\n"),o=n.length-1,a=s.length-1;1<=o&&0<=a&&n[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(n[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||n[o]!==s[a]){var l="\n"+n[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{W=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?j(e):""}function Q(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function F(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case k:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return F(e(t))}catch(i){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var n=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==i&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var i=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function G(e,t){var i=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;i=q(null!=t.value?t.value:i),e._wrapperState={initialChecked:r,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function K(e,t){$(e,t);var i=q(t.value),r=t.type;if(null!=i)"number"===r?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&X(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,r){if(e=e.options,t){t={};for(var n=0;n<i.length;n++)t["$"+i[n]]=!0;for(i=0;i<e.length;i++)n=t.hasOwnProperty("$"+e[i].value),e[i].selected!==n&&(e[i].selected=n),n&&r&&(e[i].defaultSelected=!0)}else{for(i=""+q(i),t=null,n=0;n<e.length;n++){if(e[n].value===i)return e[n].selected=!0,void(r&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(s(92));if(te(i)){if(1<i.length)throw Error(s(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:q(i)}}function se(e,t){var i=q(t.value),r=q(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,he,ue=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function de(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var r=0===i.indexOf("--"),n=me(i,t[i],r);"float"===i&&(i="cssFloat"),r?e.setProperty(i,n):e[i]=n}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function Oe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,xe=null;function ke(e){if(e=bn(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=On(t),we(e.stateNode,e.type,t))}}function Ce(e){Se?xe?xe.push(e):xe=[e]:Se=e}function Ee(){if(Se){var e=Se,t=xe;if(xe=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ae(){}var Pe=!1;function Re(e,t,i){if(Pe)return e(t,i);Pe=!0;try{return Te(e,t,i)}finally{Pe=!1,(null!==Se||null!==xe)&&(Ae(),Ee())}}function De(e,t){var i=e.stateNode;if(null===i)return null;var r=On(i);if(null===r)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(i&&"function"!==typeof i)throw Error(s(231,t,typeof i));return i}var Me=!1;if(h)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(he){Me=!1}function Ie(e,t,i,r,n,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(i,c)}catch(h){this.onError(h)}}var Be=!1,Ne=null,je=!1,We=null,ze={onError:function(e){Be=!0,Ne=e}};function Qe(e,t,i,r,n,s,o,a,l){Be=!1,Ne=null,Ie.apply(ze,arguments)}function Fe(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Fe(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Fe(e)))throw Error(s(188));return t!==e?null:e}for(var i=e,r=t;;){var n=i.return;if(null===n)break;var o=n.alternate;if(null===o){if(null!==(r=n.return)){i=r;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===i)return qe(n),e;if(o===r)return qe(n),t;o=o.sibling}throw Error(s(188))}if(i.return!==r.return)i=n,r=o;else{for(var a=!1,l=n.child;l;){if(l===i){a=!0,i=n,r=o;break}if(l===r){a=!0,r=n,i=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===i){a=!0,i=o,r=n;break}if(l===r){a=!0,r=o,i=n;break}l=l.sibling}if(!a)throw Error(s(189))}}if(i.alternate!==r)throw Error(s(190))}if(3!==i.tag)throw Error(s(188));return i.stateNode.current===i?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ye=n.unstable_scheduleCallback,Xe=n.unstable_cancelCallback,Ze=n.unstable_shouldYield,Ge=n.unstable_requestPaint,$e=n.unstable_now,Ke=n.unstable_getCurrentPriorityLevel,Je=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,it=n.unstable_LowPriority,rt=n.unstable_IdlePriority,nt=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ht=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var i=e.pendingLanes;if(0===i)return 0;var r=0,n=e.suspendedLanes,s=e.pingedLanes,o=268435455&i;if(0!==o){var a=o&~n;0!==a?r=ut(a):0!==(s&=o)&&(r=ut(s))}else 0!==(o=i&~n)?r=ut(o):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&n)&&((n=r&-r)>=(s=t&-t)||16===n&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)n=1<<(i=31-ot(t)),r|=e[i],t&=~n;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function vt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=i}function _t(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-ot(i),n=1<<r;n&t|e[r]&t&&(e[r]|=t),i&=~n}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ot,wt,St,xt,kt,Ct=!1,Et=[],Tt=null,At=null,Pt=null,Rt=new Map,Dt=new Map,Mt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Bt(e,t,i,r,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=bn(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Nt(e){var t=_n(e.target);if(null!==t){var i=Fe(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=Ue(i)))return e.blockedOn=t,void kt(e.priority,(function(){St(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=bn(i))&&wt(t),e.blockedOn=i,!1;var r=new(i=e.nativeEvent).constructor(i.type,i);ye=r,i.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Wt(e,t,i){jt(e)&&i.delete(t)}function zt(){Ct=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==At&&jt(At)&&(At=null),null!==Pt&&jt(Pt)&&(Pt=null),Rt.forEach(Wt),Dt.forEach(Wt)}function Qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zt)))}function Ft(e){function t(t){return Qt(t,e)}if(0<Et.length){Qt(Et[0],e);for(var i=1;i<Et.length;i++){var r=Et[i];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Qt(Tt,e),null!==At&&Qt(At,e),null!==Pt&&Qt(Pt,e),Rt.forEach(t),Dt.forEach(t),i=0;i<Mt.length;i++)(r=Mt[i]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(i=Mt[0]).blockedOn;)Nt(i),null===i.blockedOn&&Mt.shift()}var Ut=y.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,i,r){var n=bt,s=Ut.transition;Ut.transition=null;try{bt=1,Yt(e,t,i,r)}finally{bt=n,Ut.transition=s}}function Vt(e,t,i,r){var n=bt,s=Ut.transition;Ut.transition=null;try{bt=4,Yt(e,t,i,r)}finally{bt=n,Ut.transition=s}}function Yt(e,t,i,r){if(qt){var n=Zt(e,t,i,r);if(null===n)Ur(e,t,r,Xt,i),It(e,r);else if(function(e,t,i,r,n){switch(t){case"focusin":return Tt=Bt(Tt,e,t,i,r,n),!0;case"dragenter":return At=Bt(At,e,t,i,r,n),!0;case"mouseover":return Pt=Bt(Pt,e,t,i,r,n),!0;case"pointerover":var s=n.pointerId;return Rt.set(s,Bt(Rt.get(s)||null,e,t,i,r,n)),!0;case"gotpointercapture":return s=n.pointerId,Dt.set(s,Bt(Dt.get(s)||null,e,t,i,r,n)),!0}return!1}(n,e,t,i,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==n;){var s=bn(n);if(null!==s&&Ot(s),null===(s=Zt(e,t,i,r))&&Ur(e,t,r,Xt,i),s===n)break;n=s}null!==n&&r.stopPropagation()}else Ur(e,t,r,null,i)}}var Xt=null;function Zt(e,t,i,r){if(Xt=null,null!==(e=_n(e=Oe(r))))if(null===(t=Fe(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case it:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Kt=null,Jt=null;function ei(){if(Jt)return Jt;var e,t,i=Kt,r=i.length,n="value"in $t?$t.value:$t.textContent,s=n.length;for(e=0;e<r&&i[e]===n[e];e++);var o=r-e;for(t=1;t<=o&&i[r-t]===n[s-t];t++);return Jt=n.slice(e,1<t?1-t:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ii(){return!0}function ri(){return!1}function ni(e){function t(t,i,r,n,s){for(var o in this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(n):n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ii:ri,this.isPropagationStopped=ri,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var si,oi,ai,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=ni(li),hi=N({},li,{view:0,detail:0}),ui=ni(hi),di=N({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&"mousemove"===e.type?(si=e.screenX-ai.screenX,oi=e.screenY-ai.screenY):oi=si=0,ai=e),si)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),fi=ni(di),pi=ni(N({},di,{dataTransfer:0})),mi=ni(N({},hi,{relatedTarget:0})),gi=ni(N({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),vi=N({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_i=ni(vi),bi=ni(N({},li,{data:0})),yi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Si(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wi[e])&&!!t[e]}function xi(){return Si}var ki=N({},hi,{key:function(e){if(e.key){var t=yi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Oi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ci=ni(ki),Ei=ni(N({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ti=ni(N({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi})),Ai=ni(N({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pi=N({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ri=ni(Pi),Di=[9,13,27,32],Mi=h&&"CompositionEvent"in window,Li=null;h&&"documentMode"in document&&(Li=document.documentMode);var Ii=h&&"TextEvent"in window&&!Li,Bi=h&&(!Mi||Li&&8<Li&&11>=Li),Ni=String.fromCharCode(32),ji=!1;function Wi(e,t){switch(e){case"keyup":return-1!==Di.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Qi=!1;var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fi[e.type]:"textarea"===t}function qi(e,t,i,r){Ce(r),0<(t=Hr(t,"onChange")).length&&(i=new ci("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Hi=null,Vi=null;function Yi(e){Nr(e,0)}function Xi(e){if(Y(yn(e)))return e}function Zi(e,t){if("change"===e)return t}var Gi=!1;if(h){var $i;if(h){var Ki="oninput"in document;if(!Ki){var Ji=document.createElement("div");Ji.setAttribute("oninput","return;"),Ki="function"===typeof Ji.oninput}$i=Ki}else $i=!1;Gi=$i&&(!document.documentMode||9<document.documentMode)}function er(){Hi&&(Hi.detachEvent("onpropertychange",tr),Vi=Hi=null)}function tr(e){if("value"===e.propertyName&&Xi(Vi)){var t=[];qi(t,Vi,e,Oe(e)),Re(Yi,t)}}function ir(e,t,i){"focusin"===e?(er(),Vi=i,(Hi=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xi(Vi)}function nr(e,t){if("click"===e)return Xi(t)}function sr(e,t){if("input"===e||"change"===e)return Xi(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ar(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var n=i[r];if(!u.call(t,n)||!or(e[n],t[n]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var i,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(r){i=!1}if(!i)break;t=X((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=ur(),i=e.focusedElem,r=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&hr(i.ownerDocument.documentElement,i)){if(null!==r&&dr(i))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=i.textContent.length,s=Math.min(r.start,n);r=void 0===r.end?s:Math.min(r.end,n),!e.extend&&s>r&&(n=r,r=s,s=n),n=cr(i,s);var o=cr(i,r);n&&o&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=h&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,_r=!1;function br(e,t,i){var r=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;_r||null==mr||mr!==X(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ar(vr,r)||(vr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new ci("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=mr)))}function yr(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Or={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},wr={},Sr={};function xr(e){if(wr[e])return wr[e];if(!Or[e])return e;var t,i=Or[e];for(t in i)if(i.hasOwnProperty(t)&&t in Sr)return wr[e]=i[t];return e}h&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);var kr=xr("animationend"),Cr=xr("animationiteration"),Er=xr("animationstart"),Tr=xr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),l(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Mr=Pr[Dr];Rr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Er,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Br(e,t,i){var r=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,r,n,o,a,l,c){if(Qe.apply(this,arguments),Be){if(!Be)throw Error(s(198));var h=Ne;Be=!1,Ne=null,je||(je=!0,We=h)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var i=0;i<e.length;i++){var r=e[i],n=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&n.isPropagationStopped())break e;Br(n,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&n.isPropagationStopped())break e;Br(n,a,c),s=l}}}if(je)throw e=We,je=!1,We=null,e}function jr(e,t){var i=t[mn];void 0===i&&(i=t[mn]=new Set);var r=e+"__bubble";i.has(r)||(Fr(t,e,2,!1),i.add(r))}function Wr(e,t,i){var r=0;t&&(r|=4),Fr(i,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ir.has(t)||Wr(t,!1,e),Wr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Wr("selectionchange",!1,t))}}function Fr(e,t,i,r){switch(Gt(t)){case 1:var n=Ht;break;case 4:n=Vt;break;default:n=Yt}i=n.bind(null,t,i,e),n=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),r?void 0!==n?e.addEventListener(t,i,{capture:!0,passive:n}):e.addEventListener(t,i,!0):void 0!==n?e.addEventListener(t,i,{passive:n}):e.addEventListener(t,i,!1)}function Ur(e,t,i,r,n){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===n||8===a.nodeType&&a.parentNode===n)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;o=o.return}for(;null!==a;){if(null===(o=_n(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=s,n=Oe(i),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=ci,c=e;switch(e){case"keypress":if(0===ti(i))break e;case"keydown":case"keyup":l=Ci;break;case"focusin":c="focus",l=mi;break;case"focusout":c="blur",l=mi;break;case"beforeblur":case"afterblur":l=mi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ti;break;case kr:case Cr:case Er:l=gi;break;case Tr:l=Ai;break;case"scroll":l=ui;break;case"wheel":l=Ri;break;case"copy":case"cut":case"paste":l=_i;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ei}var h=0!==(4&t),u=!h&&"scroll"===e,d=h?null!==a?a+"Capture":null:a;h=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&h.push(qr(p,m,f)))),u)break;p=p.return}0<h.length&&(a=new l(a,c,null,i,n),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||i===ye||!(c=i.relatedTarget||i.fromElement)||!_n(c)&&!c[pn])&&(l||a)&&(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=i.relatedTarget||i.toElement)?_n(c):null)&&(c!==(u=Fe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(h=fi,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(h=Ei,m="onPointerLeave",d="onPointerEnter",p="pointer"),u=null==l?a:yn(l),f=null==c?a:yn(c),(a=new h(m,p+"leave",l,i,n)).target=u,a.relatedTarget=f,m=null,_n(n)===r&&((h=new h(d,p+"enter",c,i,n)).target=f,h.relatedTarget=u,m=h),u=m,l&&c)e:{for(d=c,p=0,f=h=l;f;f=Vr(f))p++;for(f=0,m=d;m;m=Vr(m))f++;for(;0<p-f;)h=Vr(h),p--;for(;0<f-p;)d=Vr(d),f--;for(;p--;){if(h===d||null!==d&&h===d.alternate)break e;h=Vr(h),d=Vr(d)}h=null}else h=null;null!==l&&Yr(o,a,l,h,!1),null!==c&&null!==u&&Yr(o,u,c,h,!0)}if("select"===(l=(a=r?yn(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Zi;else if(Ui(a))if(Gi)g=sr;else{g=rr;var v=ir}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=nr);switch(g&&(g=g(e,r))?qi(o,g,i,n):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?yn(r):window,e){case"focusin":(Ui(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,i,n);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(o,i,n)}var _;if(Mi)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Qi?Wi(e,i)&&(b="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(b="onCompositionStart");b&&(Bi&&"ko"!==i.locale&&(Qi||"onCompositionStart"!==b?"onCompositionEnd"===b&&Qi&&(_=ei()):(Kt="value"in($t=n)?$t.value:$t.textContent,Qi=!0)),0<(v=Hr(r,b)).length&&(b=new bi(b,e,null,i,n),o.push({event:b,listeners:v}),_?b.data=_:null!==(_=zi(i))&&(b.data=_))),(_=Ii?function(e,t){switch(e){case"compositionend":return zi(t);case"keypress":return 32!==t.which?null:(ji=!0,Ni);case"textInput":return(e=t.data)===Ni&&ji?null:e;default:return null}}(e,i):function(e,t){if(Qi)return"compositionend"===e||!Mi&&Wi(e,t)?(e=ei(),Jt=Kt=$t=null,Qi=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bi&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(r=Hr(r,"onBeforeInput")).length&&(n=new bi("onBeforeInput","beforeinput",null,i,n),o.push({event:n,listeners:r}),n.data=_))}Nr(o,t)}))}function qr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Hr(e,t){for(var i=t+"Capture",r=[];null!==e;){var n=e,s=n.stateNode;5===n.tag&&null!==s&&(n=s,null!=(s=De(e,i))&&r.unshift(qr(e,s,n)),null!=(s=De(e,t))&&r.push(qr(e,s,n))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,i,r,n){for(var s=t._reactName,o=[];null!==i&&i!==r;){var a=i,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,n?null!=(l=De(i,s))&&o.unshift(qr(i,l,a)):n||null!=(l=De(i,s))&&o.push(qr(i,l,a))),i=i.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Zr,"")}function $r(e,t,i){if(t=Gr(t),Gr(e)!==t&&i)throw Error(s(425))}function Kr(){}var Jr=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rn="function"===typeof setTimeout?setTimeout:void 0,nn="function"===typeof clearTimeout?clearTimeout:void 0,sn="function"===typeof Promise?Promise:void 0,on="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sn?function(e){return sn.resolve(null).then(e).catch(an)}:rn;function an(e){setTimeout((function(){throw e}))}function ln(e,t){var i=t,r=0;do{var n=i.nextSibling;if(e.removeChild(i),n&&8===n.nodeType)if("/$"===(i=n.data)){if(0===r)return e.removeChild(n),void Ft(t);r--}else"$"!==i&&"$?"!==i&&"$!"!==i||r++;i=n}while(i);Ft(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),dn="__reactFiber$"+un,fn="__reactProps$"+un,pn="__reactContainer$"+un,mn="__reactEvents$"+un,gn="__reactListeners$"+un,vn="__reactHandles$"+un;function _n(e){var t=e[dn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[pn]||i[dn]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=hn(e);null!==e;){if(i=e[dn])return i;e=hn(e)}return t}i=(e=i).parentNode}return null}function bn(e){return!(e=e[dn]||e[pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function On(e){return e[fn]||null}var wn=[],Sn=-1;function xn(e){return{current:e}}function kn(e){0>Sn||(e.current=wn[Sn],wn[Sn]=null,Sn--)}function Cn(e,t){Sn++,wn[Sn]=e.current,e.current=t}var En={},Tn=xn(En),An=xn(!1),Pn=En;function Rn(e,t){var i=e.type.contextTypes;if(!i)return En;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n,s={};for(n in i)s[n]=t[n];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mn(){kn(An),kn(Tn)}function Ln(e,t,i){if(Tn.current!==En)throw Error(s(168));Cn(Tn,t),Cn(An,i)}function In(e,t,i){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return i;for(var n in r=r.getChildContext())if(!(n in t))throw Error(s(108,U(e)||"Unknown",n));return N({},i,r)}function Bn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Pn=Tn.current,Cn(Tn,e),Cn(An,An.current),!0}function Nn(e,t,i){var r=e.stateNode;if(!r)throw Error(s(169));i?(e=In(e,t,Pn),r.__reactInternalMemoizedMergedChildContext=e,kn(An),kn(Tn),Cn(Tn,e)):kn(An),Cn(An,i)}var jn=null,Wn=!1,zn=!1;function Qn(e){null===jn?jn=[e]:jn.push(e)}function Fn(){if(!zn&&null!==jn){zn=!0;var e=0,t=bt;try{var i=jn;for(bt=1;e<i.length;e++){var r=i[e];do{r=r(!0)}while(null!==r)}jn=null,Wn=!1}catch(n){throw null!==jn&&(jn=jn.slice(e+1)),Ye(Je,Fn),n}finally{bt=t,zn=!1}}return null}var Un=[],qn=0,Hn=null,Vn=0,Yn=[],Xn=0,Zn=null,Gn=1,$n="";function Kn(e,t){Un[qn++]=Vn,Un[qn++]=Hn,Hn=e,Vn=t}function Jn(e,t,i){Yn[Xn++]=Gn,Yn[Xn++]=$n,Yn[Xn++]=Zn,Zn=e;var r=Gn;e=$n;var n=32-ot(r)-1;r&=~(1<<n),i+=1;var s=32-ot(t)+n;if(30<s){var o=n-n%5;s=(r&(1<<o)-1).toString(32),r>>=o,n-=o,Gn=1<<32-ot(t)+n|i<<n|r,$n=s+e}else Gn=1<<s|i<<n|r,$n=e}function es(e){null!==e.return&&(Kn(e,1),Jn(e,1,0))}function ts(e){for(;e===Hn;)Hn=Un[--qn],Un[qn]=null,Vn=Un[--qn],Un[qn]=null;for(;e===Zn;)Zn=Yn[--Xn],Yn[Xn]=null,$n=Yn[--Xn],Yn[Xn]=null,Gn=Yn[--Xn],Yn[Xn]=null}var is=null,rs=null,ns=!1,ss=null;function os(e,t){var i=Dc(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function as(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,is=e,rs=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,is=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==Zn?{id:Gn,overflow:$n}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=Dc(18,null,null,0)).stateNode=t,i.return=e,e.child=i,is=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(ns){var t=rs;if(t){var i=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=cn(i.nextSibling);var r=is;t&&as(e,t)?os(r,i):(e.flags=-4097&e.flags|2,ns=!1,is=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,ns=!1,is=e}}}function hs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;is=e}function us(e){if(e!==is)return!1;if(!ns)return hs(e),ns=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=cn(t.nextSibling)}if(hs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){rs=cn(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}rs=null}}else rs=is?cn(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=cn(e.nextSibling)}function fs(){rs=is=null,ns=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=y.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var i in t=N({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var vs=xn(null),_s=null,bs=null,ys=null;function Os(){ys=bs=_s=null}function ws(e){var t=vs.current;kn(vs),e._currentValue=t}function Ss(e,t,i){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function xs(e,t){_s=e,ys=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ya=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(ys!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===_s)throw Error(s(308));bs=e,_s.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var Cs=null;function Es(e){null===Cs?Cs=[e]:Cs.push(e)}function Ts(e,t,i,r){var n=t.interleaved;return null===n?(i.next=i,Es(t)):(i.next=n.next,n.next=i),t.interleaved=i,As(e,r)}function As(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}var Ps=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(e,t,i){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var n=r.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),r.pending=t,As(e,i)}return null===(n=r.interleaved)?(t.next=t,Es(r)):(t.next=n.next,n.next=t),r.interleaved=t,As(e,i)}function Is(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&i))){var r=t.lanes;i|=r&=e.pendingLanes,t.lanes=i,_t(e,i)}}function Bs(e,t){var i=e.updateQueue,r=e.alternate;if(null!==r&&i===(r=r.updateQueue)){var n=null,s=null;if(null!==(i=i.firstBaseUpdate)){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===s?n=s=o:s=s.next=o,i=i.next}while(null!==i);null===s?n=s=t:s=s.next=t}else n=s=t;return i={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ns(e,t,i,r){var n=e.updateQueue;Ps=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,a=n.shared.pending;if(null!==a){n.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var h=e.alternate;null!==h&&((a=(h=h.updateQueue).lastBaseUpdate)!==o&&(null===a?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(null!==s){var u=n.baseState;for(o=0,h=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==h&&(h=h.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=i,m.tag){case 1:if("function"===typeof(p=m.payload)){u=p.call(f,u,d);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,u,d):p)||void 0===d)break e;u=N({},u,d);break e;case 2:Ps=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=n.effects)?n.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=f,l=u):h=h.next=f,o|=d;if(null===(a=a.next)){if(null===(a=n.shared.pending))break;a=(d=a).next,d.next=null,n.lastBaseUpdate=d,n.shared.pending=null}}if(null===h&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=h,null!==(t=n.shared.interleaved)){n=t;do{o|=n.lane,n=n.next}while(n!==t)}else null===s&&(n.shared.lanes=0);Nl|=o,e.lanes=o,e.memoizedState=u}}function js(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(null!==n){if(r.callback=null,r=i,"function"!==typeof n)throw Error(s(191,n));n.call(r)}}}var Ws=(new r.Component).refs;function zs(e,t,i,r){i=null===(i=i(r,t=e.memoizedState))||void 0===i?t:N({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var Qs={isMounted:function(e){return!!(e=e._reactInternals)&&Fe(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var r=tc(),n=ic(e),s=Ms(r,n);s.payload=t,void 0!==i&&null!==i&&(s.callback=i),null!==(t=Ls(e,s,n))&&(rc(t,e,n,r),Is(t,e,n))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=tc(),n=ic(e),s=Ms(r,n);s.tag=1,s.payload=t,void 0!==i&&null!==i&&(s.callback=i),null!==(t=Ls(e,s,n))&&(rc(t,e,n,r),Is(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=tc(),r=ic(e),n=Ms(i,r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Ls(e,n,r))&&(rc(t,e,r,i),Is(t,e,r))}};function Fs(e,t,i,r,n,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!ar(i,r)||!ar(n,s))}function Us(e,t,i){var r=!1,n=En,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(n=Dn(t)?Pn:Tn.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Rn(e,n):En),t=new t(i,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Qs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function qs(e,t,i,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&Qs.enqueueReplaceState(t,t.state,null)}function Hs(e,t,i,r){var n=e.stateNode;n.props=i,n.state=e.memoizedState,n.refs=Ws,Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?n.context=ks(s):(s=Dn(t)?Pn:Tn.current,n.context=Rn(e,s)),n.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(zs(e,t,s,i),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&Qs.enqueueReplaceState(n,n.state,null),Ns(e,i,n,r),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function Vs(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(s(309));var r=i.stateNode}if(!r)throw Error(s(147,e));var n=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=n.refs;t===Ws&&(t=n.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xs(e){return(0,e._init)(e._payload)}function Zs(e){function t(t,i){if(e){var r=t.deletions;null===r?(t.deletions=[i],t.flags|=16):r.push(i)}}function i(i,r){if(!e)return null;for(;null!==r;)t(i,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,i,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<i?(t.flags|=2,i):r:(t.flags|=2,i):(t.flags|=1048576,i)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,r){return null===t||6!==t.tag?((t=jc(i,e.mode,r)).return=e,t):((t=n(t,i)).return=e,t)}function c(e,t,i,r){var s=i.type;return s===S?u(e,t,i.props.children,r,i.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&Xs(s)===t.type)?((r=n(t,i.props)).ref=Vs(e,t,i),r.return=e,r):((r=Ic(i.type,i.key,i.props,null,e.mode,r)).ref=Vs(e,t,i),r.return=e,r)}function h(e,t,i,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Wc(i,e.mode,r)).return=e,t):((t=n(t,i.children||[])).return=e,t)}function u(e,t,i,r,s){return null===t||7!==t.tag?((t=Bc(i,e.mode,r,s)).return=e,t):((t=n(t,i)).return=e,t)}function d(e,t,i){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case O:return(i=Ic(t.type,t.key,t.props,null,e.mode,i)).ref=Vs(e,null,t),i.return=e,i;case w:return(t=Wc(t,e.mode,i)).return=e,t;case D:return d(e,(0,t._init)(t._payload),i)}if(te(t)||I(t))return(t=Bc(t,e.mode,i,null)).return=e,t;Ys(e,t)}return null}function f(e,t,i,r){var n=null!==t?t.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==n?null:l(e,t,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case O:return i.key===n?c(e,t,i,r):null;case w:return i.key===n?h(e,t,i,r):null;case D:return f(e,t,(n=i._init)(i._payload),r)}if(te(i)||I(i))return null!==n?null:u(e,t,i,r,null);Ys(e,i)}return null}function p(e,t,i,r,n){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(i)||null,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case O:return c(t,e=e.get(null===r.key?i:r.key)||null,r,n);case w:return h(t,e=e.get(null===r.key?i:r.key)||null,r,n);case D:return p(e,t,i,(0,r._init)(r._payload),n)}if(te(r)||I(r))return u(t,e=e.get(i)||null,r,n,null);Ys(t,r)}return null}function m(n,s,a,l){for(var c=null,h=null,u=s,m=s=0,g=null;null!==u&&m<a.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var v=f(n,u,a[m],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(n,u),s=o(v,s,m),null===h?c=v:h.sibling=v,h=v,u=g}if(m===a.length)return i(n,u),ns&&Kn(n,m),c;if(null===u){for(;m<a.length;m++)null!==(u=d(n,a[m],l))&&(s=o(u,s,m),null===h?c=u:h.sibling=u,h=u);return ns&&Kn(n,m),c}for(u=r(n,u);m<a.length;m++)null!==(g=p(u,n,m,a[m],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),s=o(g,s,m),null===h?c=g:h.sibling=g,h=g);return e&&u.forEach((function(e){return t(n,e)})),ns&&Kn(n,m),c}function g(n,a,l,c){var h=I(l);if("function"!==typeof h)throw Error(s(150));if(null==(l=h.call(l)))throw Error(s(151));for(var u=h=null,m=a,g=a=0,v=null,_=l.next();null!==m&&!_.done;g++,_=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(n,m,_.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(n,m),a=o(b,a,g),null===u?h=b:u.sibling=b,u=b,m=v}if(_.done)return i(n,m),ns&&Kn(n,g),h;if(null===m){for(;!_.done;g++,_=l.next())null!==(_=d(n,_.value,c))&&(a=o(_,a,g),null===u?h=_:u.sibling=_,u=_);return ns&&Kn(n,g),h}for(m=r(n,m);!_.done;g++,_=l.next())null!==(_=p(m,n,g,_.value,c))&&(e&&null!==_.alternate&&m.delete(null===_.key?g:_.key),a=o(_,a,g),null===u?h=_:u.sibling=_,u=_);return e&&m.forEach((function(e){return t(n,e)})),ns&&Kn(n,g),h}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case O:e:{for(var c=o.key,h=s;null!==h;){if(h.key===c){if((c=o.type)===S){if(7===h.tag){i(r,h.sibling),(s=n(h,o.props.children)).return=r,r=s;break e}}else if(h.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Xs(c)===h.type){i(r,h.sibling),(s=n(h,o.props)).ref=Vs(r,h,o),s.return=r,r=s;break e}i(r,h);break}t(r,h),h=h.sibling}o.type===S?((s=Bc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Ic(o.type,o.key,o.props,null,r.mode,l)).ref=Vs(r,s,o),l.return=r,r=l)}return a(r);case w:e:{for(h=o.key;null!==s;){if(s.key===h){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){i(r,s.sibling),(s=n(s,o.children||[])).return=r,r=s;break e}i(r,s);break}t(r,s),s=s.sibling}(s=Wc(o,r.mode,l)).return=r,r=s}return a(r);case D:return e(r,s,(h=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(I(o))return g(r,s,o,l);Ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(i(r,s.sibling),(s=n(s,o)).return=r,r=s):(i(r,s),(s=jc(o,r.mode,l)).return=r,r=s),a(r)):i(r,s)}}var Gs=Zs(!0),$s=Zs(!1),Ks={},Js=xn(Ks),eo=xn(Ks),to=xn(Ks);function io(e){if(e===Ks)throw Error(s(174));return e}function ro(e,t){switch(Cn(to,t),Cn(eo,e),Cn(Js,Ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}kn(Js),Cn(Js,t)}function no(){kn(Js),kn(eo),kn(to)}function so(e){io(to.current);var t=io(Js.current),i=le(t,e.type);t!==i&&(Cn(eo,e),Cn(Js,i))}function oo(e){eo.current===e&&(kn(Js),kn(eo))}var ao=xn(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function ho(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var uo=y.ReactCurrentDispatcher,fo=y.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,_o=!1,bo=!1,yo=0,Oo=0;function wo(){throw Error(s(321))}function So(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!or(e[i],t[i]))return!1;return!0}function xo(e,t,i,r,n,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?aa:la,e=i(r,n),bo){o=0;do{if(bo=!1,yo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,uo.current=ca,e=i(r,n)}while(bo)}if(uo.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,_o=!1,t)throw Error(s(300));return e}function ko(){var e=0!==yo;return yo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Eo(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function To(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Eo(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var r=go,n=r.baseQueue,o=i.pending;if(null!==o){if(null!==n){var a=n.next;n.next=o.next,o.next=a}r.baseQueue=n=o,i.pending=null}if(null!==n){o=n.next,r=r.baseState;var l=a=null,c=null,h=o;do{var u=h.lane;if((po&u)===u)null!==c&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var d={lane:u,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,mo.lanes|=u,Nl|=u}h=h.next}while(null!==h&&h!==o);null===c?a=r:c.next=l,or(r,t.memoizedState)||(ya=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,i.lastRenderedState=r}if(null!==(e=i.interleaved)){n=e;do{o=n.lane,mo.lanes|=o,Nl|=o,n=n.next}while(n!==e)}else null===n&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Po(e){var t=Eo(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var r=i.dispatch,n=i.pending,o=t.memoizedState;if(null!==n){i.pending=null;var a=n=n.next;do{o=e(o,a.action),a=a.next}while(a!==n);or(o,t.memoizedState)||(ya=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),i.lastRenderedState=o}return[o,r]}function Ro(){}function Do(e,t){var i=mo,r=Eo(),n=t(),o=!or(r.memoizedState,n);if(o&&(r.memoizedState=n,ya=!0),r=r.queue,qo(Io.bind(null,i,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(i.flags|=2048,Wo(9,Lo.bind(null,i,r,n,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&po)||Mo(i,t,n)}return n}function Mo(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function Lo(e,t,i,r){t.value=i,t.getSnapshot=r,Bo(t)&&No(e)}function Io(e,t,i){return i((function(){Bo(t)&&No(e)}))}function Bo(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!or(e,i)}catch(r){return!0}}function No(e){var t=As(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ia.bind(null,mo,e),[t.memoizedState,e]}function Wo(e,t,i,r){return e={tag:e,create:t,destroy:i,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function zo(){return Eo().memoizedState}function Qo(e,t,i,r){var n=Co();mo.flags|=e,n.memoizedState=Wo(1|t,i,void 0,void 0===r?null:r)}function Fo(e,t,i,r){var n=Eo();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&So(r,o.deps))return void(n.memoizedState=Wo(t,i,s,r))}mo.flags|=e,n.memoizedState=Wo(1|t,i,s,r)}function Uo(e,t){return Qo(8390656,8,e,t)}function qo(e,t){return Fo(2048,8,e,t)}function Ho(e,t){return Fo(4,2,e,t)}function Vo(e,t){return Fo(4,4,e,t)}function Yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Fo(4,4,Yo.bind(null,t,e),i)}function Zo(){}function Go(e,t){var i=Eo();t=void 0===t?null:t;var r=i.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function $o(e,t){var i=Eo();t=void 0===t?null:t;var r=i.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),i.memoizedState=[e,t],e)}function Ko(e,t,i){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ya=!0),e.memoizedState=i):(or(i,t)||(i=mt(),mo.lanes|=i,Nl|=i,e.baseState=!0),t)}function Jo(e,t){var i=bt;bt=0!==i&&4>i?i:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=i,fo.transition=r}}function ea(){return Eo().memoizedState}function ta(e,t,i){var r=ic(e);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},ra(e))na(t,i);else if(null!==(i=Ts(e,t,i,r))){rc(i,e,r,tc()),sa(i,t,r)}}function ia(e,t,i){var r=ic(e),n={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(ra(e))na(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,i);if(n.hasEagerState=!0,n.eagerState=a,or(a,o)){var l=t.interleaved;return null===l?(n.next=n,Es(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(c){}null!==(i=Ts(e,t,n,r))&&(rc(i,e,r,n=tc()),sa(i,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function na(e,t){bo=_o=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function sa(e,t,i){if(0!==(4194240&i)){var r=t.lanes;i|=r&=e.pendingLanes,t.lanes=i,_t(e,i)}}var oa={readContext:ks,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},aa={readContext:ks,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:Uo,useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Qo(4194308,4,Yo.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qo(4,2,e,t)},useMemo:function(e,t){var i=Co();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var r=Co();return t=void 0!==i?i(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:jo,useDebugValue:Zo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var r=mo,n=Co();if(ns){if(void 0===i)throw Error(s(407));i=i()}else{if(i=t(),null===Pl)throw Error(s(349));0!==(30&po)||Mo(r,t,i)}n.memoizedState=i;var o={value:i,getSnapshot:t};return n.queue=o,Uo(Io.bind(null,r,o,e),[e]),r.flags|=2048,Wo(9,Lo.bind(null,r,o,i,t),void 0,null),i},useId:function(){var e=Co(),t=Pl.identifierPrefix;if(ns){var i=$n;t=":"+t+"R"+(i=(Gn&~(1<<32-ot(Gn)-1)).toString(32)+i),0<(i=yo++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=Oo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:ks,useCallback:Go,useContext:ks,useEffect:qo,useImperativeHandle:Xo,useInsertionEffect:Ho,useLayoutEffect:Vo,useMemo:$o,useReducer:Ao,useRef:zo,useState:function(){return Ao(To)},useDebugValue:Zo,useDeferredValue:function(e){return Ko(Eo(),go.memoizedState,e)},useTransition:function(){return[Ao(To)[0],Eo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:ea,unstable_isNewReconciler:!1},ca={readContext:ks,useCallback:Go,useContext:ks,useEffect:qo,useImperativeHandle:Xo,useInsertionEffect:Ho,useLayoutEffect:Vo,useMemo:$o,useReducer:Po,useRef:zo,useState:function(){return Po(To)},useDebugValue:Zo,useDeferredValue:function(e){var t=Eo();return null===go?t.memoizedState=e:Ko(t,go.memoizedState,e)},useTransition:function(){return[Po(To)[0],Eo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:ea,unstable_isNewReconciler:!1};function ha(e,t){try{var i="",r=t;do{i+=Q(r),r=r.return}while(r);var n=i}catch(s){n="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:n,digest:null}}function ua(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(i){setTimeout((function(){throw i}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,i){(i=Ms(-1,i)).tag=3,i.payload={element:null};var r=t.value;return i.callback=function(){Hl||(Hl=!0,Vl=r),da(0,t)},i}function ma(e,t,i){(i=Ms(-1,i)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var n=t.value;i.payload=function(){return r(n)},i.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){da(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function ga(e,t,i){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var n=new Set;r.set(t,n)}else void 0===(n=r.get(t))&&(n=new Set,r.set(t,n));n.has(i)||(n.add(i),e=Cc.bind(null,e,t,i),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _a(e,t,i,r,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=Ms(-1,1)).tag=2,Ls(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var ba=y.ReactCurrentOwner,ya=!1;function Oa(e,t,i,r){t.child=null===e?$s(t,null,i,r):Gs(t,e.child,i,r)}function wa(e,t,i,r,n){i=i.render;var s=t.ref;return xs(t,n),r=xo(e,t,i,r,s,n),i=ko(),null===e||ya?(ns&&i&&es(t),t.flags|=1,Oa(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ha(e,t,n))}function Sa(e,t,i,r,n){if(null===e){var s=i.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Ic(i.type,null,r,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xa(e,t,s,r,n))}if(s=e.child,0===(e.lanes&n)){var o=s.memoizedProps;if((i=null!==(i=i.compare)?i:ar)(o,r)&&e.ref===t.ref)return Ha(e,t,n)}return t.flags|=1,(e=Lc(s,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,i,r,n){if(null!==e){var s=e.memoizedProps;if(ar(s,r)&&e.ref===t.ref){if(ya=!1,t.pendingProps=r=s,0===(e.lanes&n))return t.lanes=e.lanes,Ha(e,t,n);0!==(131072&e.flags)&&(ya=!0)}}return Ea(e,t,i,r,n)}function ka(e,t,i){var r=t.pendingProps,n=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Ll,Ml),Ml|=i;else{if(0===(1073741824&i))return e=null!==s?s.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cn(Ll,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:i,Cn(Ll,Ml),Ml|=r}else null!==s?(r=s.baseLanes|i,t.memoizedState=null):r=i,Cn(Ll,Ml),Ml|=r;return Oa(e,t,n,i),t.child}function Ca(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,i,r,n){var s=Dn(i)?Pn:Tn.current;return s=Rn(t,s),xs(t,n),i=xo(e,t,i,r,s,n),r=ko(),null===e||ya?(ns&&r&&es(t),t.flags|=1,Oa(e,t,i,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ha(e,t,n))}function Ta(e,t,i,r,n){if(Dn(i)){var s=!0;Bn(t)}else s=!1;if(xs(t,n),null===t.stateNode)qa(e,t),Us(t,i,r),Hs(t,i,r,n),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=i.contextType;"object"===typeof c&&null!==c?c=ks(c):c=Rn(t,c=Dn(i)?Pn:Tn.current);var h=i.getDerivedStateFromProps,u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&qs(t,o,r,c),Ps=!1;var d=t.memoizedState;o.state=d,Ns(t,r,o,n),l=t.memoizedState,a!==r||d!==l||An.current||Ps?("function"===typeof h&&(zs(t,i,h,r),l=t.memoizedState),(a=Ps||Fs(t,i,a,r,d,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ds(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,u=t.pendingProps,d=o.context,"object"===typeof(l=i.contextType)&&null!==l?l=ks(l):l=Rn(t,l=Dn(i)?Pn:Tn.current);var f=i.getDerivedStateFromProps;(h="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||d!==l)&&qs(t,o,r,l),Ps=!1,d=t.memoizedState,o.state=d,Ns(t,r,o,n);var p=t.memoizedState;a!==u||d!==p||An.current||Ps?("function"===typeof f&&(zs(t,i,f,r),p=t.memoizedState),(c=Ps||Fs(t,i,c,r,d,p,l)||!1)?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,i,r,s,n)}function Aa(e,t,i,r,n,s){Ca(e,t);var o=0!==(128&t.flags);if(!r&&!o)return n&&Nn(t,i,!1),Ha(e,t,s);r=t.stateNode,ba.current=t;var a=o&&"function"!==typeof i.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Gs(t,e.child,null,s),t.child=Gs(t,null,a,s)):Oa(e,t,a,s),t.memoizedState=r.state,n&&Nn(t,i,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Ln(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ln(0,t.context,!1),ro(e,t.containerInfo)}function Ra(e,t,i,r,n){return fs(),ps(n),t.flags|=256,Oa(e,t,i,r),t.child}var Da,Ma,La,Ia,Ba={dehydrated:null,treeContext:null,retryLane:0};function Na(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,i){var r,n=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Cn(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&n)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Nc(l,n,0,null),e=Bc(e,n,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Na(i),t.memoizedState=Ba,e):Wa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,i,r,n,o,a){if(i)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,n=t.mode,r=Nc({mode:"visible",children:r.children},n,0,null),(o=Bc(o,n,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Gs(t,e.child,null,a),t.child.memoizedState=Na(a),t.memoizedState=Ba,o);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===n.data){if(r=n.nextSibling&&n.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ya||l){if(null!==(r=Pl)){switch(a&-a){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(r.suspendedLanes|a))?0:n)&&n!==o.retryLane&&(o.retryLane=n,As(e,n),rc(r,e,n,-1))}return gc(),za(e,t,a,r=ua(Error(s(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),n._reactRetry=t,null):(e=o.treeContext,rs=cn(n.nextSibling),is=t,ns=!0,ss=null,null!==e&&(Yn[Xn++]=Gn,Yn[Xn++]=$n,Yn[Xn++]=Zn,Gn=e.id,$n=e.overflow,Zn=t),t=Wa(t,r.children),t.flags|=4096,t)}(e,t,l,n,r,o,i);if(a){a=n.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&l)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Lc(r,a):(a=Bc(a,l,i,null)).flags|=2,a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=null===(l=e.child.memoizedState)?Na(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~i,t.memoizedState=Ba,n}return e=(a=e.child).sibling,n=Lc(a,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n}function Wa(e,t){return(t=Nc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,i,r){return null!==r&&ps(r),Gs(t,e.child,null,i),(e=Wa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qa(e,t,i){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ss(e.return,t,i)}function Fa(e,t,i,r,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=i,s.tailMode=n)}function Ua(e,t,i){var r=t.pendingProps,n=r.revealOrder,s=r.tail;if(Oa(e,t,r.children,i),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,i,t);else if(19===e.tag)Qa(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cn(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(i=t.child,n=null;null!==i;)null!==(e=i.alternate)&&null===lo(e)&&(n=i),i=i.sibling;null===(i=n)?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),Fa(t,!1,n,i,s);break;case"backwards":for(i=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===lo(e)){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}Fa(t,!0,i,null,s);break;case"together":Fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Nl|=t.lanes,0===(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(i=Lc(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Lc(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Va(e,t){if(!ns)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;null!==i;)null!==i.alternate&&(r=i),i=i.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,r=0;if(t)for(var n=e.child;null!==n;)i|=n.lanes|n.childLanes,r|=14680064&n.subtreeFlags,r|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function Xa(e,t,i){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(t),null;case 1:case 17:return Dn(t.type)&&Mn(),Ya(t),null;case 3:return r=t.stateNode,no(),kn(An),kn(Tn),ho(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Ma(e,t),Ya(t),null;case 5:oo(t);var n=io(to.current);if(i=t.type,null!==e&&null!=t.stateNode)La(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ya(t),null}if(e=io(Js.current),us(t)){r=t.stateNode,i=t.type;var o=t.memoizedProps;switch(r[dn]=t,r[fn]=o,e=0!==(1&t.mode),i){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(n=0;n<Lr.length;n++)jr(Lr[n],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":G(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ne(r,o),jr("invalid",r)}for(var l in _e(i,o),n=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),n=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),n=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(i){case"input":V(r),J(r,o,!0);break;case"textarea":V(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Kr)}r=n,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(i,{is:r.is}):(e=l.createElement(i),"select"===i&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,i),e[dn]=t,e[fn]=r,Da(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(i,r),i){case"dialog":jr("cancel",e),jr("close",e),n=r;break;case"iframe":case"object":case"embed":jr("load",e),n=r;break;case"video":case"audio":for(n=0;n<Lr.length;n++)jr(Lr[n],e);n=r;break;case"source":jr("error",e),n=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),n=r;break;case"details":jr("toggle",e),n=r;break;case"input":G(e,r),n=Z(e,r),jr("invalid",e);break;case"option":default:n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=N({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ne(e,r),n=re(e,r),jr("invalid",e)}for(o in _e(i,n),c=n)if(c.hasOwnProperty(o)){var h=c[o];"style"===o?ge(e,h):"dangerouslySetInnerHTML"===o?null!=(h=h?h.__html:void 0)&&ue(e,h):"children"===o?"string"===typeof h?("textarea"!==i||""!==h)&&de(e,h):"number"===typeof h&&de(e,""+h):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=h&&"onScroll"===o&&jr("scroll",e):null!=h&&b(e,o,h,l))}switch(i){case"input":V(e),J(e,r,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ie(e,!!r.multiple,o,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Kr)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ya(t),null;case 6:if(e&&null!=t.stateNode)Ia(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(i=io(to.current),io(Js.current),us(t)){if(r=t.stateNode,i=t.memoizedProps,r[dn]=t,(o=r.nodeValue!==i)&&null!==(e=is))switch(e.tag){case 3:$r(r.nodeValue,i,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,i,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===i.nodeType?i:i.ownerDocument).createTextNode(r))[dn]=t,t.stateNode=r}return Ya(t),null;case 13:if(kn(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ns&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dn]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ya(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=i,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Il&&(Il=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ya(t),null);case 4:return no(),Ma(e,t),null===e&&Qr(t.stateNode.containerInfo),Ya(t),null;case 10:return ws(t.type._context),Ya(t),null;case 19:if(kn(ao),null===(o=t.memoizedState))return Ya(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Va(o,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Va(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=i,i=t.child;null!==i;)e=r,(o=i).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Cn(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Ul&&(t.flags|=128,r=!0,Va(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),Va(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ns)return Ya(t),null}else 2*$e()-o.renderingStartTime>Ul&&1073741824!==i&&(t.flags|=128,r=!0,Va(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=o.last)?i.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,i=ao.current,Cn(ao,r?1&i|2:1&i),t):(Ya(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Ya(t),6&t.subtreeFlags&&(t.flags|=8192)):Ya(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Za(e,t){switch(ts(t),t.tag){case 1:return Dn(t.type)&&Mn(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return no(),kn(An),kn(Tn),ho(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(kn(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return kn(ao),null;case 4:return no(),null;case 10:return ws(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Da=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ma=function(){},La=function(e,t,i,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,io(Js.current);var s,o=null;switch(i){case"input":n=Z(e,n),r=Z(e,r),o=[];break;case"select":n=N({},n,{value:void 0}),r=N({},r,{value:void 0}),o=[];break;case"textarea":n=re(e,n),r=re(e,r),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=Kr)}for(h in _e(i,r),i=null,n)if(!r.hasOwnProperty(h)&&n.hasOwnProperty(h)&&null!=n[h])if("style"===h){var l=n[h];for(s in l)l.hasOwnProperty(s)&&(i||(i={}),i[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(a.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var c=r[h];if(l=null!=n?n[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(i||(i={}),i[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(i||(i={}),i[s]=c[s])}else i||(o||(o=[]),o.push(h,i)),i=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(a.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&jr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(h,c))}i&&(o=o||[]).push("style",i);var h=o;(t.updateQueue=h)&&(t.flags|=4)}},Ia=function(e,t,i,r){i!==r&&(t.flags|=4)};var Ga=!1,$a=!1,Ka="function"===typeof WeakSet?WeakSet:Set,Ja=null;function el(e,t){var i=e.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(r){kc(e,t,r)}else i.current=null}function tl(e,t,i){try{i()}catch(r){kc(e,t,r)}}var il=!1;function rl(e,t,i){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,void 0!==s&&tl(t,i,s)}n=n.next}while(n!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var r=i.create;i.destroy=r()}i=i.next}while(i!==t)}}function sl(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dn],delete t[fn],delete t[mn],delete t[gn],delete t[vn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,i){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==t.onclick||(t.onclick=Kr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,i),e=e.sibling;null!==e;)cl(e,t,i),e=e.sibling}function hl(e,t,i){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hl(e,t,i),e=e.sibling;null!==e;)hl(e,t,i),e=e.sibling}var ul=null,dl=!1;function fl(e,t,i){for(i=i.child;null!==i;)pl(e,t,i),i=i.sibling}function pl(e,t,i){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(nt,i)}catch(a){}switch(i.tag){case 5:$a||el(i,t);case 6:var r=ul,n=dl;ul=null,fl(e,t,i),dl=n,null!==(ul=r)&&(dl?(e=ul,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):ul.removeChild(i.stateNode));break;case 18:null!==ul&&(dl?(e=ul,i=i.stateNode,8===e.nodeType?ln(e.parentNode,i):1===e.nodeType&&ln(e,i),Ft(e)):ln(ul,i.stateNode));break;case 4:r=ul,n=dl,ul=i.stateNode.containerInfo,dl=!0,fl(e,t,i),ul=r,dl=n;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=i.updateQueue)&&null!==(r=r.lastEffect))){n=r=r.next;do{var s=n,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(i,t,o),n=n.next}while(n!==r)}fl(e,t,i);break;case 1:if(!$a&&(el(i,t),"function"===typeof(r=i.stateNode).componentWillUnmount))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(a){kc(i,t,a)}fl(e,t,i);break;case 21:fl(e,t,i);break;case 22:1&i.mode?($a=(r=$a)||null!==i.memoizedState,fl(e,t,i),$a=r):fl(e,t,i);break;default:fl(e,t,i)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new Ka),t.forEach((function(t){var r=Ac.bind(null,e,t);i.has(t)||(i.add(t),t.then(r,r))}))}}function gl(e,t){var i=t.deletions;if(null!==i)for(var r=0;r<i.length;r++){var n=i[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));pl(o,a,n),ul=null,dl=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(h){kc(n,t,h)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),_l(e),4&r){try{rl(3,e,e.return),nl(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),_l(e),512&r&&null!==i&&el(i,i.return);break;case 5:if(gl(t,e),_l(e),512&r&&null!==i&&el(i,i.return),32&e.flags){var n=e.stateNode;try{de(n,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(n=e.stateNode)){var o=e.memoizedProps,a=null!==i?i.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(n,o),be(l,a);var h=be(l,o);for(a=0;a<c.length;a+=2){var u=c[a],d=c[a+1];"style"===u?ge(n,d):"dangerouslySetInnerHTML"===u?ue(n,d):"children"===u?de(n,d):b(n,u,d,h)}switch(l){case"input":K(n,o);break;case"textarea":se(n,o);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ie(n,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ie(n,!!o.multiple,o.defaultValue,!0):ie(n,!!o.multiple,o.multiple?[]:"",!1))}n[fn]=o}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),_l(e),4&r){if(null===e.stateNode)throw Error(s(162));n=e.stateNode,o=e.memoizedProps;try{n.nodeValue=o}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),_l(e),4&r&&null!==i&&i.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),_l(e);break;case 13:gl(t,e),_l(e),8192&(n=e.child).flags&&(o=null!==n.memoizedState,n.stateNode.isHidden=o,!o||null!==n.alternate&&null!==n.alternate.memoizedState||(Fl=$e())),4&r&&ml(e);break;case 22:if(u=null!==i&&null!==i.memoizedState,1&e.mode?($a=(h=$a)||u,gl(t,e),$a=h):gl(t,e),_l(e),8192&r){if(h=null!==e.memoizedState,(e.stateNode.isHidden=h)&&!u&&0!==(1&e.mode))for(Ja=e,u=e.child;null!==u;){for(d=Ja=u;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,i=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,i,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Ja=p):wl(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{n=d.stateNode,h?"function"===typeof(o=n.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),_l(e),4&r&&ml(e);case 21:}}function _l(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(al(i)){var r=i;break e}i=i.return}throw Error(s(160))}switch(r.tag){case 5:var n=r.stateNode;32&r.flags&&(de(n,""),r.flags&=-33),hl(e,ll(e),n);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,i){Ja=e,yl(e,t,i)}function yl(e,t,i){for(var r=0!==(1&e.mode);null!==Ja;){var n=Ja,s=n.child;if(22===n.tag&&r){var o=null!==n.memoizedState||Ga;if(!o){var a=n.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Ga;var c=$a;if(Ga=o,($a=l)&&!c)for(Ja=n;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?Sl(n):null!==l?(l.return=o,Ja=l):Sl(n);for(;null!==s;)Ja=s,yl(s,t,i),s=s.sibling;Ja=n,Ga=a,$a=c}Ol(e)}else 0!==(8772&n.subtreeFlags)&&null!==s?(s.return=n,Ja=s):Ol(e)}}function Ol(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var i=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===i)r.componentDidMount();else{var n=t.elementType===t.type?i.memoizedProps:gs(t.type,i.memoizedProps);r.componentDidUpdate(n,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&js(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}js(t,a,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var h=t.alternate;if(null!==h){var u=h.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ft(d)}}}break;default:throw Error(s(163))}$a||512&t.flags&&sl(t)}catch(f){kc(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(i=t.sibling)){i.return=t.return,Ja=i;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ja=i;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{nl(4,t)}catch(l){kc(t,i,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var n=t.return;try{r.componentDidMount()}catch(l){kc(t,n,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var xl,kl=Math.ceil,Cl=y.ReactCurrentDispatcher,El=y.ReactCurrentOwner,Tl=y.ReactCurrentBatchConfig,Al=0,Pl=null,Rl=null,Dl=0,Ml=0,Ll=xn(0),Il=0,Bl=null,Nl=0,jl=0,Wl=0,zl=null,Ql=null,Fl=0,Ul=1/0,ql=null,Hl=!1,Vl=null,Yl=null,Xl=!1,Zl=null,Gl=0,$l=0,Kl=null,Jl=-1,ec=0;function tc(){return 0!==(6&Al)?$e():-1!==Jl?Jl:Jl=$e()}function ic(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Dl?Dl&-Dl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function rc(e,t,i,r){if(50<$l)throw $l=0,Kl=null,Error(s(185));vt(e,i,r),0!==(2&Al)&&e===Pl||(e===Pl&&(0===(2&Al)&&(jl|=i),4===Il&&lc(e,Dl)),nc(e,r),1===i&&0===Al&&0===(1&t.mode)&&(Ul=$e()+500,Wn&&Fn()))}function nc(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=n[o];-1===l?0!==(a&i)&&0===(a&r)||(n[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Pl?Dl:0);if(0===r)null!==i&&Xe(i),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=i&&Xe(i),1===t)0===e.tag?function(e){Wn=!0,Qn(e)}(cc.bind(null,e)):Qn(cc.bind(null,e)),on((function(){0===(6&Al)&&Fn()})),i=null;else{switch(yt(r)){case 1:i=Je;break;case 4:i=et;break;case 16:default:i=tt;break;case 536870912:i=rt}i=Pc(i,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function sc(e,t){if(Jl=-1,ec=0,0!==(6&Al))throw Error(s(327));var i=e.callbackNode;if(Sc()&&e.callbackNode!==i)return null;var r=dt(e,e===Pl?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var n=Al;Al|=2;var o=mc();for(Pl===e&&Dl===t||(ql=null,Ul=$e()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}Os(),Cl.current=o,Al=n,null!==Rl?t=0:(Pl=null,Dl=0,t=Il)}if(0!==t){if(2===t&&(0!==(n=pt(e))&&(r=n,t=oc(e,n))),1===t)throw i=Bl,fc(e,0),lc(e,r),nc(e,$e()),i;if(6===t)lc(e,r);else{if(n=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var r=0;r<i.length;r++){var n=i[r],s=n.getSnapshot;n=n.value;try{if(!or(s(),n))return!1}catch(a){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw i=Bl,fc(e,0),lc(e,r),nc(e,$e()),i;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ql,ql);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Fl+500-$e())){if(0!==dt(e,0))break;if(((n=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=rn(wc.bind(null,e,Ql,ql),t);break}wc(e,Ql,ql);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,n=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>n&&(n=a),r&=~o}if(r=n,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=rn(wc.bind(null,e,Ql,ql),r);break}wc(e,Ql,ql);break;default:throw Error(s(329))}}}return nc(e,$e()),e.callbackNode===i?sc.bind(null,e):null}function oc(e,t){var i=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ql,Ql=i,null!==t&&ac(t)),e}function ac(e){null===Ql?Ql=e:Ql.push.apply(Ql,e)}function lc(e,t){for(t&=~Wl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-ot(t),r=1<<i;e[i]=-1,t&=~r}}function cc(e){if(0!==(6&Al))throw Error(s(327));Sc();var t=dt(e,0);if(0===(1&t))return nc(e,$e()),null;var i=vc(e,t);if(0!==e.tag&&2===i){var r=pt(e);0!==r&&(t=r,i=oc(e,r))}if(1===i)throw i=Bl,fc(e,0),lc(e,t),nc(e,$e()),i;if(6===i)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ql,ql),nc(e,$e()),null}function hc(e,t){var i=Al;Al|=1;try{return e(t)}finally{0===(Al=i)&&(Ul=$e()+500,Wn&&Fn())}}function uc(e){null!==Zl&&0===Zl.tag&&0===(6&Al)&&Sc();var t=Al;Al|=1;var i=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=i,0===(6&(Al=t))&&Fn()}}function dc(){Ml=Ll.current,kn(Ll)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,nn(i)),null!==Rl)for(i=Rl.return;null!==i;){var r=i;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mn();break;case 3:no(),kn(An),kn(Tn),ho();break;case 5:oo(r);break;case 4:no();break;case 13:case 19:kn(ao);break;case 10:ws(r.type._context);break;case 22:case 23:dc()}i=i.return}if(Pl=e,Rl=e=Lc(e.current,null),Dl=Ml=t,Il=0,Bl=null,Wl=jl=Nl=0,Ql=zl=null,null!==Cs){for(t=0;t<Cs.length;t++)if(null!==(r=(i=Cs[t]).interleaved)){i.interleaved=null;var n=r.next,s=i.pending;if(null!==s){var o=s.next;s.next=n,r.next=o}i.pending=r}Cs=null}return e}function pc(e,t){for(;;){var i=Rl;try{if(Os(),uo.current=oa,_o){for(var r=mo.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}_o=!1}if(po=0,vo=go=mo=null,bo=!1,yo=0,El.current=null,null===i||null===i.return){Il=1,Bl=t,Rl=null;break}e:{var o=e,a=i.return,l=i,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var h=c,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,_a(p,a,l,0,t),1&p.mode&&ga(o,h,t),c=h;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,h,t),gc();break e}c=Error(s(426))}else if(ns&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),_a(v,a,l,0,t),ps(ha(c,l));break e}}o=c=ha(c,l),4!==Il&&(Il=2),null===zl?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,pa(0,c,t));break e;case 1:l=c;var _=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof _.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}Oc(i)}catch(y){t=y,Rl===i&&null!==i&&(Rl=i=i.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=oa,null===e?oa:e}function gc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Pl||0===(268435455&Nl)&&0===(268435455&jl)||lc(Pl,Dl)}function vc(e,t){var i=Al;Al|=2;var r=mc();for(Pl===e&&Dl===t||(ql=null,fc(e,t));;)try{_c();break}catch(n){pc(e,n)}if(Os(),Al=i,Cl.current=r,null!==Rl)throw Error(s(261));return Pl=null,Dl=0,Il}function _c(){for(;null!==Rl;)yc(Rl)}function bc(){for(;null!==Rl&&!Ze();)yc(Rl)}function yc(e){var t=xl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?Oc(e):Rl=t,El.current=null}function Oc(e){var t=e;do{var i=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(i=Xa(i,t,Ml)))return void(Rl=i)}else{if(null!==(i=Za(i,t)))return i.flags&=32767,void(Rl=i);if(null===e)return Il=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Il&&(Il=5)}function wc(e,t,i){var r=bt,n=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,i,r){do{Sc()}while(null!==Zl);if(0!==(6&Al))throw Error(s(327));i=e.finishedWork;var n=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<i;){var n=31-ot(i),s=1<<n;t[n]=0,r[n]=-1,e[n]=-1,i&=~s}}(e,o),e===Pl&&(Rl=Pl=null,Dl=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Xl||(Xl=!0,Pc(tt,(function(){return Sc(),null}))),o=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Al;Al|=4,El.current=null,function(e,t){if(Jr=qt,dr(e=ur())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(r&&0!==r.rangeCount){i=r.anchorNode;var n=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{i.nodeType,o.nodeType}catch(O){i=null;break e}var a=0,l=-1,c=-1,h=0,u=0,d=e,f=null;t:for(;;){for(var p;d!==i||0!==n&&3!==d.nodeType||(l=a+n),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===i&&++h===n&&(l=a),f===o&&++u===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}i=-1===l||-1===c?null:{start:l,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for(en={focusedElem:e,selectionRange:i},qt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(O){kc(t,t.return,O)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=il,il=!1}(e,i),vl(i,e),fr(en),qt=!!Jr,en=Jr=null,e.current=i,bl(i,e,n),Ge(),Al=l,bt=a,Tl.transition=o}else e.current=i;if(Xl&&(Xl=!1,Zl=e,Gl=n),o=e.pendingLanes,0===o&&(Yl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(i.stateNode),nc(e,$e()),null!==t)for(r=e.onRecoverableError,i=0;i<t.length;i++)n=t[i],r(n.value,{componentStack:n.stack,digest:n.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Gl)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Kl?$l++:($l=0,Kl=e):$l=0,Fn()}(e,t,i,r)}finally{Tl.transition=n,bt=r}return null}function Sc(){if(null!==Zl){var e=yt(Gl),t=Tl.transition,i=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,Gl=0,0!==(6&Al))throw Error(s(331));var n=Al;for(Al|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var h=l[c];for(Ja=h;null!==Ja;){var u=Ja;switch(u.tag){case 0:case 11:case 15:rl(8,u,o)}var d=u.child;if(null!==d)d.return=u,Ja=d;else for(;null!==Ja;){var f=(u=Ja).sibling,p=u.return;if(ol(u),u===h){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var _=o.sibling;if(null!==_){_.return=o.return,Ja=_;break e}Ja=o.return}}var b=e.current;for(Ja=b;null!==Ja;){var y=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==y)y.return=a,Ja=y;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){kc(l,l.return,w)}if(l===a){Ja=null;break e}var O=l.sibling;if(null!==O){O.return=l.return,Ja=O;break e}Ja=l.return}}if(Al=n,Fn(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(nt,e)}catch(w){}r=!0}return r}finally{bt=i,Tl.transition=t}}return!1}function xc(e,t,i){e=Ls(e,t=pa(0,t=ha(i,t),1),1),t=tc(),null!==e&&(vt(e,1,t),nc(e,t))}function kc(e,t,i){if(3===e.tag)xc(e,e,i);else for(;null!==t;){if(3===t.tag){xc(t,e,i);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Ls(t,e=ma(t,e=ha(i,e),1),1),e=tc(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Cc(e,t,i){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&i,Pl===e&&(Dl&i)===i&&(4===Il||3===Il&&(130023424&Dl)===Dl&&500>$e()-Fl?fc(e,0):Wl|=i),nc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var i=tc();null!==(e=As(e,t))&&(vt(e,t,i),nc(e,i))}function Tc(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),Ec(e,i)}function Ac(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;null!==n&&(i=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ec(e,i)}function Pc(e,t){return Ye(e,t)}function Rc(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,i,r){return new Rc(e,t,i,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var i=e.alternate;return null===i?((i=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ic(e,t,i,r,n,o){var a=2;if(r=e,"function"===typeof e)Mc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Bc(i.children,n,o,t);case x:a=8,n|=8;break;case k:return(e=Dc(12,i,t,2|n)).elementType=k,e.lanes=o,e;case A:return(e=Dc(13,i,t,n)).elementType=A,e.lanes=o,e;case P:return(e=Dc(19,i,t,n)).elementType=P,e.lanes=o,e;case M:return Nc(i,n,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case E:a=9;break e;case T:a=11;break e;case R:a=14;break e;case D:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(a,i,t,n)).elementType=e,t.type=r,t.lanes=o,t}function Bc(e,t,i,r){return(e=Dc(7,e,r,t)).lanes=i,e}function Nc(e,t,i,r){return(e=Dc(22,e,r,t)).elementType=M,e.lanes=i,e.stateNode={isHidden:!1},e}function jc(e,t,i){return(e=Dc(6,e,null,t)).lanes=i,e}function Wc(e,t,i){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,i,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Qc(e,t,i,r,n,s,o,a,l){return e=new zc(e,t,i,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Fc(e){if(!e)return En;e:{if(Fe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var i=e.type;if(Dn(i))return In(e,i,t)}return t}function Uc(e,t,i,r,n,s,o,a,l){return(e=Qc(i,r,!0,e,0,s,0,a,l)).context=Fc(null),i=e.current,(s=Ms(r=tc(),n=ic(i))).callback=void 0!==t&&null!==t?t:null,Ls(i,s,n),e.current.lanes=n,vt(e,n,r),nc(e,r),e}function qc(e,t,i,r){var n=t.current,s=tc(),o=ic(n);return i=Fc(i),null===t.context?t.context=i:t.pendingContext=i,(t=Ms(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ls(n,t,o))&&(rc(e,n,o,s),Is(e,n,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Yc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}xl=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||An.current)ya=!0;else{if(0===(e.lanes&i)&&0===(128&t.flags))return ya=!1,function(e,t,i){switch(t.tag){case 3:Pa(t),fs();break;case 5:so(t);break;case 1:Dn(t.type)&&Bn(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;Cn(vs,r._currentValue),r._currentValue=n;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cn(ao,1&ao.current),t.flags|=128,null):0!==(i&t.child.childLanes)?ja(e,t,i):(Cn(ao,1&ao.current),null!==(e=Ha(e,t,i))?e.sibling:null);Cn(ao,1&ao.current);break;case 19:if(r=0!==(i&t.childLanes),0!==(128&e.flags)){if(r)return Ua(e,t,i);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Cn(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,i)}return Ha(e,t,i)}(e,t,i);ya=0!==(131072&e.flags)}else ya=!1,ns&&0!==(1048576&t.flags)&&Jn(t,Vn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var n=Rn(t,Tn.current);xs(t,i),n=xo(null,t,r,e,n,i);var o=ko();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(r)?(o=!0,Bn(t)):o=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Rs(t),n.updater=Qs,t.stateNode=n,n._reactInternals=t,Hs(t,r,e,i),t=Aa(null,t,r,!0,o,i)):(t.tag=0,ns&&o&&es(t),Oa(null,t,n,i),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(n=r._init)(r._payload),t.type=r,n=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=gs(r,e),n){case 0:t=Ea(null,t,r,e,i);break e;case 1:t=Ta(null,t,r,e,i);break e;case 11:t=wa(null,t,r,e,i);break e;case 14:t=Sa(null,t,r,gs(r.type,e),i);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,Ea(e,t,r,n=t.elementType===r?n:gs(r,n),i);case 1:return r=t.type,n=t.pendingProps,Ta(e,t,r,n=t.elementType===r?n:gs(r,n),i);case 3:e:{if(Pa(t),null===e)throw Error(s(387));r=t.pendingProps,n=(o=t.memoizedState).element,Ds(e,t),Ns(t,r,null,i);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ra(e,t,r,i,n=ha(Error(s(423)),t));break e}if(r!==n){t=Ra(e,t,r,i,n=ha(Error(s(424)),t));break e}for(rs=cn(t.stateNode.containerInfo.firstChild),is=t,ns=!0,ss=null,i=$s(t,null,r,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(fs(),r===n){t=Ha(e,t,i);break e}Oa(e,t,r,i)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,n=t.pendingProps,o=null!==e?e.memoizedProps:null,a=n.children,tn(r,n)?a=null:null!==o&&tn(r,o)&&(t.flags|=32),Ca(e,t),Oa(e,t,a,i),t.child;case 6:return null===e&&cs(t),null;case 13:return ja(e,t,i);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Gs(t,null,r,i):Oa(e,t,r,i),t.child;case 11:return r=t.type,n=t.pendingProps,wa(e,t,r,n=t.elementType===r?n:gs(r,n),i);case 7:return Oa(e,t,t.pendingProps,i),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,o=t.memoizedProps,a=n.value,Cn(vs,r._currentValue),r._currentValue=a,null!==o)if(or(o.value,a)){if(o.children===n.children&&!An.current){t=Ha(e,t,i);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ms(-1,i&-i)).tag=2;var h=o.updateQueue;if(null!==h){var u=(h=h.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),h.pending=c}}o.lanes|=i,null!==(c=o.alternate)&&(c.lanes|=i),Ss(o.return,i,t),l.lanes|=i;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),Ss(a,i,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Oa(e,t,n.children,i),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,xs(t,i),r=r(n=ks(n)),t.flags|=1,Oa(e,t,r,i),t.child;case 14:return n=gs(r=t.type,t.pendingProps),Sa(e,t,r,n=gs(r.type,n),i);case 15:return xa(e,t,t.type,t.pendingProps,i);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:gs(r,n),qa(e,t),t.tag=1,Dn(r)?(e=!0,Bn(t)):e=!1,xs(t,i),Us(t,r,n),Hs(t,r,n,i),Aa(null,t,r,!0,e,i);case 19:return Ua(e,t,i);case 22:return ka(e,t,i)}throw Error(s(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eh(e,t,i,r,n){var s=i._reactRootContainer;if(s){var o=s;if("function"===typeof n){var a=n;n=function(){var e=Hc(o);a.call(e)}}qc(t,o,e,n)}else o=function(e,t,i,r,n){if(n){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=Uc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pn]=o.current,Qr(8===e.nodeType?e.parentNode:e),uc(),o}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Qc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pn]=l.current,Qr(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,i,r)})),l}(i,t,e,n,r);return Hc(o)}Gc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Gc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pn]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Mt.length&&0!==t&&t<Mt[i].priority;i++);Mt.splice(i,0,e),0===i&&Nt(e)}},Ot=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ut(t.pendingLanes);0!==i&&(_t(t,1|i),nc(t,$e()),0===(6&Al)&&(Ul=$e()+500,Fn()))}break;case 13:uc((function(){var t=As(e,1);if(null!==t){var i=tc();rc(t,e,1,i)}})),Yc(e,1)}},wt=function(e){if(13===e.tag){var t=As(e,134217728);if(null!==t)rc(t,e,134217728,tc());Yc(e,134217728)}},St=function(e){if(13===e.tag){var t=ic(e),i=As(e,t);if(null!==i)rc(i,e,t,tc());Yc(e,t)}},xt=function(){return bt},kt=function(e,t){var i=bt;try{return bt=e,t()}finally{bt=i}},we=function(e,t,i){switch(t){case"input":if(K(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var n=On(r);if(!n)throw Error(s(90));Y(r),K(r,n)}}}break;case"textarea":se(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},Te=hc,Ae=uc;var th={usingClientEntryPoint:!1,Events:[bn,yn,On,Ce,Ee,hc]},ih={findFiberByHostInstance:_n,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rh={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{nt=nh.inject(rh),st=nh}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=th,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var i=!1,r="",n=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Qc(e,1,!1,null,0,i,0,r,n),e[pn]=t.current,Qr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,i){if(!Kc(t))throw Error(s(200));return eh(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!$c(e))throw Error(s(405));var r=null!=i&&i.hydratedSources||null,n=!1,o="",a=Xc;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(n=!0),void 0!==i.identifierPrefix&&(o=i.identifierPrefix),void 0!==i.onRecoverableError&&(a=i.onRecoverableError)),t=Uc(t,null,e,1,null!=i?i:null,n,0,o,a),e[pn]=t.current,Qr(e),r)for(e=0;e<r.length;e++)n=(n=(i=r[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,n]:t.mutableSourceEagerHydrationData.push(i,n);return new Gc(t)},t.render=function(e,t,i){if(!Kc(t))throw Error(s(200));return eh(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!Kc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){eh(null,null,e,!1,(function(){e._reactRootContainer=null,e[pn]=null}))})),!0)},t.unstable_batchedUpdates=hc,t.unstable_renderSubtreeIntoContainer=function(e,t,i,r){if(!Kc(i))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eh(e,t,i,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,i)=>{"use strict";var r=i(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:(e,t,i)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(4463)},6374:(e,t,i)=>{"use strict";var r=i(2791),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,i){var r,s={},c=null,h=null;for(r in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:h,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,i){this.props=e,this.context=t,this.refs=g,this.updater=i||p}function _(){}function b(e,t,i){this.props=e,this.context=t,this.refs=g,this.updater=i||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=v.prototype;var y=b.prototype=new _;y.constructor=b,m(y,v.prototype),y.isPureReactComponent=!0;var O=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,s={},o=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,n)&&!x.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===s[n]&&(s[n]=l[n]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+T(l,0):s,O(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),A(o,t,n,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",O(e))for(var c=0;c<e.length;c++){var h=s+T(a=e[c],c);l+=A(a,t,n,h,o)}else if(h=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof h)for(e=h.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,n,h=s+T(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,i){if(null==e)return e;var r=[],n=0;return A(e,r,"","",(function(e){return t.call(i,e,n++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},M={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,i){P(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=n,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!x.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];n.children=l}return{$$typeof:i,type:e.type,key:s,ref:o,props:n,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,i){return D.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,i){return D.current.useReducer(e,t,i)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return D.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:(e,t,i)=>{"use strict";e.exports=i(9117)},184:(e,t,i)=>{"use strict";e.exports=i(6374)},6813:(e,t)=>{"use strict";function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var r=i-1>>>1,n=e[r];if(!(0<s(n,t)))break e;e[r]=t,e[i]=n,i=r}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var r=0,n=e.length,o=n>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,h=e[c];if(0>s(l,i))c<n&&0>s(h,l)?(e[r]=h,e[c]=i,r=c):(e[r]=l,e[a]=i,r=a);else{if(!(c<n&&0>s(h,i)))break e;e[r]=h,e[c]=i,r=c}}}return t}function s(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],u=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(h);null!==t;){if(null===t.callback)n(h);else{if(!(t.startTime<=e))break;n(h),t.sortIndex=t.expirationTime,i(c,t)}t=r(h)}}function O(e){if(g=!1,y(e),!m)if(null!==r(c))m=!0,M(w);else{var t=r(h);null!==t&&L(O,t.startTime-e)}}function w(e,i){m=!1,g&&(g=!1,_(C),C=-1),p=!0;var s=f;try{for(y(i),d=r(c);null!==d&&(!(d.expirationTime>i)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=i);i=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&n(c),y(i)}else n(c);d=r(c)}if(null!==d)var l=!0;else{var u=r(h);null!==u&&L(O,u.startTime-i),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,k=null,C=-1,E=5,T=-1;function A(){return!(t.unstable_now()-T<E)}function P(){if(null!==k){var e=t.unstable_now();T=e;var i=!0;try{i=k(!0,e)}finally{i?S():(x=!1,k=null)}}else x=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=P,S=function(){D.postMessage(null)}}else S=function(){v(P,0)};function M(e){k=e,x||(x=!0,S())}function L(e,i){C=v((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var i=f;f=t;try{return e()}finally{f=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=f;f=e;try{return t()}finally{f=i}},t.unstable_scheduleCallback=function(e,n,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,i(h,e),null===r(c)&&e===r(h)&&(g?(_(C),C=-1):g=!0,L(O,s-o))):(e.sortIndex=a,i(c,e),m||p||(m=!0,M(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var i=f;f=t;try{return e.apply(this,arguments)}finally{f=i}}}},5296:(e,t,i)=>{"use strict";e.exports=i(6813)},9613:e=>{e.exports=function(e,t,i,r){var n=i?i.call(r,e,t):void 0;if(void 0!==n)return!!n;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var c=s[l];if(!a(c))return!1;var h=e[c],u=t[c];if(!1===(n=i?i.call(r,h,u,c):void 0)||void 0===n&&h!==u)return!1}return!0}},2978:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>Xt,F4:()=>Zt,zo:()=>Xt});var r=function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)};Object.create;function n(e,t,i){if(i||2===arguments.length)for(var r,n=0,s=t.length;n<s;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var s=i(2791),o=i(9613),a=i.n(o),l="-ms-",c="-moz-",h="-webkit-",u="comm",d="rule",f="decl",p="@import",m="@keyframes",g="@layer",v=Math.abs,_=String.fromCharCode,b=Object.assign;function y(e){return e.trim()}function O(e,t){return(e=t.exec(e))?e[0]:e}function w(e,t,i){return e.replace(t,i)}function S(e,t,i){return e.indexOf(t,i)}function x(e,t){return 0|e.charCodeAt(t)}function k(e,t,i){return e.slice(t,i)}function C(e){return e.length}function E(e){return e.length}function T(e,t){return t.push(e),e}function A(e,t){return e.filter((function(e){return!O(e,t)}))}var P=1,R=1,D=0,M=0,L=0,I="";function B(e,t,i,r,n,s,o,a){return{value:e,root:t,parent:i,type:r,props:n,children:s,line:P,column:R,length:o,return:"",siblings:a}}function N(e,t){return b(B("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function j(e){for(;e.root;)e=N(e.root,{children:[e]});T(e,e.siblings)}function W(){return L=M>0?x(I,--M):0,R--,10===L&&(R=1,P--),L}function z(){return L=M<D?x(I,M++):0,R++,10===L&&(R=1,P++),L}function Q(){return x(I,M)}function F(){return M}function U(e,t){return k(I,e,t)}function q(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function H(e){return P=R=1,D=C(I=e),M=0,[]}function V(e){return I="",e}function Y(e){return y(U(M-1,G(91===e?e+2:40===e?e+1:e)))}function X(e){for(;(L=Q())&&L<33;)z();return q(e)>2||q(L)>3?"":" "}function Z(e,t){for(;--t&&z()&&!(L<48||L>102||L>57&&L<65||L>70&&L<97););return U(e,F()+(t<6&&32==Q()&&32==z()))}function G(e){for(;z();)switch(L){case e:return M;case 34:case 39:34!==e&&39!==e&&G(L);break;case 40:41===e&&G(e);break;case 92:z()}return M}function $(e,t){for(;z()&&e+L!==57&&(e+L!==84||47!==Q()););return"/*"+U(t,M-1)+"*"+_(47===e?e:z())}function K(e){for(;!q(Q());)z();return U(e,M)}function J(e,t){for(var i="",r=0;r<e.length;r++)i+=t(e[r],r,e,t)||"";return i}function ee(e,t,i,r){switch(e.type){case g:if(e.children.length)break;case p:case f:return e.return=e.return||e.value;case u:return"";case m:return e.return=e.value+"{"+J(e.children,r)+"}";case d:if(!C(e.value=e.props.join(",")))return""}return C(i=J(e.children,r))?e.return=e.value+"{"+i+"}":""}function te(e,t,i){switch(function(e,t){return 45^x(e,0)?(((t<<2^x(e,0))<<2^x(e,1))<<2^x(e,2))<<2^x(e,3):0}(e,t)){case 5103:return h+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return h+e+e;case 4789:return c+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return h+e+c+e+l+e+e;case 5936:switch(x(e,t+11)){case 114:return h+e+l+w(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return h+e+l+w(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return h+e+l+w(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return h+e+l+e+e;case 6165:return h+e+l+"flex-"+e+e;case 5187:return h+e+w(e,/(\w+).+(:[^]+)/,h+"box-$1$2"+l+"flex-$1$2")+e;case 5443:return h+e+l+"flex-item-"+w(e,/flex-|-self/g,"")+(O(e,/flex-|baseline/)?"":l+"grid-row-"+w(e,/flex-|-self/g,""))+e;case 4675:return h+e+l+"flex-line-pack"+w(e,/align-content|flex-|-self/g,"")+e;case 5548:return h+e+l+w(e,"shrink","negative")+e;case 5292:return h+e+l+w(e,"basis","preferred-size")+e;case 6060:return h+"box-"+w(e,"-grow","")+h+e+l+w(e,"grow","positive")+e;case 4554:return h+w(e,/([^-])(transform)/g,"$1"+h+"$2")+e;case 6187:return w(w(w(e,/(zoom-|grab)/,h+"$1"),/(image-set)/,h+"$1"),e,"")+e;case 5495:case 3959:return w(e,/(image-set\([^]*)/,h+"$1$`$1");case 4968:return w(w(e,/(.+:)(flex-)?(.*)/,h+"box-pack:$3"+l+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+h+e+e;case 4200:if(!O(e,/flex-|baseline/))return l+"grid-column-align"+k(e,t)+e;break;case 2592:case 3360:return l+w(e,"template-","")+e;case 4384:case 3616:return i&&i.some((function(e,i){return t=i,O(e.props,/grid-\w+-end/)}))?~S(e+(i=i[t].value),"span",0)?e:l+w(e,"-start","")+e+l+"grid-row-span:"+(~S(i,"span",0)?O(i,/\d+/):+O(i,/\d+/)-+O(e,/\d+/))+";":l+w(e,"-start","")+e;case 4896:case 4128:return i&&i.some((function(e){return O(e.props,/grid-\w+-start/)}))?e:l+w(w(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return w(e,/(.+)-inline(.+)/,h+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(C(e)-1-t>6)switch(x(e,t+1)){case 109:if(45!==x(e,t+4))break;case 102:return w(e,/(.+:)(.+)-([^]+)/,"$1"+h+"$2-$3$1"+c+(108==x(e,t+3)?"$3":"$2-$3"))+e;case 115:return~S(e,"stretch",0)?te(w(e,"stretch","fill-available"),t,i)+e:e}break;case 5152:case 5920:return w(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,i,r,n,s,o,a){return l+i+":"+r+a+(n?l+i+"-span:"+(s?o:+o-+r)+a:"")+e}));case 4949:if(121===x(e,t+6))return w(e,":",":"+h)+e;break;case 6444:switch(x(e,45===x(e,14)?18:11)){case 120:return w(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+h+(45===x(e,14)?"inline-":"")+"box$3$1"+h+"$2$3$1"+l+"$2box$3")+e;case 100:return w(e,":",":"+l)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return w(e,"scroll-","scroll-snap-")+e}return e}function ie(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case f:return void(e.return=te(e.value,e.length,i));case m:return J([N(e,{value:w(e.value,"@","@"+h)})],r);case d:if(e.length)return function(e,t){return e.map(t).join("")}(i=e.props,(function(t){switch(O(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":j(N(e,{props:[w(t,/:(read-\w+)/,":"+c+"$1")]})),j(N(e,{props:[t]})),b(e,{props:A(i,r)});break;case"::placeholder":j(N(e,{props:[w(t,/:(plac\w+)/,":"+h+"input-$1")]})),j(N(e,{props:[w(t,/:(plac\w+)/,":"+c+"$1")]})),j(N(e,{props:[w(t,/:(plac\w+)/,l+"input-$1")]})),j(N(e,{props:[t]})),b(e,{props:A(i,r)})}return""}))}}function re(e){return V(ne("",null,null,null,[""],e=H(e),0,[0],e))}function ne(e,t,i,r,n,s,o,a,l){for(var c=0,h=0,u=o,d=0,f=0,p=0,m=1,g=1,b=1,y=0,O="",k=n,E=s,A=r,P=O;g;)switch(p=y,y=z()){case 40:if(108!=p&&58==x(P,u-1)){-1!=S(P+=w(Y(y),"&","&\f"),"&\f",v(c?a[c-1]:0))&&(b=-1);break}case 34:case 39:case 91:P+=Y(y);break;case 9:case 10:case 13:case 32:P+=X(p);break;case 92:P+=Z(F()-1,7);continue;case 47:switch(Q()){case 42:case 47:T(oe($(z(),F()),t,i,l),l);break;default:P+="/"}break;case 123*m:a[c++]=C(P)*b;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+h:-1==b&&(P=w(P,/\f/g,"")),f>0&&C(P)-u&&T(f>32?ae(P+";",r,i,u-1,l):ae(w(P," ","")+";",r,i,u-2,l),l);break;case 59:P+=";";default:if(T(A=se(P,t,i,c,h,n,a,O,k=[],E=[],u,s),s),123===y)if(0===h)ne(P,t,A,A,k,s,u,a,E);else switch(99===d&&110===x(P,3)?100:d){case 100:case 108:case 109:case 115:ne(e,A,A,r&&T(se(e,A,A,0,0,n,a,O,n,k=[],u,E),E),n,E,u,a,r?k:E);break;default:ne(P,A,A,A,[""],E,0,a,E)}}c=h=f=0,m=b=1,O=P="",u=o;break;case 58:u=1+C(P),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==W())continue;switch(P+=_(y),y*m){case 38:b=h>0?1:(P+="\f",-1);break;case 44:a[c++]=(C(P)-1)*b,b=1;break;case 64:45===Q()&&(P+=Y(z())),d=Q(),h=u=C(O=P+=K(F())),y++;break;case 45:45===p&&2==C(P)&&(m=0)}}return s}function se(e,t,i,r,n,s,o,a,l,c,h,u){for(var f=n-1,p=0===n?s:[""],m=E(p),g=0,_=0,b=0;g<r;++g)for(var O=0,S=k(e,f+1,f=v(_=o[g])),x=e;O<m;++O)(x=y(_>0?p[O]+" "+S:w(S,/&\f/g,p[O])))&&(l[b++]=x);return B(e,t,i,0===n?d:a,l,c,h,u)}function oe(e,t,i,r){return B(e,t,i,u,_(L),k(e,2,-2),0,r)}function ae(e,t,i,r,n){return B(e,t,i,f,k(e,0,r),k(e,r+1,-1),r,n)}const le={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ce="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",he="active",ue="data-styled-version",de="6.1.8",fe="/*!sc*/\n",pe="undefined"!=typeof window&&"HTMLElement"in window,me=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),ge=(new Set,Object.freeze([])),ve=Object.freeze({});function _e(e,t,i){return void 0===i&&(i=ve),e.theme!==i.theme&&e.theme||t||i.theme}var be=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ye=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Oe=/(^-|-$)/g;function we(e){return e.replace(ye,"-").replace(Oe,"")}var Se=/(a)(d)/gi,xe=52,ke=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ce(e){var t,i="";for(t=Math.abs(e);t>xe;t=t/xe|0)i=ke(t%xe)+i;return(ke(t%xe)+i).replace(Se,"$1-$2")}var Ee,Te=5381,Ae=function(e,t){for(var i=t.length;i;)e=33*e^t.charCodeAt(--i);return e},Pe=function(e){return Ae(Te,e)};function Re(e){return Ce(Pe(e)>>>0)}function De(e){return e.displayName||e.name||"Component"}function Me(e){return"string"==typeof e&&!0}var Le="function"==typeof Symbol&&Symbol.for,Ie=Le?Symbol.for("react.memo"):60115,Be=Le?Symbol.for("react.forward_ref"):60112,Ne={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},je={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},We={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ze=((Ee={})[Be]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ee[Ie]=We,Ee);function Qe(e){return("type"in(t=e)&&t.type.$$typeof)===Ie?We:"$$typeof"in e?ze[e.$$typeof]:Ne;var t}var Fe=Object.defineProperty,Ue=Object.getOwnPropertyNames,qe=Object.getOwnPropertySymbols,He=Object.getOwnPropertyDescriptor,Ve=Object.getPrototypeOf,Ye=Object.prototype;function Xe(e,t,i){if("string"!=typeof t){if(Ye){var r=Ve(t);r&&r!==Ye&&Xe(e,r,i)}var n=Ue(t);qe&&(n=n.concat(qe(t)));for(var s=Qe(e),o=Qe(t),a=0;a<n.length;++a){var l=n[a];if(!(l in je||i&&i[l]||o&&l in o||s&&l in s)){var c=He(t,l);try{Fe(e,l,c)}catch(e){}}}}return e}function Ze(e){return"function"==typeof e}function Ge(e){return"object"==typeof e&&"styledComponentId"in e}function $e(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Ke(e,t){if(0===e.length)return"";for(var i=e[0],r=1;r<e.length;r++)i+=t?t+e[r]:e[r];return i}function Je(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function et(e,t,i){if(void 0===i&&(i=!1),!i&&!Je(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=et(e[r],t[r]);else if(Je(t))for(var r in t)e[r]=et(e[r],t[r]);return e}function tt(e,t){Object.defineProperty(e,"toString",{value:t})}function it(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var rt=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,r=i.length,n=r;e>=n;)if((n<<=1)<0)throw it(16,"".concat(e));this.groupSizes=new Uint32Array(n),this.groupSizes.set(i),this.length=n;for(var s=r;s<n;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),a=(s=0,t.length);s<a;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),r=i+t;this.groupSizes[e]=0;for(var n=i;n<r;n++)this.tag.deleteRule(i)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var i=this.groupSizes[e],r=this.indexOfGroup(e),n=r+i,s=r;s<n;s++)t+="".concat(this.tag.getRule(s)).concat(fe);return t},e}(),nt=new Map,st=new Map,ot=1,at=function(e){if(nt.has(e))return nt.get(e);for(;st.has(ot);)ot++;var t=ot++;return nt.set(e,t),st.set(t,e),t},lt=function(e,t){ot=t+1,nt.set(e,t),st.set(t,e)},ct="style[".concat(ce,"][").concat(ue,'="').concat(de,'"]'),ht=new RegExp("^".concat(ce,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ut=function(e,t,i){for(var r,n=i.split(","),s=0,o=n.length;s<o;s++)(r=n[s])&&e.registerName(t,r)},dt=function(e,t){for(var i,r=(null!==(i=t.textContent)&&void 0!==i?i:"").split(fe),n=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(ht);if(l){var c=0|parseInt(l[1],10),h=l[2];0!==c&&(lt(h,c),ut(e,h,l[3]),e.getTag().insertRules(c,n)),n.length=0}else n.push(a)}}};function ft(){return i.nc}var pt=function(e){var t=document.head,i=e||t,r=document.createElement("style"),n=function(e){var t=Array.from(e.querySelectorAll("style[".concat(ce,"]")));return t[t.length-1]}(i),s=void 0!==n?n.nextSibling:null;r.setAttribute(ce,he),r.setAttribute(ue,de);var o=ft();return o&&r.setAttribute("nonce",o),i.insertBefore(r,s),r},mt=function(){function e(e){this.element=pt(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,i=0,r=t.length;i<r;i++){var n=t[i];if(n.ownerNode===e)return n}throw it(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),gt=function(){function e(e){this.element=pt(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),vt=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),_t=pe,bt={isServer:!pe,useCSSOMInjection:!me},yt=function(){function e(e,t,i){void 0===e&&(e=ve),void 0===t&&(t={});var n=this;this.options=r(r({},bt),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&pe&&_t&&(_t=!1,function(e){for(var t=document.querySelectorAll(ct),i=0,r=t.length;i<r;i++){var n=t[i];n&&n.getAttribute(ce)!==he&&(dt(e,n),n.parentNode&&n.parentNode.removeChild(n))}}(this)),tt(this,(function(){return function(e){for(var t=e.getTag(),i=t.length,r="",n=function(i){var n=function(e){return st.get(e)}(i);if(void 0===n)return"continue";var s=e.names.get(n),o=t.getGroup(i);if(void 0===s||0===o.length)return"continue";var a="".concat(ce,".g").concat(i,'[id="').concat(n,'"]'),l="";void 0!==s&&s.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(o).concat(a,'{content:"').concat(l,'"}').concat(fe)},s=0;s<i;s++)n(s);return r}(n)}))}return e.registerId=function(e){return at(e)},e.prototype.reconstructWithOptions=function(t,i){return void 0===i&&(i=!0),new e(r(r({},this.options),t),this.gs,i&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,i=e.target;return e.isServer?new vt(i):t?new mt(i):new gt(i)}(this.options),new rt(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(at(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},e.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(at(e),i)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(at(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Ot=/&/g,wt=/^\s*\/\/.*$/gm;function St(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=St(e.children,t)),e}))}function xt(e){var t,i,r,n=void 0===e?ve:e,s=n.options,o=void 0===s?ve:s,a=n.plugins,l=void 0===a?ge:a,c=function(e,r,n){return n.startsWith(i)&&n.endsWith(i)&&n.replaceAll(i,"").length>0?".".concat(t):e},h=l.slice();h.push((function(e){e.type===d&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Ot,i).replace(r,c))})),o.prefix&&h.push(ie),h.push(ee);var u=function(e,n,s,a){void 0===n&&(n=""),void 0===s&&(s=""),void 0===a&&(a="&"),t=a,i=n,r=new RegExp("\\".concat(i,"\\b"),"g");var l=e.replace(wt,""),c=re(s||n?"".concat(s," ").concat(n," { ").concat(l," }"):l);o.namespace&&(c=St(c,o.namespace));var u,d=[];return J(c,function(e){var t=E(e);return function(i,r,n,s){for(var o="",a=0;a<t;a++)o+=e[a](i,r,n,s)||"";return o}}(h.concat((u=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&u(e)})))),d};return u.hash=l.length?l.reduce((function(e,t){return t.name||it(15),Ae(e,t.name)}),Te).toString():"",u}var kt=new yt,Ct=xt(),Et=s.createContext({shouldForwardProp:void 0,styleSheet:kt,stylis:Ct}),Tt=(Et.Consumer,s.createContext(void 0));function At(){return(0,s.useContext)(Et)}function Pt(e){var t=(0,s.useState)(e.stylisPlugins),i=t[0],r=t[1],n=At().styleSheet,o=(0,s.useMemo)((function(){var t=n;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,n]),l=(0,s.useMemo)((function(){return xt({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:i})}),[e.enableVendorPrefixes,e.namespace,i]);(0,s.useEffect)((function(){a()(i,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]);var c=(0,s.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:l}}),[e.shouldForwardProp,o,l]);return s.createElement(Et.Provider,{value:c},s.createElement(Tt.Provider,{value:l},e.children))}var Rt=function(){function e(e,t){var i=this;this.inject=function(e,t){void 0===t&&(t=Ct);var r=i.name+t.hash;e.hasNameForId(i.id,r)||e.insertRules(i.id,r,t(i.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,tt(this,(function(){throw it(12,String(i.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Ct),this.name+e.hash},e}(),Dt=function(e){return e>="A"&&e<="Z"};function Mt(e){for(var t="",i=0;i<e.length;i++){var r=e[i];if(1===i&&"-"===r&&"-"===e[0])return e;Dt(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Lt=function(e){return null==e||!1===e||""===e},It=function(e){var t,i,r=[];for(var s in e){var o=e[s];e.hasOwnProperty(s)&&!Lt(o)&&(Array.isArray(o)&&o.isCss||Ze(o)?r.push("".concat(Mt(s),":"),o,";"):Je(o)?r.push.apply(r,n(n(["".concat(s," {")],It(o),!1),["}"],!1)):r.push("".concat(Mt(s),": ").concat((t=s,null==(i=o)||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||t in le||t.startsWith("--")?String(i).trim():"".concat(i,"px")),";")))}return r};function Bt(e,t,i,r){return Lt(e)?[]:Ge(e)?[".".concat(e.styledComponentId)]:Ze(e)?!Ze(n=e)||n.prototype&&n.prototype.isReactComponent||!t?[e]:Bt(e(t),t,i,r):e instanceof Rt?i?(e.inject(i,r),[e.getName(r)]):[e]:Je(e)?It(e):Array.isArray(e)?Array.prototype.concat.apply(ge,e.map((function(e){return Bt(e,t,i,r)}))):[e.toString()];var n}function Nt(e){for(var t=0;t<e.length;t+=1){var i=e[t];if(Ze(i)&&!Ge(i))return!1}return!0}var jt=Pe(de),Wt=function(){function e(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===i||i.isStatic)&&Nt(e),this.componentId=t,this.baseHash=Ae(jt,t),this.baseStyle=i,yt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,i){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=$e(r,this.staticRulesId);else{var n=Ke(Bt(this.rules,e,t,i)),s=Ce(Ae(this.baseHash,n)>>>0);if(!t.hasNameForId(this.componentId,s)){var o=i(n,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,o)}r=$e(r,s),this.staticRulesId=s}else{for(var a=Ae(this.baseHash,i.hash),l="",c=0;c<this.rules.length;c++){var h=this.rules[c];if("string"==typeof h)l+=h;else if(h){var u=Ke(Bt(h,e,t,i));a=Ae(a,u+c),l+=u}}if(l){var d=Ce(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,i(l,".".concat(d),void 0,this.componentId)),r=$e(r,d)}}return r},e}(),zt=s.createContext(void 0);zt.Consumer;var Qt={};new Set;function Ft(e,t,i){var n=Ge(e),o=e,a=!Me(e),l=t.attrs,c=void 0===l?ge:l,h=t.componentId,u=void 0===h?function(e,t){var i="string"!=typeof e?"sc":we(e);Qt[i]=(Qt[i]||0)+1;var r="".concat(i,"-").concat(Re(de+i+Qt[i]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):h,d=t.displayName,f=void 0===d?function(e){return Me(e)?"styled.".concat(e):"Styled(".concat(De(e),")")}(e):d,p=t.displayName&&t.componentId?"".concat(we(t.displayName),"-").concat(t.componentId):t.componentId||u,m=n&&o.attrs?o.attrs.concat(c).filter(Boolean):c,g=t.shouldForwardProp;if(n&&o.shouldForwardProp){var v=o.shouldForwardProp;if(t.shouldForwardProp){var _=t.shouldForwardProp;g=function(e,t){return v(e,t)&&_(e,t)}}else g=v}var b=new Wt(i,p,n?o.componentStyle:void 0);function y(e,t){return function(e,t,i){var n=e.attrs,o=e.componentStyle,a=e.defaultProps,l=e.foldedComponentIds,c=e.styledComponentId,h=e.target,u=s.useContext(zt),d=At(),f=e.shouldForwardProp||d.shouldForwardProp,p=_e(t,u,a)||ve,m=function(e,t,i){for(var n,s=r(r({},t),{className:void 0,theme:i}),o=0;o<e.length;o+=1){var a=Ze(n=e[o])?n(s):n;for(var l in a)s[l]="className"===l?$e(s[l],a[l]):"style"===l?r(r({},s[l]),a[l]):a[l]}return t.className&&(s.className=$e(s.className,t.className)),s}(n,t,p),g=m.as||h,v={};for(var _ in m)void 0===m[_]||"$"===_[0]||"as"===_||"theme"===_&&m.theme===p||("forwardedAs"===_?v.as=m.forwardedAs:f&&!f(_,g)||(v[_]=m[_]));var b=function(e,t){var i=At();return e.generateAndInjectStyles(t,i.styleSheet,i.stylis)}(o,m),y=$e(l,c);return b&&(y+=" "+b),m.className&&(y+=" "+m.className),v[Me(g)&&!be.has(g)?"class":"className"]=y,v.ref=i,(0,s.createElement)(g,v)}(O,e,t)}y.displayName=f;var O=s.forwardRef(y);return O.attrs=m,O.componentStyle=b,O.displayName=f,O.shouldForwardProp=g,O.foldedComponentIds=n?$e(o.foldedComponentIds,o.styledComponentId):"",O.styledComponentId=p,O.target=n?o.target:e,Object.defineProperty(O,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=n?function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var r=0,n=t;r<n.length;r++)et(e,n[r],!0);return e}({},o.defaultProps,e):e}}),tt(O,(function(){return".".concat(O.styledComponentId)})),a&&Xe(O,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),O}function Ut(e,t){for(var i=[e[0]],r=0,n=t.length;r<n;r+=1)i.push(t[r],e[r+1]);return i}var qt=function(e){return Object.assign(e,{isCss:!0})};function Ht(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(Ze(e)||Je(e))return qt(Bt(Ut(ge,n([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Bt(r):qt(Bt(Ut(r,t)))}function Vt(e,t,i){if(void 0===i&&(i=ve),!t)throw it(1,t);var s=function(r){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return e(t,i,Ht.apply(void 0,n([r],s,!1)))};return s.attrs=function(n){return Vt(e,t,r(r({},i),{attrs:Array.prototype.concat(i.attrs,n).filter(Boolean)}))},s.withConfig=function(n){return Vt(e,t,r(r({},i),n))},s}var Yt=function(e){return Vt(Ft,e)},Xt=Yt;be.forEach((function(e){Xt[e]=Yt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Nt(e),yt.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,i,r){var n=r(Ke(Bt(this.rules,t,i,r)),""),s=this.componentId+e;i.insertRules(s,s,n)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,i,r){e>2&&yt.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,t,i,r)}}();function Zt(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var r=Ke(Ht.apply(void 0,n([e],t,!1))),s=Re(r);return new Rt(s,r)}(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),i=ft(),r=Ke([i&&'nonce="'.concat(i,'"'),"".concat(ce,'="true"'),"".concat(ue,'="').concat(de,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw it(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw it(2);var i=((t={})[ce]="",t[ue]=de,t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),n=ft();return n&&(i.nonce=n),[s.createElement("style",r({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new yt({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw it(2);return s.createElement(Pt,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw it(3)}})(),"__sc-".concat(ce,"__")},2699:e=>{!function(t,i){e.exports=i()}(self,(()=>(()=>{"use strict";var e={4567:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;const s=i(9042),o=i(6114),a=i(9924),l=i(844),c=i(5596),h=i(4725),u=i(3656);let d=t.AccessibilityManager=class extends l.Disposable{constructor(e,t){super(),this._terminal=e,this._renderService=t,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let i=0;i<this._terminal.rows;i++)this._rowElements[i]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[i]);if(this._topBoundaryFocusListener=e=>this._handleBoundaryFocus(e,0),this._bottomBoundaryFocusListener=e=>this._handleBoundaryFocus(e,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new a.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((e=>this._handleResize(e.rows)))),this.register(this._terminal.onRender((e=>this._refreshRows(e.start,e.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((e=>this._handleChar(e)))),this.register(this._terminal.onLineFeed((()=>this._handleChar("\n")))),this.register(this._terminal.onA11yTab((e=>this._handleTab(e)))),this.register(this._terminal.onKey((e=>this._handleKey(e.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this._screenDprMonitor=new c.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener((()=>this._refreshRowsDimensions())),this.register((0,u.addDisposableDomListener)(window,"resize",(()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,l.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(e){for(let t=0;t<e;t++)this._handleChar(" ")}_handleChar(e){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=s.tooMuchOutput)),o.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((()=>{this._accessibilityContainer.appendChild(this._liveRegion)}),0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,o.isMac&&this._liveRegion.remove()}_handleKey(e){this._clearLiveRegion(),/\p{Control}/u.test(e)||this._charsToConsume.push(e)}_refreshRows(e,t){this._liveRegionDebouncer.refresh(e,t,this._terminal.rows)}_renderRows(e,t){const i=this._terminal.buffer,r=i.lines.length.toString();for(let n=e;n<=t;n++){const e=i.translateBufferLineToString(i.ydisp+n,!0),t=(i.ydisp+n+1).toString(),s=this._rowElements[n];s&&(0===e.length?s.innerText="\xa0":s.textContent=e,s.setAttribute("aria-posinset",t),s.setAttribute("aria-setsize",r))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(e,t){const i=e.target,r=this._rowElements[0===t?1:this._rowElements.length-2];if(i.getAttribute("aria-posinset")===(0===t?"1":"".concat(this._terminal.buffer.lines.length)))return;if(e.relatedTarget!==r)return;let n,s;if(0===t?(n=i,s=this._rowElements.pop(),this._rowContainer.removeChild(s)):(n=this._rowElements.shift(),s=i,this._rowContainer.removeChild(n)),n.removeEventListener("focus",this._topBoundaryFocusListener),s.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){const e=this._createAccessibilityTreeNode();this._rowElements.unshift(e),this._rowContainer.insertAdjacentElement("afterbegin",e)}else{const e=this._createAccessibilityTreeNode();this._rowElements.push(e),this._rowContainer.appendChild(e)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}_handleResize(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width="".concat(this._renderService.dimensions.css.canvas.width,"px"),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}}_refreshRowDimensions(e){e.style.height="".concat(this._renderService.dimensions.css.cell.height,"px")}};t.AccessibilityManager=d=r([n(1,h.IRenderService)],d)},3614:(e,t)=>{function i(e){return e.replace(/\r?\n/g,"\r")}function r(e,t){return t?"\x1b[200~"+e+"\x1b[201~":e}function n(e,t,n,s){e=r(e=i(e),n.decPrivateModes.bracketedPasteMode&&!0!==s.rawOptions.ignoreBracketedPasteMode),n.triggerDataEvent(e,!0),t.value=""}function s(e,t,i){const r=i.getBoundingClientRect(),n=e.clientX-r.left-10,s=e.clientY-r.top-10;t.style.width="20px",t.style.height="20px",t.style.left="".concat(n,"px"),t.style.top="".concat(s,"px"),t.style.zIndex="1000",t.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=i,t.bracketTextForPaste=r,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,i,r){e.stopPropagation(),e.clipboardData&&n(e.clipboardData.getData("text/plain"),t,i,r)},t.paste=n,t.moveTextAreaUnderMouseCursor=s,t.rightClickHandler=function(e,t,i,r,n){s(e,t,i),n&&r.rightClickSelect(e),t.value=r.selectionText,t.select()}},7239:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;const r=i(1505);t.ColorContrastCache=class{constructor(){this._color=new r.TwoKeyMap,this._css=new r.TwoKeyMap}setCss(e,t,i){this._css.set(e,t,i)}getCss(e,t){return this._css.get(e,t)}setColor(e,t,i){this._color.set(e,t,i)}getColor(e,t){return this._color.get(e,t)}clear(){this._color.clear(),this._css.clear()}}},3656:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,i,r){e.addEventListener(t,i,r);let n=!1;return{dispose:()=>{n||(n=!0,e.removeEventListener(t,i,r))}}}},6465:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;const s=i(3656),o=i(8460),a=i(844),l=i(2585);let c=t.Linkifier2=class extends a.Disposable{get currentLink(){return this._currentLink}constructor(e){super(),this._bufferService=e,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new o.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new o.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,a.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,a.toDisposable)((()=>{this._lastMouseEvent=void 0}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0})))}registerLinkProvider(e){return this._linkProviders.push(e),{dispose:()=>{const t=this._linkProviders.indexOf(e);-1!==t&&this._linkProviders.splice(t,1)}}}attachToDom(e,t,i){this._element=e,this._mouseService=t,this._renderService=i,this.register((0,s.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,s.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,s.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,s.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(e){if(this._lastMouseEvent=e,!this._element||!this._mouseService)return;const t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(!t)return;this._isMouseOut=!1;const i=e.composedPath();for(let r=0;r<i.length;r++){const e=i[r];if(e.classList.contains("xterm"))break;if(e.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._handleHover(t),this._lastBufferCell=t)}_handleHover(e){if(this._activeLine!==e.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(e,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))}_askForLink(e,t){var i,r;this._activeProviderReplies&&t||(null===(i=this._activeProviderReplies)||void 0===i||i.forEach((e=>{null==e||e.forEach((e=>{e.link.dispose&&e.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=e.y);let n=!1;for(const[s,o]of this._linkProviders.entries())t?(null===(r=this._activeProviderReplies)||void 0===r?void 0:r.get(s))&&(n=this._checkLinkProviderResult(s,e,n)):o.provideLinks(e.y,(t=>{var i,r;if(this._isMouseOut)return;const o=null==t?void 0:t.map((e=>({link:e})));null===(i=this._activeProviderReplies)||void 0===i||i.set(s,o),n=this._checkLinkProviderResult(s,e,n),(null===(r=this._activeProviderReplies)||void 0===r?void 0:r.size)===this._linkProviders.length&&this._removeIntersectingLinks(e.y,this._activeProviderReplies)}))}_removeIntersectingLinks(e,t){const i=new Set;for(let r=0;r<t.size;r++){const n=t.get(r);if(n)for(let t=0;t<n.length;t++){const r=n[t],s=r.link.range.start.y<e?0:r.link.range.start.x,o=r.link.range.end.y>e?this._bufferService.cols:r.link.range.end.x;for(let e=s;e<=o;e++){if(i.has(e)){n.splice(t--,1);break}i.add(e)}}}}_checkLinkProviderResult(e,t,i){var r;if(!this._activeProviderReplies)return i;const n=this._activeProviderReplies.get(e);let s=!1;for(let o=0;o<e;o++)this._activeProviderReplies.has(o)&&!this._activeProviderReplies.get(o)||(s=!0);if(!s&&n){const e=n.find((e=>this._linkAtPosition(e.link,t)));e&&(i=!0,this._handleNewLink(e))}if(this._activeProviderReplies.size===this._linkProviders.length&&!i)for(let o=0;o<this._activeProviderReplies.size;o++){const e=null===(r=this._activeProviderReplies.get(o))||void 0===r?void 0:r.find((e=>this._linkAtPosition(e.link,t)));if(e){i=!0,this._handleNewLink(e);break}}return i}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(e){if(!this._element||!this._mouseService||!this._currentLink)return;const t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}_clearCurrentLink(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,a.disposeArray)(this._linkCacheDisposables))}_handleNewLink(e){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const t=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);t&&this._linkAtPosition(e.link,t)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:void 0===e.link.decorations||e.link.decorations.underline,pointerCursor:void 0===e.link.decorations||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:()=>{var e,t;return null===(t=null===(e=this._currentLink)||void 0===e?void 0:e.state)||void 0===t?void 0:t.decorations.pointerCursor},set:e=>{var t,i;(null===(t=this._currentLink)||void 0===t?void 0:t.state)&&this._currentLink.state.decorations.pointerCursor!==e&&(this._currentLink.state.decorations.pointerCursor=e,this._currentLink.state.isHovered&&(null===(i=this._element)||void 0===i||i.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:()=>{var e,t;return null===(t=null===(e=this._currentLink)||void 0===e?void 0:e.state)||void 0===t?void 0:t.decorations.underline},set:t=>{var i,r,n;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(null===(n=null===(r=this._currentLink)||void 0===r?void 0:r.state)||void 0===n?void 0:n.decorations.underline)!==t&&(this._currentLink.state.decorations.underline=t,this._currentLink.state.isHovered&&this._fireUnderlineEvent(e.link,t))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((e=>{if(!this._currentLink)return;const t=0===e.start?0:e.start+1+this._bufferService.buffer.ydisp,i=this._bufferService.buffer.ydisp+1+e.end;if(this._currentLink.link.range.start.y>=t&&this._currentLink.link.range.end.y<=i&&(this._clearCurrentLink(t,i),this._lastMouseEvent&&this._element)){const e=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);e&&this._askForLink(e,!1)}}))))}_linkHover(e,t,i){var r;(null===(r=this._currentLink)||void 0===r?void 0:r.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(i,t.text)}_fireUnderlineEvent(e,t){const i=e.range,r=this._bufferService.buffer.ydisp,n=this._createLinkUnderlineEvent(i.start.x-1,i.start.y-r-1,i.end.x,i.end.y-r-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(n)}_linkLeave(e,t,i){var r;(null===(r=this._currentLink)||void 0===r?void 0:r.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(i,t.text)}_linkAtPosition(e,t){const i=e.range.start.y*this._bufferService.cols+e.range.start.x,r=e.range.end.y*this._bufferService.cols+e.range.end.x,n=t.y*this._bufferService.cols+t.x;return i<=n&&n<=r}_positionFromMouseEvent(e,t,i){const r=i.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(r)return{x:r[0],y:r[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(e,t,i,r,n){return{x1:e,y1:t,x2:i,y2:r,cols:this._bufferService.cols,fg:n}}};t.Linkifier2=c=r([n(0,l.IBufferService)],c)},9042:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkProvider=void 0;const s=i(511),o=i(2585);let a=t.OscLinkProvider=class{constructor(e,t,i){this._bufferService=e,this._optionsService=t,this._oscLinkService=i}provideLinks(e,t){var i;const r=this._bufferService.buffer.lines.get(e-1);if(!r)return void t(void 0);const n=[],o=this._optionsService.rawOptions.linkHandler,a=new s.CellData,c=r.getTrimmedLength();let h=-1,u=-1,d=!1;for(let s=0;s<c;s++)if(-1!==u||r.hasContent(s)){if(r.loadCell(s,a),a.hasExtendedAttrs()&&a.extended.urlId){if(-1===u){u=s,h=a.extended.urlId;continue}d=a.extended.urlId!==h}else-1!==u&&(d=!0);if(d||-1!==u&&s===c-1){const t=null===(i=this._oscLinkService.getLinkData(h))||void 0===i?void 0:i.uri;if(t){const i={start:{x:u+1,y:e},end:{x:s+(d||s!==c-1?0:1),y:e}};let r=!1;if(!(null==o?void 0:o.allowNonHttpProtocols))try{const e=new URL(t);["http:","https:"].includes(e.protocol)||(r=!0)}catch(e){r=!0}r||n.push({text:t,range:i,activate:(e,t)=>o?o.activate(e,t,i):l(0,t),hover:(e,t)=>{var r;return null===(r=null==o?void 0:o.hover)||void 0===r?void 0:r.call(o,e,t,i)},leave:(e,t)=>{var r;return null===(r=null==o?void 0:o.leave)||void 0===r?void 0:r.call(o,e,t,i)}})}d=!1,a.hasExtendedAttrs()&&a.extended.urlId?(u=s,h=a.extended.urlId):(u=-1,h=-1)}}t(n)}};function l(e,t){if(confirm("Do you want to navigate to ".concat(t,"?\n\nWARNING: This link could potentially be dangerous"))){const i=window.open();if(i){try{i.opener=null}catch(e){}i.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}}t.OscLinkProvider=a=r([n(0,o.IBufferService),n(1,o.IOptionsService),n(2,o.IOscLinkService)],a)},6193:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0,t.RenderDebouncer=class{constructor(e,t){this._parentWindow=e,this._renderCallback=t,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(e){return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(e,t,i){this._rowCount=i,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const e of this._refreshCallbacks)e(0);this._refreshCallbacks=[]}}},5596:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;const r=i(844);class n extends r.Disposable{constructor(e){super(),this._parentWindow=e,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,r.toDisposable)((()=>{this.clearListener()})))}setListener(e){this._listener&&this.clearListener(),this._listener=e,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var e;this._outerListener&&(null===(e=this._resolutionMediaMatchList)||void 0===e||e.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia("screen and (resolution: ".concat(this._parentWindow.devicePixelRatio,"dppx)")),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}t.ScreenDprMonitor=n},3236:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;const r=i(3614),n=i(3656),s=i(6465),o=i(9042),a=i(3730),l=i(1680),c=i(3107),h=i(5744),u=i(2950),d=i(1296),f=i(428),p=i(4269),m=i(5114),g=i(8934),v=i(3230),_=i(9312),b=i(4725),y=i(6731),O=i(8055),w=i(8969),S=i(8460),x=i(844),k=i(6114),C=i(8437),E=i(2584),T=i(7399),A=i(5941),P=i(9074),R=i(2585),D=i(5435),M=i(4567),L="undefined"!=typeof window?window.document:null;class I extends w.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.browser=k,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new x.MutableDisposable),this._onCursorMove=this.register(new S.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new S.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new S.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new S.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new S.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new S.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new S.EventEmitter),this._onBlur=this.register(new S.EventEmitter),this._onA11yCharEmitter=this.register(new S.EventEmitter),this._onA11yTabEmitter=this.register(new S.EventEmitter),this._onWillOpen=this.register(new S.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(s.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(a.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(P.DecorationService),this._instantiationService.setService(R.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((e,t)=>this.refresh(e,t)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((e=>this._reportWindowsOptions(e)))),this.register(this._inputHandler.onColor((e=>this._handleColorEvent(e)))),this.register((0,S.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,S.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,S.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,S.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((e=>this._afterResize(e.cols,e.rows)))),this.register((0,x.toDisposable)((()=>{var e,t;this._customKeyEventHandler=void 0,null===(t=null===(e=this.element)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(this.element)})))}_handleColorEvent(e){if(this._themeService)for(const t of e){let e,i="";switch(t.index){case 256:e="foreground",i="10";break;case 257:e="background",i="11";break;case 258:e="cursor",i="12";break;default:e="ansi",i="4;"+t.index}switch(t.type){case 0:const r=O.color.toColorRGB("ansi"===e?this._themeService.colors.ansi[t.index]:this._themeService.colors[e]);this.coreService.triggerDataEvent("".concat(E.C0.ESC,"]").concat(i,";").concat((0,A.toRgbString)(r)).concat(E.C1_ESCAPED.ST));break;case 1:if("ansi"===e)this._themeService.modifyColors((e=>e.ansi[t.index]=O.rgba.toColor(...t.color)));else{const i=e;this._themeService.modifyColors((e=>e[i]=O.rgba.toColor(...t.color)))}break;case 2:this._themeService.restoreColor(t.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(e){e?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(M.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(E.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var e;return null===(e=this.textarea)||void 0===e?void 0:e.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(E.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(!t)return;const i=Math.min(this.buffer.x,this.cols-1),r=this._renderService.dimensions.css.cell.height,n=t.getWidth(i),s=this._renderService.dimensions.css.cell.width*n,o=this.buffer.y*this._renderService.dimensions.css.cell.height,a=i*this._renderService.dimensions.css.cell.width;this.textarea.style.left=a+"px",this.textarea.style.top=o+"px",this.textarea.style.width=s+"px",this.textarea.style.height=r+"px",this.textarea.style.lineHeight=r+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,n.addDisposableDomListener)(this.element,"copy",(e=>{this.hasSelection()&&(0,r.copyHandler)(e,this._selectionService)})));const e=e=>(0,r.handlePasteEvent)(e,this.textarea,this.coreService,this.optionsService);this.register((0,n.addDisposableDomListener)(this.textarea,"paste",e)),this.register((0,n.addDisposableDomListener)(this.element,"paste",e)),k.isFirefox?this.register((0,n.addDisposableDomListener)(this.element,"mousedown",(e=>{2===e.button&&(0,r.rightClickHandler)(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,n.addDisposableDomListener)(this.element,"contextmenu",(e=>{(0,r.rightClickHandler)(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),k.isLinux&&this.register((0,n.addDisposableDomListener)(this.element,"auxclick",(e=>{1===e.button&&(0,r.moveTextAreaUnderMouseCursor)(e,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,n.addDisposableDomListener)(this.textarea,"keyup",(e=>this._keyUp(e)),!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"keydown",(e=>this._keyDown(e)),!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"keypress",(e=>this._keyPress(e)),!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionupdate",(e=>this._compositionHelper.compositionupdate(e)))),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,n.addDisposableDomListener)(this.textarea,"input",(e=>this._inputEvent(e)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(e){var t;if(!e)throw new Error("Terminal requires a parent element.");e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),e.appendChild(this.element);const i=L.createDocumentFragment();this._viewportElement=L.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),i.appendChild(this._viewportElement),this._viewportScrollArea=L.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=L.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=L.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),i.appendChild(this.screenElement),this.textarea=L.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",o.promptLabel),k.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(m.CoreBrowserService,this.textarea,null!==(t=this._document.defaultView)&&void 0!==t?t:window),this._instantiationService.setService(b.ICoreBrowserService,this._coreBrowserService),this.register((0,n.addDisposableDomListener)(this.textarea,"focus",(e=>this._handleTextAreaFocus(e)))),this.register((0,n.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(f.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(b.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(y.ThemeService),this._instantiationService.setService(b.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(p.CharacterJoinerService),this._instantiationService.setService(b.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(v.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(b.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((e=>this._onRender.fire(e)))),this.onResize((e=>this._renderService.resize(e.cols,e.rows))),this._compositionView=L.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(u.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(i);try{this._onWillOpen.fire(this.element)}catch(e){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(g.MouseService),this._instantiationService.setService(b.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(l.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((e=>this.scrollLines(e.amount,e.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(_.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(b.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((e=>this.scrollLines(e.amount,e.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((e=>this._renderService.handleSelectionChanged(e.start,e.end,e.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((e=>{this.textarea.value=e,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((e=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,n.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(c.BufferDecorationRenderer,this.screenElement)),this.register((0,n.addDisposableDomListener)(this.element,"mousedown",(e=>this._selectionService.handleMouseDown(e)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(M.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(e=>this._handleScreenReaderModeOptionChange(e)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(e=>{!this._overviewRulerRenderer&&e&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const e=this,t=this.element;function i(t){const i=e._mouseService.getMouseReportCoords(t,e.screenElement);if(!i)return!1;let r,n;switch(t.overrideType||t.type){case"mousemove":n=32,void 0===t.buttons?(r=3,void 0!==t.button&&(r=t.button<3?t.button:3)):r=1&t.buttons?0:4&t.buttons?1:2&t.buttons?2:3;break;case"mouseup":n=0,r=t.button<3?t.button:3;break;case"mousedown":n=1,r=t.button<3?t.button:3;break;case"wheel":if(0===e.viewport.getLinesScrolled(t))return!1;n=t.deltaY<0?0:1,r=4;break;default:return!1}return!(void 0===n||void 0===r||r>4)&&e.coreMouseService.triggerMouseEvent({col:i.col,row:i.row,x:i.x,y:i.y,button:r,action:n,ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey})}const r={mouseup:null,wheel:null,mousedrag:null,mousemove:null},s={mouseup:e=>(i(e),e.buttons||(this._document.removeEventListener("mouseup",r.mouseup),r.mousedrag&&this._document.removeEventListener("mousemove",r.mousedrag)),this.cancel(e)),wheel:e=>(i(e),this.cancel(e,!0)),mousedrag:e=>{e.buttons&&i(e)},mousemove:e=>{e.buttons||i(e)}};this.register(this.coreMouseService.onProtocolChange((e=>{e?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(e)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&e?r.mousemove||(t.addEventListener("mousemove",s.mousemove),r.mousemove=s.mousemove):(t.removeEventListener("mousemove",r.mousemove),r.mousemove=null),16&e?r.wheel||(t.addEventListener("wheel",s.wheel,{passive:!1}),r.wheel=s.wheel):(t.removeEventListener("wheel",r.wheel),r.wheel=null),2&e?r.mouseup||(t.addEventListener("mouseup",s.mouseup),r.mouseup=s.mouseup):(this._document.removeEventListener("mouseup",r.mouseup),t.removeEventListener("mouseup",r.mouseup),r.mouseup=null),4&e?r.mousedrag||(r.mousedrag=s.mousedrag):(this._document.removeEventListener("mousemove",r.mousedrag),r.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,n.addDisposableDomListener)(t,"mousedown",(e=>{if(e.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(e))return i(e),r.mouseup&&this._document.addEventListener("mouseup",r.mouseup),r.mousedrag&&this._document.addEventListener("mousemove",r.mousedrag),this.cancel(e)}))),this.register((0,n.addDisposableDomListener)(t,"wheel",(e=>{if(!r.wheel){if(!this.buffer.hasScrollback){const t=this.viewport.getLinesScrolled(e);if(0===t)return;const i=E.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(e.deltaY<0?"A":"B");let r="";for(let e=0;e<Math.abs(t);e++)r+=i;return this.coreService.triggerDataEvent(r,!0),this.cancel(e,!0)}return this.viewport.handleWheel(e)?this.cancel(e):void 0}}),{passive:!1})),this.register((0,n.addDisposableDomListener)(t,"touchstart",(e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(e),this.cancel(e)}),{passive:!0})),this.register((0,n.addDisposableDomListener)(t,"touchmove",(e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(e)?void 0:this.cancel(e)}),{passive:!1}))}refresh(e,t){var i;null===(i=this._renderService)||void 0===i||i.refreshRows(e,t)}updateCursorStyle(e){var t;(null===(t=this._selectionService)||void 0===t?void 0:t.shouldColumnSelect(e))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var r;1===i?(super.scrollLines(e,t,i),this.refresh(0,this.rows-1)):null===(r=this.viewport)||void 0===r||r.scrollLines(e)}paste(e){(0,r.paste)(e,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(e){this._customKeyEventHandler=e}registerLinkProvider(e){return this.linkifier2.registerLinkProvider(e)}registerCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t}deregisterCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(e){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)}registerDecoration(e){return this._decorationService.registerDecoration(e)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(e,t,i){this._selectionService.setSelection(e,t,i)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()}selectAll(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()}selectLines(e,t){var i;null===(i=this._selectionService)||void 0===i||i.selectLines(e,t)}_keyDown(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;const t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;t||"Dead"!==e.key&&"AltGraph"!==e.key||(this._unprocessedDeadKey=!0);const i=(0,T.evaluateKeyboardEvent)(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===i.type||2===i.type){const t=this.rows-1;return this.scrollLines(2===i.type?-t:t),this.cancel(e,!0)}return 1===i.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(i.cancel&&this.cancel(e,!0),!i.key||!!(e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&1===e.key.length&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(i.key!==E.C0.ETX&&i.key!==E.C0.CR||(this.textarea.value=""),this._onKey.fire({key:i.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(i.key,!0),!this.optionsService.rawOptions.screenReaderMode||e.altKey||e.ctrlKey?this.cancel(e,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(e,t){const i=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return"keypress"===t.type?i:i&&(!t.keyCode||t.keyCode>47)}_keyUp(e){this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)}_keyPress(e){let t;if(this._keyPressHandled=!1,this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(e){if(e.data&&"insertText"===e.inputType&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1}resize(e,t){e!==this.cols||t!==this.rows?super.resize(e,t):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(e,t){var i,r;null===(i=this._charSizeService)||void 0===i||i.measure(),null===(r=this.viewport)||void 0===r||r.syncScrollArea(!0)}clear(){var e;if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(C.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),null===(e=this.viewport)||void 0===e||e.reset(),this.refresh(0,this.rows-1)}}reset(){var e,t;this.options.rows=this.rows,this.options.cols=this.cols;const i=this._customKeyEventHandler;this._setup(),super.reset(),null===(e=this._selectionService)||void 0===e||e.reset(),this._decorationService.reset(),null===(t=this.viewport)||void 0===t||t.reset(),this._customKeyEventHandler=i,this.refresh(0,this.rows-1)}clearTextureAtlas(){var e;null===(e=this._renderService)||void 0===e||e.clearTextureAtlas()}_reportFocus(){var e;(null===(e=this.element)||void 0===e?void 0:e.classList.contains("focus"))?this.coreService.triggerDataEvent(E.C0.ESC+"[I"):this.coreService.triggerDataEvent(E.C0.ESC+"[O")}_reportWindowsOptions(e){if(this._renderService)switch(e){case D.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const e=this._renderService.dimensions.css.canvas.width.toFixed(0),t=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent("".concat(E.C0.ESC,"[4;").concat(t,";").concat(e,"t"));break;case D.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const i=this._renderService.dimensions.css.cell.width.toFixed(0),r=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent("".concat(E.C0.ESC,"[6;").concat(r,";").concat(i,"t"))}}cancel(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1}}t.Terminal=I},9924:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBasedDebouncer=void 0,t.TimeBasedDebouncer=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(e,t,i){this._rowCount=i,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t;const r=Date.now();if(r-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=r,this._innerRefresh();else if(!this._additionalRefreshRequested){const e=r-this._lastRefreshMs,t=this._debounceThresholdMS-e;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),t)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}}},1680:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;const s=i(3656),o=i(4725),a=i(8460),l=i(844),c=i(2585);let h=t.Viewport=class extends l.Disposable{constructor(e,t,i,r,n,o,l,c){super(),this._viewportElement=e,this._scrollArea=t,this._bufferService=i,this._optionsService=r,this._charSizeService=n,this._renderService=o,this._coreBrowserService=l,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new a.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,s.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((e=>this._activeBuffer=e.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((e=>this._renderDimensions=e))),this._handleThemeChange(c.colors),this.register(c.onChangeColors((e=>this._handleThemeChange(e)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(e){this._viewportElement.style.backgroundColor=e.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(e){if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const e=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==e&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=e),this._refreshAnimationFrame=null}syncScrollArea(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(e)}_handleScroll(e){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:t,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const e=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(e*(this._smoothScrollState.target-this._smoothScrollState.origin)),e<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(e,t){const i=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&i<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)}handleWheel(e){const t=this._getPixelsScrolled(e);return 0!==t&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+t:this._smoothScrollState.target+=t,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))}scrollLines(e){if(0!==e)if(this._optionsService.rawOptions.smoothScrollDuration){const t=e*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+t,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:e,suppressScrollEvent:!1})}_getPixelsScrolled(e){if(0===e.deltaY||e.shiftKey)return 0;let t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t}getBufferElements(e,t){var i;let r,n="";const s=[],o=null!=t?t:this._bufferService.buffer.lines.length,a=this._bufferService.buffer.lines;for(let l=e;l<o;l++){const e=a.get(l);if(!e)continue;const t=null===(i=a.get(l+1))||void 0===i?void 0:i.isWrapped;if(n+=e.translateToString(!t),!t||l===a.length-1){const e=document.createElement("div");e.textContent=n,s.push(e),n.length>0&&(r=e),n=""}}return{bufferElements:s,cursorElement:r}}getLinesScrolled(e){if(0===e.deltaY||e.shiftKey)return 0;let t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t}_applyScrollModifier(e,t){const i=this._optionsService.rawOptions.fastScrollModifier;return"alt"===i&&t.altKey||"ctrl"===i&&t.ctrlKey||"shift"===i&&t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(e){this._lastTouchY=e.touches[0].pageY}handleTouchMove(e){const t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))}};t.Viewport=h=r([n(2,c.IBufferService),n(3,c.IOptionsService),n(4,o.ICharSizeService),n(5,o.IRenderService),n(6,o.ICoreBrowserService),n(7,o.IThemeService)],h)},3107:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecorationRenderer=void 0;const s=i(3656),o=i(4725),a=i(844),l=i(2585);let c=t.BufferDecorationRenderer=class extends a.Disposable{constructor(e,t,i,r){super(),this._screenElement=e,this._bufferService=t,this._decorationService=i,this._renderService=r,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register((0,s.addDisposableDomListener)(window,"resize",(()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((e=>this._removeDecoration(e)))),this.register((0,a.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const e of this._decorationService.decorations)this._renderDecoration(e);this._dimensionsChanged=!1}_renderDecoration(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)}_createElement(e){var t,i;const r=document.createElement("div");r.classList.add("xterm-decoration"),r.classList.toggle("xterm-decoration-top-layer","top"===(null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.layer)),r.style.width="".concat(Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width),"px"),r.style.height=(e.options.height||1)*this._renderService.dimensions.css.cell.height+"px",r.style.top=(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",r.style.lineHeight="".concat(this._renderService.dimensions.css.cell.height,"px");const n=null!==(i=e.options.x)&&void 0!==i?i:0;return n&&n>this._bufferService.cols&&(r.style.display="none"),this._refreshXPosition(e,r),r}_refreshStyle(e){const t=e.marker.line-this._bufferService.buffers.active.ydisp;if(t<0||t>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{let i=this._decorationElements.get(e);i||(i=this._createElement(e),e.element=i,this._decorationElements.set(e,i),this._container.appendChild(i),e.onDispose((()=>{this._decorationElements.delete(e),i.remove()}))),i.style.top=t*this._renderService.dimensions.css.cell.height+"px",i.style.display=this._altBufferIsActive?"none":"block",e.onRenderEmitter.fire(i)}}_refreshXPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.element;var i;if(!t)return;const r=null!==(i=e.options.x)&&void 0!==i?i:0;"right"===(e.options.anchor||"left")?t.style.right=r?r*this._renderService.dimensions.css.cell.width+"px":"":t.style.left=r?r*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(e){var t;null===(t=this._decorationElements.get(e))||void 0===t||t.remove(),this._decorationElements.delete(e),e.dispose()}};t.BufferDecorationRenderer=c=r([n(1,l.IBufferService),n(2,l.IDecorationService),n(3,o.IRenderService)],c)},5871:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorZoneStore=void 0,t.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(e){if(e.options.overviewRulerOptions){for(const t of this._zones)if(t.color===e.options.overviewRulerOptions.color&&t.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(t,e.marker.line))return;if(this._lineAdjacentToZone(t,e.marker.line,e.options.overviewRulerOptions.position))return void this._addLineToZone(t,e.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(e){this._linePadding=e}_lineIntersectsZone(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine}_lineAdjacentToZone(e,t,i){return t>=e.startBufferLine-this._linePadding[i||"full"]&&t<=e.endBufferLine+this._linePadding[i||"full"]}_addLineToZone(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)}}},5744:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRulerRenderer=void 0;const s=i(5871),o=i(3656),a=i(4725),l=i(844),c=i(2585),h={full:0,left:0,center:0,right:0},u={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let f=t.OverviewRulerRenderer=class extends l.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(e,t,i,r,n,o,a){var c;super(),this._viewportElement=e,this._screenElement=t,this._bufferService=i,this._decorationService=r,this._renderService=n,this._optionsService=o,this._coreBrowseService=a,this._colorZoneStore=new s.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(c=this._viewportElement.parentElement)||void 0===c||c.insertBefore(this._canvas,this._viewportElement);const h=this._canvas.getContext("2d");if(!h)throw new Error("Ctx cannot be null");this._ctx=h,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,l.toDisposable)((()=>{var e;null===(e=this._canvas)||void 0===e||e.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register((0,o.addDisposableDomListener)(this._coreBrowseService.window,"resize",(()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const e=Math.floor(this._canvas.width/3),t=Math.ceil(this._canvas.width/3);u.full=this._canvas.width,u.left=e,u.center=t,u.right=e,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=u.left,d.right=u.left+u.center}_refreshDrawHeightConstants(){h.full=Math.round(2*this._coreBrowseService.dpr);const e=this._canvas.height/this._bufferService.buffer.lines.length,t=Math.round(Math.max(Math.min(e,12),6)*this._coreBrowseService.dpr);h.left=t,h.center=t,h.right=t}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width="".concat(this._width,"px"),this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height="".concat(this._screenElement.clientHeight,"px"),this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const t of this._decorationService.decorations)this._colorZoneStore.addDecoration(t);this._ctx.lineWidth=1;const e=this._colorZoneStore.zones;for(const t of e)"full"!==t.position&&this._renderColorZone(t);for(const t of e)"full"===t.position&&this._renderColorZone(t);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(d[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-h[e.position||"full"]/2),u[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+h[e.position||"full"]))}_queueRefresh(e,t){this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};t.OverviewRulerRenderer=f=r([n(2,c.IBufferService),n(3,c.IDecorationService),n(4,a.IRenderService),n(5,c.IOptionsService),n(6,a.ICoreBrowserService)],f)},2950:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;const s=i(4725),o=i(2585),a=i(2584);let l=t.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(e,t,i,r,n,s){this._textarea=e,this._compositionView=t,this._bufferService=i,this._optionsService=r,this._coreService=n,this._renderService=s,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(e){this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(e){if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){const e={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let t;this._isSendingComposition=!1,e.start+=this._dataAlreadySent.length,t=this._isComposing?this._textarea.value.substring(e.start,e.end):this._textarea.value.substring(e.start),t.length>0&&this._coreService.triggerDataEvent(t,!0)}}),0)}else{this._isSendingComposition=!1;const e=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(e,!0)}}_handleAnyTextareaChanges(){const e=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const t=this._textarea.value,i=t.replace(e,"");this._dataAlreadySent=i,t.length>e.length?this._coreService.triggerDataEvent(i,!0):t.length<e.length?this._coreService.triggerDataEvent("".concat(a.C0.DEL),!0):t.length===e.length&&t!==e&&this._coreService.triggerDataEvent(t,!0)}}),0)}updateCompositionElements(e){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const e=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),t=this._renderService.dimensions.css.cell.height,i=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,r=e*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=i+"px",this._compositionView.style.height=t+"px",this._compositionView.style.lineHeight=t+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const n=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=i+"px",this._textarea.style.width=Math.max(n.width,1)+"px",this._textarea.style.height=Math.max(n.height,1)+"px",this._textarea.style.lineHeight=n.height+"px"}e||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};t.CompositionHelper=l=r([n(2,o.IBufferService),n(3,o.IOptionsService),n(4,o.ICoreService),n(5,s.IRenderService)],l)},9806:(e,t)=>{function i(e,t,i){const r=i.getBoundingClientRect(),n=e.getComputedStyle(i),s=parseInt(n.getPropertyValue("padding-left")),o=parseInt(n.getPropertyValue("padding-top"));return[t.clientX-r.left-s,t.clientY-r.top-o]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=i,t.getCoords=function(e,t,r,n,s,o,a,l,c){if(!o)return;const h=i(e,t,r);return h?(h[0]=Math.ceil((h[0]+(c?a/2:0))/a),h[1]=Math.ceil(h[1]/l),h[0]=Math.min(Math.max(h[0],1),n+(c?1:0)),h[1]=Math.min(Math.max(h[1],1),s),h):void 0}},9504:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;const r=i(2584);function n(e,t,i,r){const n=e-s(e,i),a=t-s(t,i),h=Math.abs(n-a)-function(e,t,i){let r=0;const n=e-s(e,i),a=t-s(t,i);for(let s=0;s<Math.abs(n-a);s++){const a="A"===o(e,t)?-1:1,l=i.buffer.lines.get(n+a*s);(null==l?void 0:l.isWrapped)&&r++}return r}(e,t,i);return c(h,l(o(e,t),r))}function s(e,t){let i=0,r=t.buffer.lines.get(e),n=null==r?void 0:r.isWrapped;for(;n&&e>=0&&e<t.rows;)i++,r=t.buffer.lines.get(--e),n=null==r?void 0:r.isWrapped;return i}function o(e,t){return e>t?"A":"B"}function a(e,t,i,r,n,s){let o=e,a=t,l="";for(;o!==i||a!==r;)o+=n?1:-1,n&&o>s.cols-1?(l+=s.buffer.translateBufferLineToString(a,!1,e,o),o=0,e=0,a++):!n&&o<0&&(l+=s.buffer.translateBufferLineToString(a,!1,0,e+1),o=s.cols-1,e=o,a--);return l+s.buffer.translateBufferLineToString(a,!1,e,o)}function l(e,t){const i=t?"O":"[";return r.C0.ESC+i+e}function c(e,t){e=Math.floor(e);let i="";for(let r=0;r<e;r++)i+=t;return i}t.moveToCellSequence=function(e,t,i,r){const o=i.buffer.x,h=i.buffer.y;if(!i.buffer.hasScrollback)return function(e,t,i,r,o,h){return 0===n(t,r,o,h).length?"":c(a(e,t,e,t-s(t,o),!1,o).length,l("D",h))}(o,h,0,t,i,r)+n(h,t,i,r)+function(e,t,i,r,o,h){let u;u=n(t,r,o,h).length>0?r-s(r,o):t;const d=r,f=function(e,t,i,r,o,a){let l;return l=n(i,r,o,a).length>0?r-s(r,o):t,e<i&&l<=r||e>=i&&l<r?"C":"D"}(e,t,i,r,o,h);return c(a(e,u,i,d,"C"===f,o).length,l(f,h))}(o,h,e,t,i,r);let u;if(h===t)return u=o>e?"D":"C",c(Math.abs(o-e),l(u,r));u=h>t?"D":"C";const d=Math.abs(h-t);return c(function(e,t){return t.cols-e}(h>t?e:o,i)+(d-1)*i.cols+1+((h>t?o:e)-1),l(u,r))}},1296:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;const s=i(3787),o=i(2550),a=i(2223),l=i(6171),c=i(4725),h=i(8055),u=i(8460),d=i(844),f=i(2585),p="xterm-dom-renderer-owner-",m="xterm-rows",g="xterm-fg-",v="xterm-bg-",_="xterm-focus",b="xterm-selection";let y=1,O=t.DomRenderer=class extends d.Disposable{constructor(e,t,i,r,n,a,c,h,f,g){super(),this._element=e,this._screenElement=t,this._viewportElement=i,this._linkifier2=r,this._charSizeService=a,this._optionsService=c,this._bufferService=h,this._coreBrowserService=f,this._themeService=g,this._terminalClass=y++,this._rowElements=[],this.onRequestRedraw=this.register(new u.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(m),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(b),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,l.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((e=>this._injectCss(e)))),this._injectCss(this._themeService.colors),this._rowFactory=n.createInstance(s.DomRendererRowFactory,document),this._element.classList.add(p+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((e=>this._handleLinkHover(e)))),this.register(this._linkifier2.onHideLinkUnderline((e=>this._handleLinkLeave(e)))),this.register((0,d.toDisposable)((()=>{this._element.classList.remove(p+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new o.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const e=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*e,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*e),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/e),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/e),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const i of this._rowElements)i.style.width="".concat(this.dimensions.css.canvas.width,"px"),i.style.height="".concat(this.dimensions.css.cell.height,"px"),i.style.lineHeight="".concat(this.dimensions.css.cell.height,"px"),i.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const t="".concat(this._terminalSelector," .").concat(m," span { display: inline-block; height: 100%; vertical-align: top;}");this._dimensionsStyleElement.textContent=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width="".concat(this.dimensions.css.canvas.width,"px"),this._screenElement.style.height="".concat(this.dimensions.css.canvas.height,"px")}_injectCss(e){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let t="".concat(this._terminalSelector," .").concat(m," { color: ").concat(e.foreground.css,"; font-family: ").concat(this._optionsService.rawOptions.fontFamily,"; font-size: ").concat(this._optionsService.rawOptions.fontSize,"px; font-kerning: none; white-space: pre}");t+="".concat(this._terminalSelector," .").concat(m," .xterm-dim { color: ").concat(h.color.multiplyOpacity(e.foreground,.5).css,";}"),t+="".concat(this._terminalSelector," span:not(.xterm-bold) { font-weight: ").concat(this._optionsService.rawOptions.fontWeight,";}").concat(this._terminalSelector," span.xterm-bold { font-weight: ").concat(this._optionsService.rawOptions.fontWeightBold,";}").concat(this._terminalSelector," span.xterm-italic { font-style: italic;}"),t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",t+="@keyframes blink_block_"+this._terminalClass+" { 0% {"+"  background-color: ".concat(e.cursor.css,";")+"  color: ".concat(e.cursorAccent.css,"; } 50% {  background-color: inherit;")+"  color: ".concat(e.cursor.css,"; }}"),t+="".concat(this._terminalSelector," .").concat(m,".").concat(_," .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_")+this._terminalClass+" 1s step-end infinite;}"+"".concat(this._terminalSelector," .").concat(m,".").concat(_," .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_")+this._terminalClass+" 1s step-end infinite;}"+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-block {")+" background-color: ".concat(e.cursor.css,";")+" color: ".concat(e.cursorAccent.css,";}")+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-outline {")+" outline: 1px solid ".concat(e.cursor.css,"; outline-offset: -1px;}")+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-bar {")+" box-shadow: ".concat(this._optionsService.rawOptions.cursorWidth,"px 0 0 ").concat(e.cursor.css," inset;}")+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-underline {")+" border-bottom: 1px ".concat(e.cursor.css,"; border-bottom-style: solid; height: calc(100% - 1px);}"),t+="".concat(this._terminalSelector," .").concat(b," { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}").concat(this._terminalSelector,".focus .").concat(b," div { position: absolute; background-color: ").concat(e.selectionBackgroundOpaque.css,";}").concat(this._terminalSelector," .").concat(b," div { position: absolute; background-color: ").concat(e.selectionInactiveBackgroundOpaque.css,";}");for(const[i,r]of e.ansi.entries())t+="".concat(this._terminalSelector," .").concat(g).concat(i," { color: ").concat(r.css,"; }").concat(this._terminalSelector," .").concat(g).concat(i,".xterm-dim { color: ").concat(h.color.multiplyOpacity(r,.5).css,"; }").concat(this._terminalSelector," .").concat(v).concat(i," { background-color: ").concat(r.css,"; }");t+="".concat(this._terminalSelector," .").concat(g).concat(a.INVERTED_DEFAULT_COLOR," { color: ").concat(h.color.opaque(e.background).css,"; }").concat(this._terminalSelector," .").concat(g).concat(a.INVERTED_DEFAULT_COLOR,".xterm-dim { color: ").concat(h.color.multiplyOpacity(h.color.opaque(e.background),.5).css,"; }").concat(this._terminalSelector," .").concat(v).concat(a.INVERTED_DEFAULT_COLOR," { background-color: ").concat(e.foreground.css,"; }"),this._themeStyleElement.textContent=t}_setDefaultSpacing(){const e=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing="".concat(e,"px"),this._rowFactory.defaultSpacing=e}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(e,t){for(let i=this._rowElements.length;i<=t;i++){const e=document.createElement("div");this._rowContainer.appendChild(e),this._rowElements.push(e)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(e,t){this._refreshRowElements(e,t),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(_)}handleFocus(){this._rowContainer.classList.add(_),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(e,t,i){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(e,t,i),this.renderRows(0,this._bufferService.rows-1),!e||!t)return;const r=e[1]-this._bufferService.buffer.ydisp,n=t[1]-this._bufferService.buffer.ydisp,s=Math.max(r,0),o=Math.min(n,this._bufferService.rows-1);if(s>=this._bufferService.rows||o<0)return;const a=document.createDocumentFragment();if(i){const i=e[0]>t[0];a.appendChild(this._createSelectionElement(s,i?t[0]:e[0],i?e[0]:t[0],o-s+1))}else{const i=r===s?e[0]:0,l=s===n?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(s,i,l));const c=o-s-1;if(a.appendChild(this._createSelectionElement(s+1,0,this._bufferService.cols,c)),s!==o){const e=n===o?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(o,0,e))}}this._selectionContainer.appendChild(a)}_createSelectionElement(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const n=document.createElement("div");return n.style.height=r*this.dimensions.css.cell.height+"px",n.style.top=e*this.dimensions.css.cell.height+"px",n.style.left=t*this.dimensions.css.cell.width+"px",n.style.width=this.dimensions.css.cell.width*(i-t)+"px",n}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const e of this._rowElements)e.replaceChildren()}renderRows(e,t){const i=this._bufferService.buffer,r=i.ybase+i.y,n=Math.min(i.x,this._bufferService.cols-1),s=this._optionsService.rawOptions.cursorBlink,o=this._optionsService.rawOptions.cursorStyle,a=this._optionsService.rawOptions.cursorInactiveStyle;for(let l=e;l<=t;l++){const e=l+i.ydisp,t=this._rowElements[l],c=i.lines.get(e);if(!t||!c)break;t.replaceChildren(...this._rowFactory.createRow(c,e,e===r,o,a,n,s,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return".".concat(p).concat(this._terminalClass)}_handleLinkHover(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)}_handleLinkLeave(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)}_setCellUnderline(e,t,i,r,n,s){i<0&&(e=0),r<0&&(t=0);const o=this._bufferService.rows-1;i=Math.max(Math.min(i,o),0),r=Math.max(Math.min(r,o),0),n=Math.min(n,this._bufferService.cols);const a=this._bufferService.buffer,l=a.ybase+a.y,c=Math.min(a.x,n-1),h=this._optionsService.rawOptions.cursorBlink,u=this._optionsService.rawOptions.cursorStyle,d=this._optionsService.rawOptions.cursorInactiveStyle;for(let f=i;f<=r;++f){const o=f+a.ydisp,p=this._rowElements[f],m=a.lines.get(o);if(!p||!m)break;p.replaceChildren(...this._rowFactory.createRow(m,o,o===l,u,d,c,h,this.dimensions.css.cell.width,this._widthCache,s?f===i?e:0:-1,s?(f===r?t:n)-1:-1))}}};t.DomRenderer=O=r([n(4,f.IInstantiationService),n(5,c.ICharSizeService),n(6,f.IOptionsService),n(7,f.IBufferService),n(8,c.ICoreBrowserService),n(9,c.IThemeService)],O)},3787:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=void 0;const s=i(2223),o=i(643),a=i(511),l=i(2585),c=i(8055),h=i(4725),u=i(4269),d=i(6171),f=i(3734);let p=t.DomRendererRowFactory=class{constructor(e,t,i,r,n,s,o){this._document=e,this._characterJoinerService=t,this._optionsService=i,this._coreBrowserService=r,this._coreService=n,this._decorationService=s,this._themeService=o,this._workCell=new a.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(e,t,i){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=i}createRow(e,t,i,r,n,a,l,h,d,p,g){const v=[],_=this._characterJoinerService.getJoinedCharacters(t),b=this._themeService.colors;let y,O=e.getNoBgTrimmedLength();i&&O<a+1&&(O=a+1);let w=0,S="",x=0,k=0,C=0,E=!1,T=0,A=!1,P=0;const R=[],D=-1!==p&&-1!==g;for(let M=0;M<O;M++){e.loadCell(M,this._workCell);let O=this._workCell.getWidth();if(0===O)continue;let L=!1,I=M,B=this._workCell;if(_.length>0&&M===_[0][0]){L=!0;const t=_.shift();B=new u.JoinedCellData(this._workCell,e.translateToString(!0,t[0],t[1]),t[1]-t[0]),I=t[1]-1,O=B.getWidth()}const N=this._isCellInSelection(M,t),j=i&&M===a,W=D&&M>=p&&M<=g;let z=!1;this._decorationService.forEachDecorationAtCell(M,t,void 0,(e=>{z=!0}));let Q=B.getChars()||o.WHITESPACE_CELL_CHAR;if(" "===Q&&(B.isUnderline()||B.isOverline())&&(Q="\xa0"),P=O*h-d.get(Q,B.isBold(),B.isItalic()),y){if(w&&(N&&A||!N&&!A&&B.bg===x)&&(N&&A&&b.selectionForeground||B.fg===k)&&B.extended.ext===C&&W===E&&P===T&&!j&&!L&&!z){S+=Q,w++;continue}w&&(y.textContent=S),y=this._document.createElement("span"),w=0,S=""}else y=this._document.createElement("span");if(x=B.bg,k=B.fg,C=B.extended.ext,E=W,T=P,A=N,L&&a>=M&&a<=I&&(a=M),!this._coreService.isCursorHidden&&j)if(R.push("xterm-cursor"),this._coreBrowserService.isFocused)l&&R.push("xterm-cursor-blink"),R.push("bar"===r?"xterm-cursor-bar":"underline"===r?"xterm-cursor-underline":"xterm-cursor-block");else if(n)switch(n){case"outline":R.push("xterm-cursor-outline");break;case"block":R.push("xterm-cursor-block");break;case"bar":R.push("xterm-cursor-bar");break;case"underline":R.push("xterm-cursor-underline")}if(B.isBold()&&R.push("xterm-bold"),B.isItalic()&&R.push("xterm-italic"),B.isDim()&&R.push("xterm-dim"),S=B.isInvisible()?o.WHITESPACE_CELL_CHAR:B.getChars()||o.WHITESPACE_CELL_CHAR,B.isUnderline()&&(R.push("xterm-underline-".concat(B.extended.underlineStyle))," "===S&&(S="\xa0"),!B.isUnderlineColorDefault()))if(B.isUnderlineColorRGB())y.style.textDecorationColor="rgb(".concat(f.AttributeData.toColorRGB(B.getUnderlineColor()).join(","),")");else{let e=B.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&B.isBold()&&e<8&&(e+=8),y.style.textDecorationColor=b.ansi[e].css}B.isOverline()&&(R.push("xterm-overline")," "===S&&(S="\xa0")),B.isStrikethrough()&&R.push("xterm-strikethrough"),W&&(y.style.textDecoration="underline");let F=B.getFgColor(),U=B.getFgColorMode(),q=B.getBgColor(),H=B.getBgColorMode();const V=!!B.isInverse();if(V){const e=F;F=q,q=e;const t=U;U=H,H=t}let Y,X,Z,G=!1;switch(this._decorationService.forEachDecorationAtCell(M,t,void 0,(e=>{"top"!==e.options.layer&&G||(e.backgroundColorRGB&&(H=50331648,q=e.backgroundColorRGB.rgba>>8&16777215,Y=e.backgroundColorRGB),e.foregroundColorRGB&&(U=50331648,F=e.foregroundColorRGB.rgba>>8&16777215,X=e.foregroundColorRGB),G="top"===e.options.layer)})),!G&&N&&(Y=this._coreBrowserService.isFocused?b.selectionBackgroundOpaque:b.selectionInactiveBackgroundOpaque,q=Y.rgba>>8&16777215,H=50331648,G=!0,b.selectionForeground&&(U=50331648,F=b.selectionForeground.rgba>>8&16777215,X=b.selectionForeground)),G&&R.push("xterm-decoration-top"),H){case 16777216:case 33554432:Z=b.ansi[q],R.push("xterm-bg-".concat(q));break;case 50331648:Z=c.rgba.toColor(q>>16,q>>8&255,255&q),this._addStyle(y,"background-color:#".concat(m((q>>>0).toString(16),"0",6)));break;default:V?(Z=b.foreground,R.push("xterm-bg-".concat(s.INVERTED_DEFAULT_COLOR))):Z=b.background}switch(Y||B.isDim()&&(Y=c.color.multiplyOpacity(Z,.5)),U){case 16777216:case 33554432:B.isBold()&&F<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(F+=8),this._applyMinimumContrast(y,Z,b.ansi[F],B,Y,void 0)||R.push("xterm-fg-".concat(F));break;case 50331648:const e=c.rgba.toColor(F>>16&255,F>>8&255,255&F);this._applyMinimumContrast(y,Z,e,B,Y,X)||this._addStyle(y,"color:#".concat(m(F.toString(16),"0",6)));break;default:this._applyMinimumContrast(y,Z,b.foreground,B,Y,void 0)||V&&R.push("xterm-fg-".concat(s.INVERTED_DEFAULT_COLOR))}R.length&&(y.className=R.join(" "),R.length=0),j||L||z?y.textContent=S:w++,P!==this.defaultSpacing&&(y.style.letterSpacing="".concat(P,"px")),v.push(y),M=I}return y&&w&&(y.textContent=S),v}_applyMinimumContrast(e,t,i,r,n,s){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,d.excludeFromContrastRatioDemands)(r.getCode()))return!1;const o=this._getContrastCache(r);let a;if(n||s||(a=o.getColor(t.rgba,i.rgba)),void 0===a){const e=this._optionsService.rawOptions.minimumContrastRatio/(r.isDim()?2:1);a=c.color.ensureContrastRatio(n||t,s||i,e),o.setColor((n||t).rgba,(s||i).rgba,null!=a?a:null)}return!!a&&(this._addStyle(e,"color:".concat(a.css)),!0)}_getContrastCache(e){return e.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(e,t){e.setAttribute("style","".concat(e.getAttribute("style")||"").concat(t,";"))}_isCellInSelection(e,t){const i=this._selectionStart,r=this._selectionEnd;return!(!i||!r)&&(this._columnSelectMode?i[0]<=r[0]?e>=i[0]&&t>=i[1]&&e<r[0]&&t<=r[1]:e<i[0]&&t>=i[1]&&e>=r[0]&&t<=r[1]:t>i[1]&&t<r[1]||i[1]===r[1]&&t===i[1]&&e>=i[0]&&e<r[0]||i[1]<r[1]&&t===r[1]&&e<r[0]||i[1]<r[1]&&t===i[1]&&e>=i[0])}};function m(e,t,i){for(;e.length<i;)e=t+e;return e}t.DomRendererRowFactory=p=r([n(1,h.ICharacterJoinerService),n(2,l.IOptionsService),n(3,h.ICoreBrowserService),n(4,l.ICoreService),n(5,l.IDecorationService),n(6,h.IThemeService)],p)},2550:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidthCache=void 0,t.WidthCache=class{constructor(e){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=e.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const t=e.createElement("span"),i=e.createElement("span");i.style.fontWeight="bold";const r=e.createElement("span");r.style.fontStyle="italic";const n=e.createElement("span");n.style.fontWeight="bold",n.style.fontStyle="italic",this._measureElements=[t,i,r,n],this._container.appendChild(t),this._container.appendChild(i),this._container.appendChild(r),this._container.appendChild(n),e.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(e,t,i,r){e===this._font&&t===this._fontSize&&i===this._weight&&r===this._weightBold||(this._font=e,this._fontSize=t,this._weight=i,this._weightBold=r,this._container.style.fontFamily=this._font,this._container.style.fontSize="".concat(this._fontSize,"px"),this._measureElements[0].style.fontWeight="".concat(i),this._measureElements[1].style.fontWeight="".concat(r),this._measureElements[2].style.fontWeight="".concat(i),this._measureElements[3].style.fontWeight="".concat(r),this.clear())}get(e,t,i){let r=0;if(!t&&!i&&1===e.length&&(r=e.charCodeAt(0))<256)return-9999!==this._flat[r]?this._flat[r]:this._flat[r]=this._measure(e,0);let n=e;t&&(n+="B"),i&&(n+="I");let s=this._holey.get(n);if(void 0===s){let r=0;t&&(r|=1),i&&(r|=2),s=this._measure(e,r),this._holey.set(n,s)}return s}_measure(e,t){const i=this._measureElements[t];return i.textContent=e.repeat(32),i.offsetWidth/32}}},2223:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;const r=i(6114);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=r.isFirefox||r.isLegacyEdge?"bottom":"ideographic"},6171:(e,t)=>{function i(e){return 57508<=e&&e<=57558}Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderDimensions=t.excludeFromContrastRatioDemands=t.isRestrictedPowerlineGlyph=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e},t.isPowerlineGlyph=i,t.isRestrictedPowerlineGlyph=function(e){return 57520<=e&&e<=57527},t.excludeFromContrastRatioDemands=function(e){return i(e)||function(e){return 9472<=e&&e<=9631}(e)},t.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0,t.SelectionModel=class{constructor(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?e%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])}handleTrim(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;const s=i(2585),o=i(8460),a=i(844);let l=t.CharSizeService=class extends a.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(e,t,i){super(),this._optionsService=i,this.width=0,this.height=0,this._onCharSizeChange=this.register(new o.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new c(e,t,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())}};t.CharSizeService=l=r([n(2,s.IOptionsService)],l);class c{constructor(e,t,i){this._document=e,this._parentElement=t,this._optionsService=i,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize="".concat(this._optionsService.rawOptions.fontSize,"px");const e={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return 0!==e.width&&0!==e.height&&(this._result.width=e.width/32,this._result.height=Math.ceil(e.height)),this._result}}},4269:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;const s=i(3734),o=i(643),a=i(511),l=i(2585);class c extends s.AttributeData{constructor(e,t,i){super(),this.content=0,this.combinedData="",this.fg=e.fg,this.bg=e.bg,this.combinedData=t,this._width=i}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(e){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.JoinedCellData=c;let h=t.CharacterJoinerService=class e{constructor(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new a.CellData}register(e){const t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id}deregister(e){for(let t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1}getJoinedCharacters(e){if(0===this._characterJoiners.length)return[];const t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];const i=[],r=t.translateToString(!0);let n=0,s=0,a=0,l=t.getFg(0),c=t.getBg(0);for(let h=0;h<t.getTrimmedLength();h++)if(t.loadCell(h,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==l||this._workCell.bg!==c){if(h-n>1){const e=this._getJoinedRanges(r,a,s,t,n);for(let t=0;t<e.length;t++)i.push(e[t])}n=h,a=s,l=this._workCell.fg,c=this._workCell.bg}s+=this._workCell.getChars().length||o.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-n>1){const e=this._getJoinedRanges(r,a,s,t,n);for(let t=0;t<e.length;t++)i.push(e[t])}return i}_getJoinedRanges(t,i,r,n,s){const o=t.substring(i,r);let a=[];try{a=this._characterJoiners[0].handler(o)}catch(e){console.error(e)}for(let l=1;l<this._characterJoiners.length;l++)try{const t=this._characterJoiners[l].handler(o);for(let i=0;i<t.length;i++)e._mergeRanges(a,t[i])}catch(e){console.error(e)}return this._stringRangesToCellRanges(a,n,s),a}_stringRangesToCellRanges(e,t,i){let r=0,n=!1,s=0,a=e[r];if(a){for(let l=i;l<this._bufferService.cols;l++){const i=t.getWidth(l),c=t.getString(l).length||o.WHITESPACE_CELL_CHAR.length;if(0!==i){if(!n&&a[0]<=s&&(a[0]=l,n=!0),a[1]<=s){if(a[1]=l,a=e[++r],!a)break;a[0]<=s?(a[0]=l,n=!0):n=!1}s+=c}}a&&(a[1]=this._bufferService.cols)}}static _mergeRanges(e,t){let i=!1;for(let r=0;r<e.length;r++){const n=e[r];if(i){if(t[1]<=n[0])return e[r-1][1]=t[1],e;if(t[1]<=n[1])return e[r-1][1]=Math.max(t[1],n[1]),e.splice(r,1),e;e.splice(r,1),r--}else{if(t[1]<=n[0])return e.splice(r,0,t),e;if(t[1]<=n[1])return n[0]=Math.min(t[0],n[0]),e;t[0]<n[1]&&(n[0]=Math.min(t[0],n[0]),i=!0)}}return i?e[e.length-1][1]=t[1]:e.push(t),e}};t.CharacterJoinerService=h=r([n(0,l.IBufferService)],h)},5114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0,t.CoreBrowserService=class{constructor(e,t){this._textarea=e,this.window=t,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}},8934:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;const s=i(4725),o=i(9806);let a=t.MouseService=class{constructor(e,t){this._renderService=e,this._charSizeService=t}getCoords(e,t,i,r,n){return(0,o.getCoords)(window,e,t,i,r,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,n)}getMouseReportCoords(e,t){const i=(0,o.getCoordsRelativeToElement)(window,e,t);if(this._charSizeService.hasValidSize)return i[0]=Math.min(Math.max(i[0],0),this._renderService.dimensions.css.canvas.width-1),i[1]=Math.min(Math.max(i[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(i[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(i[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(i[0]),y:Math.floor(i[1])}}};t.MouseService=a=r([n(0,s.IRenderService),n(1,s.ICharSizeService)],a)},3230:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;const s=i(3656),o=i(6193),a=i(5596),l=i(4725),c=i(8460),h=i(844),u=i(7226),d=i(2585);let f=t.RenderService=class extends h.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(e,t,i,r,n,l,d,f){if(super(),this._rowCount=e,this._charSizeService=r,this._renderer=this.register(new h.MutableDisposable),this._pausedResizeTask=new u.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new c.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new c.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new c.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new c.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new o.RenderDebouncer(d.window,((e,t)=>this._renderRows(e,t))),this.register(this._renderDebouncer),this._screenDprMonitor=new a.ScreenDprMonitor(d.window),this._screenDprMonitor.setListener((()=>this.handleDevicePixelRatioChange())),this.register(this._screenDprMonitor),this.register(l.onResize((()=>this._fullRefresh()))),this.register(l.buffers.onBufferActivate((()=>{var e;return null===(e=this._renderer.value)||void 0===e?void 0:e.clear()}))),this.register(i.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(n.onDecorationRegistered((()=>this._fullRefresh()))),this.register(n.onDecorationRemoved((()=>this._fullRefresh()))),this.register(i.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],(()=>{this.clear(),this.handleResize(l.cols,l.rows),this._fullRefresh()}))),this.register(i.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(l.buffer.y,l.buffer.y,!0)))),this.register((0,s.addDisposableDomListener)(d.window,"resize",(()=>this.handleDevicePixelRatioChange()))),this.register(f.onChangeColors((()=>this._fullRefresh()))),"IntersectionObserver"in d.window){const e=new d.window.IntersectionObserver((e=>this._handleIntersectionChange(e[e.length-1])),{threshold:0});e.observe(t),this.register({dispose:()=>e.disconnect()})}}_handleIntersectionChange(e){this._isPaused=void 0===e.isIntersecting?0===e.intersectionRatio:!e.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isPaused?this._needsFullRefresh=!0:(i||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))}_renderRows(e,t){this._renderer.value&&(e=Math.min(e,this._rowCount-1),t=Math.min(t,this._rowCount-1),this._renderer.value.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0)}resize(e,t){this._rowCount=t,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(e){this._renderer.value=e,this._renderer.value.onRequestRedraw((e=>this.refreshRows(e.start,e.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(e){return this._renderDebouncer.addRefreshCallback(e)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var e,t;this._renderer.value&&(null===(t=(e=this._renderer.value).clearTextureAtlas)||void 0===t||t.call(e),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(e,t){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value.handleResize(e,t))):this._renderer.value.handleResize(e,t),this._fullRefresh())}handleCharSizeChanged(){var e;null===(e=this._renderer.value)||void 0===e||e.handleCharSizeChanged()}handleBlur(){var e;null===(e=this._renderer.value)||void 0===e||e.handleBlur()}handleFocus(){var e;null===(e=this._renderer.value)||void 0===e||e.handleFocus()}handleSelectionChanged(e,t,i){var r;this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=i,null===(r=this._renderer.value)||void 0===r||r.handleSelectionChanged(e,t,i)}handleCursorMove(){var e;null===(e=this._renderer.value)||void 0===e||e.handleCursorMove()}clear(){var e;null===(e=this._renderer.value)||void 0===e||e.clear()}};t.RenderService=f=r([n(2,d.IOptionsService),n(3,l.ICharSizeService),n(4,d.IDecorationService),n(5,d.IBufferService),n(6,l.ICoreBrowserService),n(7,l.IThemeService)],f)},9312:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;const s=i(9806),o=i(9504),a=i(456),l=i(4725),c=i(8460),h=i(844),u=i(6114),d=i(4841),f=i(511),p=i(2585),m=String.fromCharCode(160),g=new RegExp(m,"g");let v=t.SelectionService=class extends h.Disposable{constructor(e,t,i,r,n,s,o,l,u){super(),this._element=e,this._screenElement=t,this._linkifier=i,this._bufferService=r,this._coreService=n,this._mouseService=s,this._optionsService=o,this._renderService=l,this._coreBrowserService=u,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new f.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new c.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new c.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new c.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new c.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=e=>this._handleMouseMove(e),this._mouseUpListener=e=>this._handleMouseUp(e),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((e=>this._handleTrim(e))),this.register(this._bufferService.buffers.onBufferActivate((e=>this._handleBufferActivate(e)))),this.enable(),this._model=new a.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,h.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])}get selectionText(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";const i=this._bufferService.buffer,r=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";const n=e[0]<t[0]?e[0]:t[0],s=e[0]<t[0]?t[0]:e[0];for(let o=e[1];o<=t[1];o++){const e=i.translateBufferLineToString(o,!0,n,s);r.push(e)}}else{const n=e[1]===t[1]?t[0]:void 0;r.push(i.translateBufferLineToString(e[1],!0,e[0],n));for(let s=e[1]+1;s<=t[1]-1;s++){const e=i.lines.get(s),t=i.translateBufferLineToString(s,!0);(null==e?void 0:e.isWrapped)?r[r.length-1]+=t:r.push(t)}if(e[1]!==t[1]){const e=i.lines.get(t[1]),n=i.translateBufferLineToString(t[1],!0,0,t[0]);e&&e.isWrapped?r[r.length-1]+=n:r.push(n)}}return r.map((e=>e.replace(g," "))).join(u.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(e){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),u.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(e){const t=this._getMouseBufferCoords(e),i=this._model.finalSelectionStart,r=this._model.finalSelectionEnd;return!!(i&&r&&t)&&this._areCoordsInSelection(t,i,r)}isCellInSelection(e,t){const i=this._model.finalSelectionStart,r=this._model.finalSelectionEnd;return!(!i||!r)&&this._areCoordsInSelection([e,t],i,r)}_areCoordsInSelection(e,t,i){return e[1]>t[1]&&e[1]<i[1]||t[1]===i[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<i[0]||t[1]<i[1]&&e[1]===i[1]&&e[0]<i[0]||t[1]<i[1]&&e[1]===t[1]&&e[0]>=t[0]}_selectWordAtCursor(e,t){var i,r;const n=null===(r=null===(i=this._linkifier.currentLink)||void 0===i?void 0:i.link)||void 0===r?void 0:r.range;if(n)return this._model.selectionStart=[n.start.x-1,n.start.y-1],this._model.selectionStartLength=(0,d.getRangeLength)(n,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const s=this._getMouseBufferCoords(e);return!!s&&(this._selectWordAt(s,t),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()}_handleTrim(e){this._model.handleTrim(e)&&this.refresh()}_getMouseBufferCoords(e){const t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t}_getMouseEventScrollAmount(e){let t=(0,s.getCoordsRelativeToElement)(this._coreBrowserService.window,e,this._screenElement)[1];const i=this._renderService.dimensions.css.canvas.height;return t>=0&&t<=i?0:(t>i&&(t-=i),t=Math.min(Math.max(t,-50),50),t/=50,t/Math.abs(t)+Math.round(14*t))}shouldForceSelection(e){return u.isMac?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey}handleMouseDown(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._handleIncrementalClick(e):1===e.detail?this._handleSingleClick(e):2===e.detail?this._handleDoubleClick(e):3===e.detail&&this._handleTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))}_handleSingleClick(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(e){const t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))}shouldColumnSelect(e){return e.altKey&&!(u.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(e){if(e.stopImmediatePropagation(),!this._model.selectionStart)return;const t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const i=this._bufferService.buffer;if(this._model.selectionEnd[1]<i.lines.length){const e=i.lines.get(this._model.selectionEnd[1]);e&&0===e.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}}_handleMouseUp(e){const t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500&&e.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const t=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(t&&void 0!==t[0]&&void 0!==t[1]){const e=(0,o.moveToCellSequence)(t[0]-1,t[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(e,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,i=!(!e||!t||e[0]===t[0]&&e[1]===t[1]);i?e&&t&&(this._oldSelectionStart&&this._oldSelectionEnd&&e[0]===this._oldSelectionStart[0]&&e[1]===this._oldSelectionStart[1]&&t[0]===this._oldSelectionEnd[0]&&t[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(e,t,i)):this._oldHasSelection&&this._fireOnSelectionChange(e,t,i)}_fireOnSelectionChange(e,t,i){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=i,this._onSelectionChange.fire()}_handleBufferActivate(e){this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim((e=>this._handleTrim(e)))}_convertViewportColToCharacterIndex(e,t){let i=t;for(let r=0;t>=r;r++){const n=e.loadCell(r,this._workCell).getChars().length;0===this._workCell.getWidth()?i--:n>1&&t!==r&&(i+=n-1)}return i}setSelection(e,t,i){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=i,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e[0]>=this._bufferService.cols)return;const n=this._bufferService.buffer,s=n.lines.get(e[1]);if(!s)return;const o=n.translateBufferLineToString(e[1],!1);let a=this._convertViewportColToCharacterIndex(s,e[0]),l=a;const c=e[0]-a;let h=0,u=0,d=0,f=0;if(" "===o.charAt(a)){for(;a>0&&" "===o.charAt(a-1);)a--;for(;l<o.length&&" "===o.charAt(l+1);)l++}else{let t=e[0],i=e[0];0===s.getWidth(t)&&(h++,t--),2===s.getWidth(i)&&(u++,i++);const r=s.getString(i).length;for(r>1&&(f+=r-1,l+=r-1);t>0&&a>0&&!this._isCharWordSeparator(s.loadCell(t-1,this._workCell));){s.loadCell(t-1,this._workCell);const e=this._workCell.getChars().length;0===this._workCell.getWidth()?(h++,t--):e>1&&(d+=e-1,a-=e-1),a--,t--}for(;i<s.length&&l+1<o.length&&!this._isCharWordSeparator(s.loadCell(i+1,this._workCell));){s.loadCell(i+1,this._workCell);const e=this._workCell.getChars().length;2===this._workCell.getWidth()?(u++,i++):e>1&&(f+=e-1,l+=e-1),l++,i++}}l++;let p=a+c-h+d,m=Math.min(this._bufferService.cols,l-a+h+u-d-f);if(t||""!==o.slice(a,l).trim()){if(i&&0===p&&32!==s.getCodePoint(0)){const t=n.lines.get(e[1]-1);if(t&&s.isWrapped&&32!==t.getCodePoint(this._bufferService.cols-1)){const t=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(t){const e=this._bufferService.cols-t.start;p-=e,m+=e}}}if(r&&p+m===this._bufferService.cols&&32!==s.getCodePoint(this._bufferService.cols-1)){const t=n.lines.get(e[1]+1);if((null==t?void 0:t.isWrapped)&&32!==t.getCodePoint(0)){const t=this._getWordAt([0,e[1]+1],!1,!1,!0);t&&(m+=t.length)}}return{start:p,length:m}}}_selectWordAt(e,t){const i=this._getWordAt(e,t);if(i){for(;i.start<0;)i.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[i.start,e[1]],this._model.selectionStartLength=i.length}}_selectToWordAt(e){const t=this._getWordAt(e,!0);if(t){let i=e[1];for(;t.start<0;)t.start+=this._bufferService.cols,i--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,i++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,i]}}_isCharWordSeparator(e){return 0!==e.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0}_selectLineAt(e){const t=this._bufferService.buffer.getWrappedRangeForLine(e),i={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,d.getRangeLength)(i,this._bufferService.cols)}};t.SelectionService=v=r([n(3,p.IBufferService),n(4,p.ICoreService),n(5,l.IMouseService),n(6,p.IOptionsService),n(7,l.IRenderService),n(8,l.ICoreBrowserService)],v)},4725:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IThemeService=t.ICharacterJoinerService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;const r=i(8343);t.ICharSizeService=(0,r.createDecorator)("CharSizeService"),t.ICoreBrowserService=(0,r.createDecorator)("CoreBrowserService"),t.IMouseService=(0,r.createDecorator)("MouseService"),t.IRenderService=(0,r.createDecorator)("RenderService"),t.ISelectionService=(0,r.createDecorator)("SelectionService"),t.ICharacterJoinerService=(0,r.createDecorator)("CharacterJoinerService"),t.IThemeService=(0,r.createDecorator)("ThemeService")},6731:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeService=t.DEFAULT_ANSI_COLORS=void 0;const s=i(7239),o=i(8055),a=i(8460),l=i(844),c=i(2585),h=o.css.toColor("#ffffff"),u=o.css.toColor("#000000"),d=o.css.toColor("#ffffff"),f=o.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const e=[o.css.toColor("#2e3436"),o.css.toColor("#cc0000"),o.css.toColor("#4e9a06"),o.css.toColor("#c4a000"),o.css.toColor("#3465a4"),o.css.toColor("#75507b"),o.css.toColor("#06989a"),o.css.toColor("#d3d7cf"),o.css.toColor("#555753"),o.css.toColor("#ef2929"),o.css.toColor("#8ae234"),o.css.toColor("#fce94f"),o.css.toColor("#729fcf"),o.css.toColor("#ad7fa8"),o.css.toColor("#34e2e2"),o.css.toColor("#eeeeec")],t=[0,95,135,175,215,255];for(let i=0;i<216;i++){const r=t[i/36%6|0],n=t[i/6%6|0],s=t[i%6];e.push({css:o.channels.toCss(r,n,s),rgba:o.channels.toRgba(r,n,s)})}for(let i=0;i<24;i++){const t=8+10*i;e.push({css:o.channels.toCss(t,t,t),rgba:o.channels.toRgba(t,t,t)})}return e})());let m=t.ThemeService=class extends l.Disposable{get colors(){return this._colors}constructor(e){super(),this._optionsService=e,this._contrastCache=new s.ColorContrastCache,this._halfContrastCache=new s.ColorContrastCache,this._onChangeColors=this.register(new a.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:h,background:u,cursor:d,cursorAccent:f,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:o.color.blend(u,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:o.color.blend(u,p),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._colors;if(i.foreground=g(e.foreground,h),i.background=g(e.background,u),i.cursor=g(e.cursor,d),i.cursorAccent=g(e.cursorAccent,f),i.selectionBackgroundTransparent=g(e.selectionBackground,p),i.selectionBackgroundOpaque=o.color.blend(i.background,i.selectionBackgroundTransparent),i.selectionInactiveBackgroundTransparent=g(e.selectionInactiveBackground,i.selectionBackgroundTransparent),i.selectionInactiveBackgroundOpaque=o.color.blend(i.background,i.selectionInactiveBackgroundTransparent),i.selectionForeground=e.selectionForeground?g(e.selectionForeground,o.NULL_COLOR):void 0,i.selectionForeground===o.NULL_COLOR&&(i.selectionForeground=void 0),o.color.isOpaque(i.selectionBackgroundTransparent)){const e=.3;i.selectionBackgroundTransparent=o.color.opacity(i.selectionBackgroundTransparent,e)}if(o.color.isOpaque(i.selectionInactiveBackgroundTransparent)){const e=.3;i.selectionInactiveBackgroundTransparent=o.color.opacity(i.selectionInactiveBackgroundTransparent,e)}if(i.ansi=t.DEFAULT_ANSI_COLORS.slice(),i.ansi[0]=g(e.black,t.DEFAULT_ANSI_COLORS[0]),i.ansi[1]=g(e.red,t.DEFAULT_ANSI_COLORS[1]),i.ansi[2]=g(e.green,t.DEFAULT_ANSI_COLORS[2]),i.ansi[3]=g(e.yellow,t.DEFAULT_ANSI_COLORS[3]),i.ansi[4]=g(e.blue,t.DEFAULT_ANSI_COLORS[4]),i.ansi[5]=g(e.magenta,t.DEFAULT_ANSI_COLORS[5]),i.ansi[6]=g(e.cyan,t.DEFAULT_ANSI_COLORS[6]),i.ansi[7]=g(e.white,t.DEFAULT_ANSI_COLORS[7]),i.ansi[8]=g(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),i.ansi[9]=g(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),i.ansi[10]=g(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),i.ansi[11]=g(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),i.ansi[12]=g(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),i.ansi[13]=g(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),i.ansi[14]=g(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),i.ansi[15]=g(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),e.extendedAnsi){const r=Math.min(i.ansi.length-16,e.extendedAnsi.length);for(let n=0;n<r;n++)i.ansi[n+16]=g(e.extendedAnsi[n],t.DEFAULT_ANSI_COLORS[n+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(e){this._restoreColor(e),this._onChangeColors.fire(this.colors)}_restoreColor(e){if(void 0!==e)switch(e){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[e]=this._restoreColors.ansi[e]}else for(let t=0;t<this._restoreColors.ansi.length;++t)this._colors.ansi[t]=this._restoreColors.ansi[t]}modifyColors(e){e(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function g(e,t){if(void 0!==e)try{return o.css.toColor(e)}catch(e){}return t}t.ThemeService=m=r([n(0,c.IOptionsService)],m)},6349:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;const r=i(8460),n=i(844);class s extends n.Disposable{constructor(e){super(),this._maxLength=e,this.onDeleteEmitter=this.register(new r.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new r.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new r.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(e){if(this._maxLength===e)return;const t=new Array(e);for(let i=0;i<Math.min(e,this.length);i++)t[i]=this._array[this._getCyclicIndex(i)];this._array=t,this._maxLength=e,this._startIndex=0}get length(){return this._length}set length(e){if(e>this._length)for(let t=this._length;t<e;t++)this._array[t]=void 0;this._length=e}get(e){return this._array[this._getCyclicIndex(e)]}set(e,t){this._array[this._getCyclicIndex(e)]=t}push(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(e,t){if(t){for(let i=e;i<this._length-t;i++)this._array[this._getCyclicIndex(i)]=this._array[this._getCyclicIndex(i+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(let i=this._length-1;i>=e;i--)this._array[this._getCyclicIndex(i+(arguments.length<=2?0:arguments.length-2))]=this._array[this._getCyclicIndex(i)];for(let i=0;i<(arguments.length<=2?0:arguments.length-2);i++)this._array[this._getCyclicIndex(e+i)]=i+2<2||arguments.length<=i+2?void 0:arguments[i+2];if((arguments.length<=2?0:arguments.length-2)&&this.onInsertEmitter.fire({index:e,amount:arguments.length<=2?0:arguments.length-2}),this._length+(arguments.length<=2?0:arguments.length-2)>this._maxLength){const e=this._length+(arguments.length<=2?0:arguments.length-2)-this._maxLength;this._startIndex+=e,this._length=this._maxLength,this.onTrimEmitter.fire(e)}else this._length+=arguments.length<=2?0:arguments.length-2}trimStart(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)}shiftElements(e,t,i){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+i<0)throw new Error("Cannot shift elements in list beyond index 0");if(i>0){for(let n=t-1;n>=0;n--)this.set(e+n+i,this.get(e+n));const r=e+t+i-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let r=0;r<t;r++)this.set(e+r+i,this.get(e+r))}}_getCyclicIndex(e){return(this._startIndex+e)%this._maxLength}}t.CircularList=s},1439:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("object"!=typeof t)return t;const r=Array.isArray(t)?[]:{};for(const n in t)r[n]=i<=1?t[n]:t[n]&&e(t[n],i-1);return r}},8055:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=t.NULL_COLOR=void 0;const r=i(6114);let n=0,s=0,o=0,a=0;var l,c,h,u,d;function f(e){const t=e.toString(16);return t.length<2?"0"+t:t}function p(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}t.NULL_COLOR={css:"#00000000",rgba:0},function(e){e.toCss=function(e,t,i,r){return void 0!==r?"#".concat(f(e)).concat(f(t)).concat(f(i)).concat(f(r)):"#".concat(f(e)).concat(f(t)).concat(f(i))},e.toRgba=function(e,t,i){return(e<<24|t<<16|i<<8|(arguments.length>3&&void 0!==arguments[3]?arguments[3]:255))>>>0}}(l||(t.channels=l={})),function(e){function t(e,t){return a=Math.round(255*t),[n,s,o]=d.toChannels(e.rgba),{css:l.toCss(n,s,o,a),rgba:l.toRgba(n,s,o,a)}}e.blend=function(e,t){if(a=(255&t.rgba)/255,1===a)return{css:t.css,rgba:t.rgba};const i=t.rgba>>24&255,r=t.rgba>>16&255,c=t.rgba>>8&255,h=e.rgba>>24&255,u=e.rgba>>16&255,d=e.rgba>>8&255;return n=h+Math.round((i-h)*a),s=u+Math.round((r-u)*a),o=d+Math.round((c-d)*a),{css:l.toCss(n,s,o),rgba:l.toRgba(n,s,o)}},e.isOpaque=function(e){return 255==(255&e.rgba)},e.ensureContrastRatio=function(e,t,i){const r=d.ensureContrastRatio(e.rgba,t.rgba,i);if(r)return d.toColor(r>>24&255,r>>16&255,r>>8&255)},e.opaque=function(e){const t=(255|e.rgba)>>>0;return[n,s,o]=d.toChannels(t),{css:l.toCss(n,s,o),rgba:t}},e.opacity=t,e.multiplyOpacity=function(e,i){return a=255&e.rgba,t(e,a*i/255)},e.toColorRGB=function(e){return[e.rgba>>24&255,e.rgba>>16&255,e.rgba>>8&255]}}(c||(t.color=c={})),function(e){let t,i;if(!r.isNode){const e=document.createElement("canvas");e.width=1,e.height=1;const r=e.getContext("2d",{willReadFrequently:!0});r&&(t=r,t.globalCompositeOperation="copy",i=t.createLinearGradient(0,0,1,1))}e.toColor=function(e){if(e.match(/#[\da-f]{3,8}/i))switch(e.length){case 4:return n=parseInt(e.slice(1,2).repeat(2),16),s=parseInt(e.slice(2,3).repeat(2),16),o=parseInt(e.slice(3,4).repeat(2),16),d.toColor(n,s,o);case 5:return n=parseInt(e.slice(1,2).repeat(2),16),s=parseInt(e.slice(2,3).repeat(2),16),o=parseInt(e.slice(3,4).repeat(2),16),a=parseInt(e.slice(4,5).repeat(2),16),d.toColor(n,s,o,a);case 7:return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0};case 9:return{css:e,rgba:parseInt(e.slice(1),16)>>>0}}const r=e.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(r)return n=parseInt(r[1]),s=parseInt(r[2]),o=parseInt(r[3]),a=Math.round(255*(void 0===r[5]?1:parseFloat(r[5]))),d.toColor(n,s,o,a);if(!t||!i)throw new Error("css.toColor: Unsupported css format");if(t.fillStyle=i,t.fillStyle=e,"string"!=typeof t.fillStyle)throw new Error("css.toColor: Unsupported css format");if(t.fillRect(0,0,1,1),[n,s,o,a]=t.getImageData(0,0,1,1).data,255!==a)throw new Error("css.toColor: Unsupported css format");return{rgba:l.toRgba(n,s,o,a),css:e}}}(h||(t.css=h={})),function(e){function t(e,t,i){const r=e/255,n=t/255,s=i/255;return.2126*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(u||(t.rgb=u={})),function(e){function t(e,t,i){const r=e>>24&255,n=e>>16&255,s=e>>8&255;let o=t>>24&255,a=t>>16&255,l=t>>8&255,c=p(u.relativeLuminance2(o,a,l),u.relativeLuminance2(r,n,s));for(;c<i&&(o>0||a>0||l>0);)o-=Math.max(0,Math.ceil(.1*o)),a-=Math.max(0,Math.ceil(.1*a)),l-=Math.max(0,Math.ceil(.1*l)),c=p(u.relativeLuminance2(o,a,l),u.relativeLuminance2(r,n,s));return(o<<24|a<<16|l<<8|255)>>>0}function i(e,t,i){const r=e>>24&255,n=e>>16&255,s=e>>8&255;let o=t>>24&255,a=t>>16&255,l=t>>8&255,c=p(u.relativeLuminance2(o,a,l),u.relativeLuminance2(r,n,s));for(;c<i&&(o<255||a<255||l<255);)o=Math.min(255,o+Math.ceil(.1*(255-o))),a=Math.min(255,a+Math.ceil(.1*(255-a))),l=Math.min(255,l+Math.ceil(.1*(255-l))),c=p(u.relativeLuminance2(o,a,l),u.relativeLuminance2(r,n,s));return(o<<24|a<<16|l<<8|255)>>>0}e.ensureContrastRatio=function(e,r,n){const s=u.relativeLuminance(e>>8),o=u.relativeLuminance(r>>8);if(p(s,o)<n){if(o<s){const o=t(e,r,n),a=p(s,u.relativeLuminance(o>>8));if(a<n){const t=i(e,r,n);return a>p(s,u.relativeLuminance(t>>8))?o:t}return o}const a=i(e,r,n),l=p(s,u.relativeLuminance(a>>8));if(l<n){const i=t(e,r,n);return l>p(s,u.relativeLuminance(i>>8))?a:i}return a}},e.reduceLuminance=t,e.increaseLuminance=i,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,i,r){return{css:l.toCss(e,t,i,r),rgba:l.toRgba(e,t,i,r)}}}(d||(t.rgba=d={})),t.toPaddedHex=f,t.contrastRatio=p},8969:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;const r=i(844),n=i(2585),s=i(4348),o=i(7866),a=i(744),l=i(7302),c=i(6975),h=i(8460),u=i(1753),d=i(1480),f=i(7994),p=i(9282),m=i(5435),g=i(5981),v=i(2660);let _=!1;class b extends r.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new h.EventEmitter),this._onScroll.event((e=>{var t;null===(t=this._onScrollApi)||void 0===t||t.fire(e.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(e){for(const t in e)this.optionsService.options[t]=e[t]}constructor(e){super(),this._windowsWrappingHeuristics=this.register(new r.MutableDisposable),this._onBinary=this.register(new h.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new h.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new h.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new h.EventEmitter),this._instantiationService=new s.InstantiationService,this.optionsService=this.register(new l.OptionsService(e)),this._instantiationService.setService(n.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(a.BufferService)),this._instantiationService.setService(n.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(o.LogService)),this._instantiationService.setService(n.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(c.CoreService)),this._instantiationService.setService(n.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(u.CoreMouseService)),this._instantiationService.setService(n.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(d.UnicodeService)),this._instantiationService.setService(n.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(f.CharsetService),this._instantiationService.setService(n.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(v.OscLinkService),this._instantiationService.setService(n.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new m.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,h.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,h.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,h.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,h.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((e=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((e=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new g.WriteBuffer(((e,t)=>this._inputHandler.parse(e,t)))),this.register((0,h.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(e,t){this._writeBuffer.write(e,t)}writeSync(e,t){this._logService.logLevel<=n.LogLevelEnum.WARN&&!_&&(this._logService.warn("writeSync is unreliable and will be removed soon."),_=!0),this._writeBuffer.writeSync(e,t)}resize(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,a.MINIMUM_COLS),t=Math.max(t,a.MINIMUM_ROWS),this._bufferService.resize(e,t))}scroll(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._bufferService.scroll(e,t)}scrollLines(e,t,i){this._bufferService.scrollLines(e,t,i)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){const t=e-this._bufferService.buffer.ydisp;0!==t&&this.scrollLines(t)}registerEscHandler(e,t){return this._inputHandler.registerEscHandler(e,t)}registerDcsHandler(e,t){return this._inputHandler.registerDcsHandler(e,t)}registerCsiHandler(e,t){return this._inputHandler.registerCsiHandler(e,t)}registerOscHandler(e,t){return this._inputHandler.registerOscHandler(e,t)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let e=!1;const t=this.optionsService.rawOptions.windowsPty;t&&void 0!==t.buildNumber&&void 0!==t.buildNumber?e=!!("conpty"===t.backend&&t.buildNumber<21376):this.optionsService.rawOptions.windowsMode&&(e=!0),e?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const e=[];e.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),e.push(this.registerCsiHandler({final:"H"},(()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,r.toDisposable)((()=>{for(const t of e)t.dispose()}))}}}t.CoreTerminal=b},8460:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=e=>(this._listeners.push(e),{dispose:()=>{if(!this._disposed)for(let t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return void this._listeners.splice(t,1)}})),this._event}fire(e,t){const i=[];for(let r=0;r<this._listeners.length;r++)i.push(this._listeners[r]);for(let r=0;r<i.length;r++)i[r].call(void 0,e,t)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},t.forwardEvent=function(e,t){return e((e=>t.fire(e)))}},5435:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;const s=i(2584),o=i(7116),a=i(2015),l=i(844),c=i(482),h=i(8437),u=i(8460),d=i(643),f=i(511),p=i(3734),m=i(2585),g=i(6242),v=i(6351),_=i(5941),b={"(":0,")":1,"*":2,"+":3,"-":1,".":2},y=131072;function O(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var w;!function(e){e[e.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",e[e.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"}(w||(t.WindowsOptionsReportType=w={}));let S=0;class x extends l.Disposable{getAttrData(){return this._curAttrData}constructor(e,t,i,r,n,l,d,p){let m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new a.EscapeSequenceParser;super(),this._bufferService=e,this._charsetService=t,this._coreService=i,this._logService=r,this._optionsService=n,this._oscLinkService=l,this._coreMouseService=d,this._unicodeService=p,this._parser=m,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new c.StringToUtf32,this._utf8Decoder=new c.Utf8ToUtf32,this._workCell=new f.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new u.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new u.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new u.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new u.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new u.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new u.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new u.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new u.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new u.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new u.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new u.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new k(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((e=>this._activeBuffer=e.activeBuffer))),this._parser.setCsiHandlerFallback(((e,t)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(e),params:t.toArray()})})),this._parser.setEscHandlerFallback((e=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(e)})})),this._parser.setExecuteHandlerFallback((e=>{this._logService.debug("Unknown EXECUTE code: ",{code:e})})),this._parser.setOscHandlerFallback(((e,t,i)=>{this._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:i})})),this._parser.setDcsHandlerFallback(((e,t,i)=>{"HOOK"===t&&(i=i.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(e),action:t,payload:i})})),this._parser.setPrintHandler(((e,t,i)=>this.print(e,t,i))),this._parser.registerCsiHandler({final:"@"},(e=>this.insertChars(e))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(e=>this.scrollLeft(e))),this._parser.registerCsiHandler({final:"A"},(e=>this.cursorUp(e))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(e=>this.scrollRight(e))),this._parser.registerCsiHandler({final:"B"},(e=>this.cursorDown(e))),this._parser.registerCsiHandler({final:"C"},(e=>this.cursorForward(e))),this._parser.registerCsiHandler({final:"D"},(e=>this.cursorBackward(e))),this._parser.registerCsiHandler({final:"E"},(e=>this.cursorNextLine(e))),this._parser.registerCsiHandler({final:"F"},(e=>this.cursorPrecedingLine(e))),this._parser.registerCsiHandler({final:"G"},(e=>this.cursorCharAbsolute(e))),this._parser.registerCsiHandler({final:"H"},(e=>this.cursorPosition(e))),this._parser.registerCsiHandler({final:"I"},(e=>this.cursorForwardTab(e))),this._parser.registerCsiHandler({final:"J"},(e=>this.eraseInDisplay(e,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(e=>this.eraseInDisplay(e,!0))),this._parser.registerCsiHandler({final:"K"},(e=>this.eraseInLine(e,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(e=>this.eraseInLine(e,!0))),this._parser.registerCsiHandler({final:"L"},(e=>this.insertLines(e))),this._parser.registerCsiHandler({final:"M"},(e=>this.deleteLines(e))),this._parser.registerCsiHandler({final:"P"},(e=>this.deleteChars(e))),this._parser.registerCsiHandler({final:"S"},(e=>this.scrollUp(e))),this._parser.registerCsiHandler({final:"T"},(e=>this.scrollDown(e))),this._parser.registerCsiHandler({final:"X"},(e=>this.eraseChars(e))),this._parser.registerCsiHandler({final:"Z"},(e=>this.cursorBackwardTab(e))),this._parser.registerCsiHandler({final:"`"},(e=>this.charPosAbsolute(e))),this._parser.registerCsiHandler({final:"a"},(e=>this.hPositionRelative(e))),this._parser.registerCsiHandler({final:"b"},(e=>this.repeatPrecedingCharacter(e))),this._parser.registerCsiHandler({final:"c"},(e=>this.sendDeviceAttributesPrimary(e))),this._parser.registerCsiHandler({prefix:">",final:"c"},(e=>this.sendDeviceAttributesSecondary(e))),this._parser.registerCsiHandler({final:"d"},(e=>this.linePosAbsolute(e))),this._parser.registerCsiHandler({final:"e"},(e=>this.vPositionRelative(e))),this._parser.registerCsiHandler({final:"f"},(e=>this.hVPosition(e))),this._parser.registerCsiHandler({final:"g"},(e=>this.tabClear(e))),this._parser.registerCsiHandler({final:"h"},(e=>this.setMode(e))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(e=>this.setModePrivate(e))),this._parser.registerCsiHandler({final:"l"},(e=>this.resetMode(e))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(e=>this.resetModePrivate(e))),this._parser.registerCsiHandler({final:"m"},(e=>this.charAttributes(e))),this._parser.registerCsiHandler({final:"n"},(e=>this.deviceStatus(e))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(e=>this.deviceStatusPrivate(e))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(e=>this.softReset(e))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(e=>this.setCursorStyle(e))),this._parser.registerCsiHandler({final:"r"},(e=>this.setScrollRegion(e))),this._parser.registerCsiHandler({final:"s"},(e=>this.saveCursor(e))),this._parser.registerCsiHandler({final:"t"},(e=>this.windowOptions(e))),this._parser.registerCsiHandler({final:"u"},(e=>this.restoreCursor(e))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(e=>this.insertColumns(e))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(e=>this.deleteColumns(e))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(e=>this.selectProtected(e))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(e=>this.requestMode(e,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(e=>this.requestMode(e,!1))),this._parser.setExecuteHandler(s.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(s.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(s.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(s.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(s.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(s.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(s.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(s.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(s.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(s.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(s.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(s.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new g.OscHandler((e=>(this.setTitle(e),this.setIconName(e),!0)))),this._parser.registerOscHandler(1,new g.OscHandler((e=>this.setIconName(e)))),this._parser.registerOscHandler(2,new g.OscHandler((e=>this.setTitle(e)))),this._parser.registerOscHandler(4,new g.OscHandler((e=>this.setOrReportIndexedColor(e)))),this._parser.registerOscHandler(8,new g.OscHandler((e=>this.setHyperlink(e)))),this._parser.registerOscHandler(10,new g.OscHandler((e=>this.setOrReportFgColor(e)))),this._parser.registerOscHandler(11,new g.OscHandler((e=>this.setOrReportBgColor(e)))),this._parser.registerOscHandler(12,new g.OscHandler((e=>this.setOrReportCursorColor(e)))),this._parser.registerOscHandler(104,new g.OscHandler((e=>this.restoreIndexedColor(e)))),this._parser.registerOscHandler(110,new g.OscHandler((e=>this.restoreFgColor(e)))),this._parser.registerOscHandler(111,new g.OscHandler((e=>this.restoreBgColor(e)))),this._parser.registerOscHandler(112,new g.OscHandler((e=>this.restoreCursorColor(e)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const s in o.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:s},(()=>this.selectCharset("("+s))),this._parser.registerEscHandler({intermediates:")",final:s},(()=>this.selectCharset(")"+s))),this._parser.registerEscHandler({intermediates:"*",final:s},(()=>this.selectCharset("*"+s))),this._parser.registerEscHandler({intermediates:"+",final:s},(()=>this.selectCharset("+"+s))),this._parser.registerEscHandler({intermediates:"-",final:s},(()=>this.selectCharset("-"+s))),this._parser.registerEscHandler({intermediates:".",final:s},(()=>this.selectCharset("."+s))),this._parser.registerEscHandler({intermediates:"/",final:s},(()=>this.selectCharset("/"+s)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((e=>(this._logService.error("Parsing error: ",e),e))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new v.DcsHandler(((e,t)=>this.requestStatusString(e,t))))}_preserveStack(e,t,i,r){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=i,this._parseStack.position=r}_logSlowResolvingAsync(e){this._logService.logLevel<=m.LogLevelEnum.WARN&&Promise.race([e,new Promise(((e,t)=>setTimeout((()=>t("#SLOW_TIMEOUT")),5e3)))]).catch((e=>{if("#SLOW_TIMEOUT"!==e)throw e;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(e,t){let i,r=this._activeBuffer.x,n=this._activeBuffer.y,s=0;const o=this._parseStack.paused;if(o){if(i=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(i),i;r=this._parseStack.cursorStartX,n=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>y&&(s=this._parseStack.position+y)}if(this._logService.logLevel<=m.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+' "'.concat("string"==typeof e?e:Array.prototype.map.call(e,(e=>String.fromCharCode(e))).join(""),'"'),"string"==typeof e?e.split("").map((e=>e.charCodeAt(0))):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<y&&(this._parseBuffer=new Uint32Array(Math.min(e.length,y))),o||this._dirtyRowTracker.clearRange(),e.length>y)for(let a=s;a<e.length;a+=y){const t=a+y<e.length?a+y:e.length,s="string"==typeof e?this._stringDecoder.decode(e.substring(a,t),this._parseBuffer):this._utf8Decoder.decode(e.subarray(a,t),this._parseBuffer);if(i=this._parser.parse(this._parseBuffer,s))return this._preserveStack(r,n,s,a),this._logSlowResolvingAsync(i),i}else if(!o){const t="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer);if(i=this._parser.parse(this._parseBuffer,t))return this._preserveStack(r,n,t,0),this._logSlowResolvingAsync(i),i}this._activeBuffer.x===r&&this._activeBuffer.y===n||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(e,t,i){let r,n;const s=this._charsetService.charset,o=this._optionsService.rawOptions.screenReaderMode,a=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,h=this._coreService.modes.insertMode,u=this._curAttrData;let f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&i-t>0&&2===f.getWidth(this._activeBuffer.x-1)&&f.setCellFromCodePoint(this._activeBuffer.x-1,0,1,u.fg,u.bg,u.extended);for(let p=t;p<i;++p){if(r=e[p],n=this._unicodeService.wcwidth(r),r<127&&s){const e=s[String.fromCharCode(r)];e&&(r=e.charCodeAt(0))}if(o&&this._onA11yChar.fire((0,c.stringFromCodePoint)(r)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),n||!this._activeBuffer.x){if(this._activeBuffer.x+n-1>=a)if(l){for(;this._activeBuffer.x<a;)f.setCellFromCodePoint(this._activeBuffer.x++,0,1,u.fg,u.bg,u.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=a-1,2===n)continue;if(h&&(f.insertCells(this._activeBuffer.x,n,this._activeBuffer.getNullCell(u),u),2===f.getWidth(a-1)&&f.setCellFromCodePoint(a-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,u.fg,u.bg,u.extended)),f.setCellFromCodePoint(this._activeBuffer.x++,r,n,u.fg,u.bg,u.extended),n>0)for(;--n;)f.setCellFromCodePoint(this._activeBuffer.x++,0,0,u.fg,u.bg,u.extended)}else f.getWidth(this._activeBuffer.x-1)?f.addCodepointToCell(this._activeBuffer.x-1,r):f.addCodepointToCell(this._activeBuffer.x-2,r)}i-t>0&&(f.loadCell(this._activeBuffer.x-1,this._workCell),2===this._workCell.getWidth()||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<a&&i-t>0&&0===f.getWidth(this._activeBuffer.x)&&!f.hasContent(this._activeBuffer.x)&&f.setCellFromCodePoint(this._activeBuffer.x,0,1,u.fg,u.bg,u.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(e,t){return"t"!==e.final||e.prefix||e.intermediates?this._parser.registerCsiHandler(e,t):this._parser.registerCsiHandler(e,(e=>!O(e.params[0],this._optionsService.rawOptions.windowOptions)||t(e)))}registerDcsHandler(e,t){return this._parser.registerDcsHandler(e,new v.DcsHandler(t))}registerEscHandler(e,t){return this._parser.registerEscHandler(e,t)}registerOscHandler(e,t){return this._parser.registerOscHandler(e,new g.OscHandler(t))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var e;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===e?void 0:e.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);e.hasWidth(this._activeBuffer.x)&&!e.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._bufferService.cols-1;this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(e,t){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)}cursorUp(e){const t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0}cursorDown(e){const t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0}cursorForward(e){return this._moveCursor(e.params[0]||1,0),!0}cursorBackward(e){return this._moveCursor(-(e.params[0]||1),0),!0}cursorNextLine(e){return this.cursorDown(e),this._activeBuffer.x=0,!0}cursorPrecedingLine(e){return this.cursorUp(e),this._activeBuffer.x=0,!0}cursorCharAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0}charPosAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(e){return this._moveCursor(e.params[0]||1,0),!0}linePosAbsolute(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0}vPositionRelative(e){return this._moveCursor(0,e.params[0]||1),!0}hVPosition(e){return this.cursorPosition(e),!0}tabClear(e){const t=e.params[0];return 0===t?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===t&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(e){const t=e.params[0];return 1===t&&(this._curAttrData.bg|=536870912),2!==t&&0!==t||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);s.replaceCells(t,i,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),n),r&&(s.isWrapped=!1)}_resetBufferLine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);i&&(i.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),t),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),i.isWrapped=!1)}eraseInDisplay(e){let t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:for(t=this._activeBuffer.y,this._dirtyRowTracker.markDirty(t),this._eraseInBufferLine(t++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,i);t<this._bufferService.rows;t++)this._resetBufferLine(t,i);this._dirtyRowTracker.markDirty(t);break;case 1:for(t=this._activeBuffer.y,this._dirtyRowTracker.markDirty(t),this._eraseInBufferLine(t,0,this._activeBuffer.x+1,!0,i),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t,i);this._dirtyRowTracker.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowTracker.markDirty(t-1);t--;)this._resetBufferLine(t,i);this._dirtyRowTracker.markDirty(0);break;case 3:const e=this._activeBuffer.lines.length-this._bufferService.rows;e>0&&(this._activeBuffer.lines.trimStart(e),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-e,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-e,0),this._onScroll.fire(0))}return!0}eraseInLine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,t);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,t);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,t)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const i=this._activeBuffer.ybase+this._activeBuffer.y,r=this._bufferService.rows-1-this._activeBuffer.scrollBottom,n=this._bufferService.rows-1+this._activeBuffer.ybase-r+1;for(;t--;)this._activeBuffer.lines.splice(n-1,1),this._activeBuffer.lines.splice(i,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const i=this._activeBuffer.ybase+this._activeBuffer.y;let r;for(r=this._bufferService.rows-1-this._activeBuffer.scrollBottom,r=this._bufferService.rows-1+this._activeBuffer.ybase-r;t--;)this._activeBuffer.lines.splice(i,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(h.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let i=this._activeBuffer.scrollTop;i<=this._activeBuffer.scrollBottom;++i){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+i);e.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let i=this._activeBuffer.scrollTop;i<=this._activeBuffer.scrollBottom;++i){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+i);e.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let i=this._activeBuffer.scrollTop;i<=this._activeBuffer.scrollBottom;++i){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+i);e.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let i=this._activeBuffer.scrollTop;i<=this._activeBuffer.scrollBottom;++i){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+i);e.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(e){if(!this._parser.precedingCodepoint)return!0;const t=e.params[0]||1,i=new Uint32Array(t);for(let r=0;r<t;++r)i[r]=this._parser.precedingCodepoint;return this.print(i,0,i.length),!0}sendDeviceAttributesPrimary(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(s.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(s.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(s.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(s.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(s.C0.ESC+"[>83;40003;0c")),!0}_is(e){return 0===(this._optionsService.rawOptions.termName+"").indexOf(e)}setMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,o.DEFAULT_CHARSET),this._charsetService.setgCharset(1,o.DEFAULT_CHARSET),this._charsetService.setgCharset(2,o.DEFAULT_CHARSET),this._charsetService.setgCharset(3,o.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(e,t){const i=this._coreService.decPrivateModes,{activeProtocol:r,activeEncoding:n}=this._coreMouseService,o=this._coreService,{buffers:a,cols:l}=this._bufferService,{active:c,alt:h}=a,u=this._optionsService.rawOptions,d=e=>e?1:2,f=e.params[0];return p=f,m=t?2===f?4:4===f?d(o.modes.insertMode):12===f?3:20===f?d(u.convertEol):0:1===f?d(i.applicationCursorKeys):3===f?u.windowOptions.setWinLines?80===l?2:132===l?1:0:0:6===f?d(i.origin):7===f?d(i.wraparound):8===f?3:9===f?d("X10"===r):12===f?d(u.cursorBlink):25===f?d(!o.isCursorHidden):45===f?d(i.reverseWraparound):66===f?d(i.applicationKeypad):67===f?4:1e3===f?d("VT200"===r):1002===f?d("DRAG"===r):1003===f?d("ANY"===r):1004===f?d(i.sendFocus):1005===f?4:1006===f?d("SGR"===n):1015===f?4:1016===f?d("SGR_PIXELS"===n):1048===f?1:47===f||1047===f||1049===f?d(c===h):2004===f?d(i.bracketedPasteMode):0,o.triggerDataEvent("".concat(s.C0.ESC,"[").concat(t?"":"?").concat(p,";").concat(m,"$y")),!0;var p,m}_updateAttrColor(e,t,i,r,n){return 2===t?(e|=50331648,e&=-16777216,e|=p.AttributeData.fromColorRGB([i,r,n])):5===t&&(e&=-50331904,e|=33554432|255&i),e}_extractColor(e,t,i){const r=[0,0,-1,0,0,0];let n=0,s=0;do{if(r[s+n]=e.params[t+s],e.hasSubParams(t+s)){const i=e.getSubParams(t+s);let o=0;do{5===r[1]&&(n=1),r[s+o+1+n]=i[o]}while(++o<i.length&&o+s+1+n<r.length);break}if(5===r[1]&&s+n>=2||2===r[1]&&s+n>=5)break;r[1]&&(n=1)}while(++s+t<e.length&&s+n<r.length);for(let o=2;o<r.length;++o)-1===r[o]&&(r[o]=0);switch(r[0]){case 38:i.fg=this._updateAttrColor(i.fg,r[1],r[3],r[4],r[5]);break;case 48:i.bg=this._updateAttrColor(i.bg,r[1],r[3],r[4],r[5]);break;case 58:i.extended=i.extended.clone(),i.extended.underlineColor=this._updateAttrColor(i.extended.underlineColor,r[1],r[3],r[4],r[5])}return s}_processUnderline(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,0===e&&(t.fg&=-268435457),t.updateExtended()}_processSGR0(e){e.fg=h.DEFAULT_ATTR_DATA.fg,e.bg=h.DEFAULT_ATTR_DATA.bg,e.extended=e.extended.clone(),e.extended.underlineStyle=0,e.extended.underlineColor&=-67108864,e.updateExtended()}charAttributes(e){if(1===e.length&&0===e.params[0])return this._processSGR0(this._curAttrData),!0;const t=e.length;let i;const r=this._curAttrData;for(let n=0;n<t;n++)i=e.params[n],i>=30&&i<=37?(r.fg&=-50331904,r.fg|=16777216|i-30):i>=40&&i<=47?(r.bg&=-50331904,r.bg|=16777216|i-40):i>=90&&i<=97?(r.fg&=-50331904,r.fg|=16777224|i-90):i>=100&&i<=107?(r.bg&=-50331904,r.bg|=16777224|i-100):0===i?this._processSGR0(r):1===i?r.fg|=134217728:3===i?r.bg|=67108864:4===i?(r.fg|=268435456,this._processUnderline(e.hasSubParams(n)?e.getSubParams(n)[0]:1,r)):5===i?r.fg|=536870912:7===i?r.fg|=67108864:8===i?r.fg|=1073741824:9===i?r.fg|=2147483648:2===i?r.bg|=134217728:21===i?this._processUnderline(2,r):22===i?(r.fg&=-134217729,r.bg&=-134217729):23===i?r.bg&=-67108865:24===i?(r.fg&=-268435457,this._processUnderline(0,r)):25===i?r.fg&=-536870913:27===i?r.fg&=-67108865:28===i?r.fg&=-1073741825:29===i?r.fg&=2147483647:39===i?(r.fg&=-67108864,r.fg|=16777215&h.DEFAULT_ATTR_DATA.fg):49===i?(r.bg&=-67108864,r.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):38===i||48===i||58===i?n+=this._extractColor(e,n,r):53===i?r.bg|=1073741824:55===i?r.bg&=-1073741825:59===i?(r.extended=r.extended.clone(),r.extended.underlineColor=-1,r.updateExtended()):100===i?(r.fg&=-67108864,r.fg|=16777215&h.DEFAULT_ATTR_DATA.fg,r.bg&=-67108864,r.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",i);return!0}deviceStatus(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent("".concat(s.C0.ESC,"[0n"));break;case 6:const e=this._activeBuffer.y+1,t=this._activeBuffer.x+1;this._coreService.triggerDataEvent("".concat(s.C0.ESC,"[").concat(e,";").concat(t,"R"))}return!0}deviceStatusPrivate(e){if(6===e.params[0]){const e=this._activeBuffer.y+1,t=this._activeBuffer.x+1;this._coreService.triggerDataEvent("".concat(s.C0.ESC,"[?").concat(e,";").concat(t,"R"))}return!0}softReset(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(e){const t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const i=t%2==1;return this._optionsService.options.cursorBlink=i,!0}setScrollRegion(e){const t=e.params[0]||1;let i;return(e.length<2||(i=e.params[1])>this._bufferService.rows||0===i)&&(i=this._bufferService.rows),i>t&&(this._activeBuffer.scrollTop=t-1,this._activeBuffer.scrollBottom=i-1,this._setCursor(0,0)),!0}windowOptions(e){if(!O(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;const t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(w.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(w.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent("".concat(s.C0.ESC,"[8;").concat(this._bufferService.rows,";").concat(this._bufferService.cols,"t"));break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0}setIconName(e){return this._iconName=e,!0}setOrReportIndexedColor(e){const t=[],i=e.split(";");for(;i.length>1;){const e=i.shift(),r=i.shift();if(/^\d+$/.exec(e)){const i=parseInt(e);if(C(i))if("?"===r)t.push({type:0,index:i});else{const e=(0,_.parseColor)(r);e&&t.push({type:1,index:i,color:e})}}}return t.length&&this._onColor.fire(t),!0}setHyperlink(e){const t=e.split(";");return!(t.length<2)&&(t[1]?this._createHyperlink(t[0],t[1]):!t[0]&&this._finishHyperlink())}_createHyperlink(e,t){this._getCurrentLinkId()&&this._finishHyperlink();const i=e.split(":");let r;const n=i.findIndex((e=>e.startsWith("id=")));return-1!==n&&(r=i[n].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:r,uri:t}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(e,t){const i=e.split(";");for(let r=0;r<i.length&&!(t>=this._specialColors.length);++r,++t)if("?"===i[r])this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{const e=(0,_.parseColor)(i[r]);e&&this._onColor.fire([{type:1,index:this._specialColors[t],color:e}])}return!0}setOrReportFgColor(e){return this._setOrReportSpecialColor(e,0)}setOrReportBgColor(e){return this._setOrReportSpecialColor(e,1)}setOrReportCursorColor(e){return this._setOrReportSpecialColor(e,2)}restoreIndexedColor(e){if(!e)return this._onColor.fire([{type:2}]),!0;const t=[],i=e.split(";");for(let r=0;r<i.length;++r)if(/^\d+$/.exec(i[r])){const e=parseInt(i[r]);C(e)&&t.push({type:2,index:e})}return t.length&&this._onColor.fire(t),!0}restoreFgColor(e){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(e){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(e){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,o.DEFAULT_CHARSET),!0}selectCharset(e){return 2!==e.length?(this.selectDefaultCharset(),!0):("/"===e[0]||this._charsetService.setgCharset(b[e[0]],o.CHARSETS[e[1]]||o.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(e){return this._charsetService.setgLevel(e),!0}screenAlignmentPattern(){const e=new f.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(let t=0;t<this._bufferService.rows;++t){const i=this._activeBuffer.ybase+this._activeBuffer.y+t,r=this._activeBuffer.lines.get(i);r&&(r.fill(e),r.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(e,t){const i=this._bufferService.buffer,r=this._optionsService.rawOptions;return(e=>(this._coreService.triggerDataEvent("".concat(s.C0.ESC).concat(e).concat(s.C0.ESC,"\\")),!0))('"q'===e?"P1$r".concat(this._curAttrData.isProtected()?1:0,'"q'):'"p'===e?'P1$r61;1"p':"r"===e?"P1$r".concat(i.scrollTop+1,";").concat(i.scrollBottom+1,"r"):"m"===e?"P1$r0m":" q"===e?"P1$r".concat({block:2,underline:4,bar:6}[r.cursorStyle]-(r.cursorBlink?1:0)," q"):"P0$r")}markRangeDirty(e,t){this._dirtyRowTracker.markRangeDirty(e,t)}}t.InputHandler=x;let k=class{constructor(e){this._bufferService=e,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(e){e<this.start?this.start=e:e>this.end&&(this.end=e)}markRangeDirty(e,t){e>t&&(S=e,e=t,t=S),e<this.start&&(this.start=e),t>this.end&&(this.end=t)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function C(e){return 0<=e&&e<256}k=r([n(0,m.IBufferService)],k)},844:(e,t)=>{function i(e){for(const t of e)t.dispose();e.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.toDisposable=t.MutableDisposable=t.Disposable=void 0,t.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const e of this._disposables)e.dispose();this._disposables.length=0}register(e){return this._disposables.push(e),e}unregister(e){const t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)}},t.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}},t.toDisposable=function(e){return{dispose:e}},t.disposeArray=i,t.getDisposeArrayDisposable=function(e){return{dispose:()=>i(e)}}},1505:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FourKeyMap=t.TwoKeyMap=void 0;class i{constructor(){this._data={}}set(e,t,i){this._data[e]||(this._data[e]={}),this._data[e][t]=i}get(e,t){return this._data[e]?this._data[e][t]:void 0}clear(){this._data={}}}t.TwoKeyMap=i,t.FourKeyMap=class{constructor(){this._data=new i}set(e,t,r,n,s){this._data.get(e,t)||this._data.set(e,t,new i),this._data.get(e,t).set(r,n,s)}get(e,t,i,r){var n;return null===(n=this._data.get(e,t))||void 0===n?void 0:n.get(i,r)}clear(){this._data.clear()}}},6114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChromeOS=t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.getSafariVersion=t.isSafari=t.isLegacyEdge=t.isFirefox=t.isNode=void 0,t.isNode="undefined"==typeof navigator;const i=t.isNode?"node":navigator.userAgent,r=t.isNode?"node":navigator.platform;t.isFirefox=i.includes("Firefox"),t.isLegacyEdge=i.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(i),t.getSafariVersion=function(){if(!t.isSafari)return 0;const e=i.match(/Version\/(\d+)/);return null===e||e.length<2?0:parseInt(e[1])},t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(r),t.isIpad="iPad"===r,t.isIphone="iPhone"===r,t.isWindows=["Windows","Win16","Win32","WinCE"].includes(r),t.isLinux=r.indexOf("Linux")>=0,t.isChromeOS=/\bCrOS\b/.test(i)},6106:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SortedList=void 0;let i=0;t.SortedList=class{constructor(e){this._getKey=e,this._array=[]}clear(){this._array.length=0}insert(e){0!==this._array.length?(i=this._search(this._getKey(e)),this._array.splice(i,0,e)):this._array.push(e)}delete(e){if(0===this._array.length)return!1;const t=this._getKey(e);if(void 0===t)return!1;if(i=this._search(t),-1===i)return!1;if(this._getKey(this._array[i])!==t)return!1;do{if(this._array[i]===e)return this._array.splice(i,1),!0}while(++i<this._array.length&&this._getKey(this._array[i])===t);return!1}*getKeyIterator(e){if(0!==this._array.length&&(i=this._search(e),!(i<0||i>=this._array.length)&&this._getKey(this._array[i])===e))do{yield this._array[i]}while(++i<this._array.length&&this._getKey(this._array[i])===e)}forEachByKey(e,t){if(0!==this._array.length&&(i=this._search(e),!(i<0||i>=this._array.length)&&this._getKey(this._array[i])===e))do{t(this._array[i])}while(++i<this._array.length&&this._getKey(this._array[i])===e)}values(){return[...this._array].values()}_search(e){let t=0,i=this._array.length-1;for(;i>=t;){let r=t+i>>1;const n=this._getKey(this._array[r]);if(n>e)i=r-1;else{if(!(n<e)){for(;r>0&&this._getKey(this._array[r-1])===e;)r--;return r}t=r+1}}return t}}},7226:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncedIdleTask=t.IdleTaskQueue=t.PriorityTaskQueue=void 0;const r=i(6114);class n{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,i=0,r=e.timeRemaining(),n=0;for(;this._i<this._tasks.length;){if(t=Date.now(),this._tasks[this._i]()||this._i++,t=Math.max(1,Date.now()-t),i=Math.max(t,i),n=e.timeRemaining(),1.5*i>n)return r-t<-20&&console.warn("task queue exceeded allotted deadline by ".concat(Math.abs(Math.round(r-t)),"ms")),void this._start();r=n}this.clear()}}class s extends n{_requestCallback(e){return setTimeout((()=>e(this._createDeadline(16))))}_cancelCallback(e){clearTimeout(e)}_createDeadline(e){const t=Date.now()+e;return{timeRemaining:()=>Math.max(0,t-Date.now())}}}t.PriorityTaskQueue=s,t.IdleTaskQueue=!r.isNode&&"requestIdleCallback"in window?class extends n{_requestCallback(e){return requestIdleCallback(e)}_cancelCallback(e){cancelIdleCallback(e)}}:s,t.DebouncedIdleTask=class{constructor(){this._queue=new t.IdleTaskQueue}set(e){this._queue.clear(),this._queue.enqueue(e)}flush(){this._queue.flush()}}},9282:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;const r=i(643);t.updateWindowsModeWrappedState=function(e){const t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),i=null==t?void 0:t.get(e.cols-1),n=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);n&&i&&(n.isWrapped=i[r.CHAR_DATA_CODE_INDEX]!==r.NULL_CELL_CODE&&i[r.CHAR_DATA_CODE_INDEX]!==r.WHITESPACE_CELL_CODE)}},3734:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;class i{constructor(){this.fg=0,this.bg=0,this.extended=new r}static toColorRGB(e){return[e>>>16&255,e>>>8&255,255&e]}static fromColorRGB(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]}clone(){const e=new i;return e.fg=this.fg,e.bg=this.bg,e.extended=this.extended.clone(),e}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}t.AttributeData=i;class r{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(e){this._ext=e}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(e){this._ext&=-469762049,this._ext|=e<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(e){this._ext&=-67108864,this._ext|=67108863&e}get urlId(){return this._urlId}set urlId(e){this._urlId=e}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ext=0,this._urlId=0,this._ext=e,this._urlId=t}clone(){return new r(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}t.ExtendedAttrs=r},9092:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=t.MAX_BUFFER_SIZE=void 0;const r=i(6349),n=i(7226),s=i(3734),o=i(8437),a=i(4634),l=i(511),c=i(643),h=i(4863),u=i(7116);t.MAX_BUFFER_SIZE=4294967295,t.Buffer=class{constructor(e,t,i){this._hasScrollback=e,this._optionsService=t,this._bufferService=i,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=o.DEFAULT_ATTR_DATA.clone(),this.savedCharset=u.DEFAULT_CHARSET,this.markers=[],this._nullCell=l.CellData.fromCharData([0,c.NULL_CELL_CHAR,c.NULL_CELL_WIDTH,c.NULL_CELL_CODE]),this._whitespaceCell=l.CellData.fromCharData([0,c.WHITESPACE_CELL_CHAR,c.WHITESPACE_CELL_WIDTH,c.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new n.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new r.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new s.ExtendedAttrs),this._nullCell}getWhitespaceCell(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new s.ExtendedAttrs),this._whitespaceCell}getBlankLine(e,t){return new o.BufferLine(this._bufferService.cols,this.getNullCell(e),t)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows}_getCorrectBufferLength(e){if(!this._hasScrollback)return e;const i=e+this._optionsService.rawOptions.scrollback;return i>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:i}fillViewportRows(e){if(0===this.lines.length){void 0===e&&(e=o.DEFAULT_ATTR_DATA);let t=this._rows;for(;t--;)this.lines.push(this.getBlankLine(e))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new r.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(e,t){const i=this.getNullCell(o.DEFAULT_ATTR_DATA);let r=0;const n=this._getCorrectBufferLength(t);if(n>this.lines.maxLength&&(this.lines.maxLength=n),this.lines.length>0){if(this._cols<e)for(let t=0;t<this.lines.length;t++)r+=+this.lines.get(t).resize(e,i);let s=0;if(this._rows<t)for(let r=this._rows;r<t;r++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new o.BufferLine(e,i)):this.ybase>0&&this.lines.length<=this.ybase+this.y+s+1?(this.ybase--,s++,this.ydisp>0&&this.ydisp--):this.lines.push(new o.BufferLine(e,i)));else for(let e=this._rows;e>t;e--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(n<this.lines.maxLength){const e=this.lines.length-n;e>0&&(this.lines.trimStart(e),this.ybase=Math.max(this.ybase-e,0),this.ydisp=Math.max(this.ydisp-e,0),this.savedY=Math.max(this.savedY-e,0)),this.lines.maxLength=n}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),s&&(this.y+=s),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(let s=0;s<this.lines.length;s++)r+=+this.lines.get(s).resize(e,i);this._cols=e,this._rows=t,this._memoryCleanupQueue.clear(),r>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let e=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,e=!1);let t=0;for(;this._memoryCleanupPosition<this.lines.length;)if(t+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),t>100)return!0;return e}get _isReflowEnabled(){const e=this._optionsService.rawOptions.windowsPty;return e&&e.buildNumber?this._hasScrollback&&"conpty"===e.backend&&e.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))}_reflowLarger(e,t){const i=(0,a.reflowLargerGetLinesToRemove)(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(o.DEFAULT_ATTR_DATA));if(i.length>0){const r=(0,a.reflowLargerCreateNewLayout)(this.lines,i);(0,a.reflowLargerApplyNewLayout)(this.lines,r.layout),this._reflowLargerAdjustViewport(e,t,r.countRemoved)}}_reflowLargerAdjustViewport(e,t,i){const r=this.getNullCell(o.DEFAULT_ATTR_DATA);let n=i;for(;n-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new o.BufferLine(e,r))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-i,0)}_reflowSmaller(e,t){const i=this.getNullCell(o.DEFAULT_ATTR_DATA),r=[];let n=0;for(let s=this.lines.length-1;s>=0;s--){let l=this.lines.get(s);if(!l||!l.isWrapped&&l.getTrimmedLength()<=e)continue;const c=[l];for(;l.isWrapped&&s>0;)l=this.lines.get(--s),c.unshift(l);const h=this.ybase+this.y;if(h>=s&&h<s+c.length)continue;const u=c[c.length-1].getTrimmedLength(),d=(0,a.reflowSmallerGetNewLineLengths)(c,this._cols,e),f=d.length-c.length;let p;p=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+f):Math.max(0,this.lines.length-this.lines.maxLength+f);const m=[];for(let e=0;e<f;e++){const e=this.getBlankLine(o.DEFAULT_ATTR_DATA,!0);m.push(e)}m.length>0&&(r.push({start:s+c.length+n,newLines:m}),n+=m.length),c.push(...m);let g=d.length-1,v=d[g];0===v&&(g--,v=d[g]);let _=c.length-f-1,b=u;for(;_>=0;){const e=Math.min(b,v);if(void 0===c[g])break;if(c[g].copyCellsFrom(c[_],b-e,v-e,e,!0),v-=e,0===v&&(g--,v=d[g]),b-=e,0===b){_--;const e=Math.max(_,0);b=(0,a.getWrappedLineTrimmedLength)(c,e,this._cols)}}for(let t=0;t<c.length;t++)d[t]<e&&c[t].setCell(d[t],i);let y=f-p;for(;y-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+n)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+f,this.ybase+t-1)}if(r.length>0){const e=[],t=[];for(let r=0;r<this.lines.length;r++)t.push(this.lines.get(r));const i=this.lines.length;let s=i-1,o=0,a=r[o];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+n);let l=0;for(let u=Math.min(this.lines.maxLength-1,i+n-1);u>=0;u--)if(a&&a.start>s+l){for(let e=a.newLines.length-1;e>=0;e--)this.lines.set(u--,a.newLines[e]);u++,e.push({index:s+1,amount:a.newLines.length}),l+=a.newLines.length,a=r[++o]}else this.lines.set(u,t[s--]);let c=0;for(let r=e.length-1;r>=0;r--)e[r].index+=c,this.lines.onInsertEmitter.fire(e[r]),c+=e[r].amount;const h=Math.max(0,i+n-this.lines.maxLength);h>0&&this.lines.onTrimEmitter.fire(h)}}translateBufferLineToString(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;const n=this.lines.get(e);return n?n.translateToString(t,i,r):""}getWrappedRangeForLine(e){let t=e,i=e;for(;t>0&&this.lines.get(t).isWrapped;)t--;for(;i+1<this.lines.length&&this.lines.get(i+1).isWrapped;)i++;return{first:t,last:i}}setupTabStops(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0}prevStop(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e}nextStop(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e}clearMarkers(e){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].dispose(),this.markers.splice(e--,1);this._isClearing=!1}addMarker(e){const t=new h.Marker(e);return this.markers.push(t),t.register(this.lines.onTrim((e=>{t.line-=e,t.line<0&&t.dispose()}))),t.register(this.lines.onInsert((e=>{t.line>=e.index&&(t.line+=e.amount)}))),t.register(this.lines.onDelete((e=>{t.line>=e.index&&t.line<e.index+e.amount&&t.dispose(),t.line>e.index&&(t.line-=e.amount)}))),t.register(t.onDispose((()=>this._removeMarker(t)))),t}_removeMarker(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)}}},8437:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;const r=i(3734),n=i(511),s=i(643),o=i(482);t.DEFAULT_ATTR_DATA=Object.freeze(new r.AttributeData);let a=0;class l{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isWrapped=i,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);const r=t||n.CellData.fromCharData([0,s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]);for(let n=0;n<e;++n)this.setCell(n,r);this.length=e}get(e){const t=this._data[3*e+0],i=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:i?(0,o.stringFromCodePoint)(i):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):i]}set(e,t){this._data[3*e+1]=t[s.CHAR_DATA_ATTR_INDEX],t[s.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[s.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[s.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(e){return this._data[3*e+0]>>22}hasWidth(e){return 12582912&this._data[3*e+0]}getFg(e){return this._data[3*e+1]}getBg(e){return this._data[3*e+2]}hasContent(e){return 4194303&this._data[3*e+0]}getCodePoint(e){const t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t}isCombined(e){return 2097152&this._data[3*e+0]}getString(e){const t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?(0,o.stringFromCodePoint)(2097151&t):""}isProtected(e){return 536870912&this._data[3*e+2]}loadCell(e,t){return a=3*e,t.content=this._data[a+0],t.fg=this._data[a+1],t.bg=this._data[a+2],2097152&t.content&&(t.combinedData=this._combined[e]),268435456&t.bg&&(t.extended=this._extendedAttrs[e]),t}setCell(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),268435456&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg}setCellFromCodePoint(e,t,i,r,n,s){268435456&n&&(this._extendedAttrs[e]=s),this._data[3*e+0]=t|i<<22,this._data[3*e+1]=r,this._data[3*e+2]=n}addCodepointToCell(e,t){let i=this._data[3*e+0];2097152&i?this._combined[e]+=(0,o.stringFromCodePoint)(t):(2097151&i?(this._combined[e]=(0,o.stringFromCodePoint)(2097151&i)+(0,o.stringFromCodePoint)(t),i&=-2097152,i|=2097152):i=t|1<<22,this._data[3*e+0]=i)}insertCells(e,t,i,s){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new r.ExtendedAttrs),t<this.length-e){const r=new n.CellData;for(let i=this.length-e-t-1;i>=0;--i)this.setCell(e+t+i,this.loadCell(e+i,r));for(let n=0;n<t;++n)this.setCell(e+n,i)}else for(let r=e;r<this.length;++r)this.setCell(r,i);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new r.ExtendedAttrs)}deleteCells(e,t,i,s){if(e%=this.length,t<this.length-e){const r=new n.CellData;for(let i=0;i<this.length-e-t;++i)this.setCell(e+i,this.loadCell(e+t+i,r));for(let e=this.length-t;e<this.length;++e)this.setCell(e,i)}else for(let r=e;r<this.length;++r)this.setCell(r,i);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new r.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new r.ExtendedAttrs)}replaceCells(e,t,i,n){if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])for(e&&2===this.getWidth(e-1)&&!this.isProtected(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new r.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&!this.isProtected(t)&&this.setCellFromCodePoint(t,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new r.ExtendedAttrs);e<t&&e<this.length;)this.isProtected(e)||this.setCell(e,i),e++;else for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new r.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new r.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,i)}resize(e,t){if(e===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const i=3*e;if(e>this.length){if(this._data.buffer.byteLength>=4*i)this._data=new Uint32Array(this._data.buffer,0,i);else{const e=new Uint32Array(i);e.set(this._data),this._data=e}for(let i=this.length;i<e;++i)this.setCell(i,t)}else{this._data=this._data.subarray(0,i);const t=Object.keys(this._combined);for(let i=0;i<t.length;i++){const r=parseInt(t[i],10);r>=e&&delete this._combined[r]}const r=Object.keys(this._extendedAttrs);for(let i=0;i<r.length;i++){const t=parseInt(r[i],10);t>=e&&delete this._extendedAttrs[t]}}return this.length=e,4*i*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const e=new Uint32Array(this._data.length);return e.set(this._data),this._data=e,1}return 0}fill(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])for(let t=0;t<this.length;++t)this.isProtected(t)||this.setCell(t,e);else{this._combined={},this._extendedAttrs={};for(let t=0;t<this.length;++t)this.setCell(t,e)}}copyFrom(e){this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={};for(const t in e._combined)this._combined[t]=e._combined[t];this._extendedAttrs={};for(const t in e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped}clone(){const e=new l(0);e._data=new Uint32Array(this._data),e.length=this.length;for(const t in this._combined)e._combined[t]=this._combined[t];for(const t in this._extendedAttrs)e._extendedAttrs[t]=this._extendedAttrs[t];return e.isWrapped=this.isWrapped,e}getTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0}getNoBgTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0]||50331648&this._data[3*e+2])return e+(this._data[3*e+0]>>22);return 0}copyCellsFrom(e,t,i,r,n){const s=e._data;if(n)for(let a=r-1;a>=0;a--){for(let e=0;e<3;e++)this._data[3*(i+a)+e]=s[3*(t+a)+e];268435456&s[3*(t+a)+2]&&(this._extendedAttrs[i+a]=e._extendedAttrs[t+a])}else for(let a=0;a<r;a++){for(let e=0;e<3;e++)this._data[3*(i+a)+e]=s[3*(t+a)+e];268435456&s[3*(t+a)+2]&&(this._extendedAttrs[i+a]=e._extendedAttrs[t+a])}const o=Object.keys(e._combined);for(let a=0;a<o.length;a++){const r=parseInt(o[a],10);r>=t&&(this._combined[r-t+i]=e._combined[r])}}translateToString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length;e&&(i=Math.min(i,this.getTrimmedLength()));let r="";for(;t<i;){const e=this._data[3*t+0],i=2097151&e;r+=2097152&e?this._combined[t]:i?(0,o.stringFromCodePoint)(i):s.WHITESPACE_CELL_CHAR,t+=e>>22||1}return r}}t.BufferLine=l},4841:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeLength=void 0,t.getRangeLength=function(e,t){if(e.start.y>e.end.y)throw new Error("Buffer range end (".concat(e.end.x,", ").concat(e.end.y,") cannot be before start (").concat(e.start.x,", ").concat(e.start.y,")"));return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}},4634:(e,t)=>{function i(e,t,i){if(t===e.length-1)return e[t].getTrimmedLength();const r=!e[t].hasContent(i-1)&&1===e[t].getWidth(i-1),n=2===e[t+1].getWidth(0);return r&&n?i-1:i}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,r,n,s){const o=[];for(let a=0;a<e.length-1;a++){let l=a,c=e.get(++l);if(!c.isWrapped)continue;const h=[e.get(a)];for(;l<e.length&&c.isWrapped;)h.push(c),c=e.get(++l);if(n>=a&&n<l){a+=h.length-1;continue}let u=0,d=i(h,u,t),f=1,p=0;for(;f<h.length;){const e=i(h,f,t),n=e-p,o=r-d,a=Math.min(n,o);h[u].copyCellsFrom(h[f],p,d,a,!1),d+=a,d===r&&(u++,d=0),p+=a,p===e&&(f++,p=0),0===d&&0!==u&&2===h[u-1].getWidth(r-1)&&(h[u].copyCellsFrom(h[u-1],r-1,d++,1,!1),h[u-1].setCell(r-1,s))}h[u].replaceCells(d,r,s);let m=0;for(let e=h.length-1;e>0&&(e>u||0===h[e].getTrimmedLength());e--)m++;m>0&&(o.push(a+h.length-m),o.push(m)),a+=h.length-1}return o},t.reflowLargerCreateNewLayout=function(e,t){const i=[];let r=0,n=t[r],s=0;for(let o=0;o<e.length;o++)if(n===o){const i=t[++r];e.onDeleteEmitter.fire({index:o-s,amount:i}),o+=i-1,s+=i,n=t[++r]}else i.push(o);return{layout:i,countRemoved:s}},t.reflowLargerApplyNewLayout=function(e,t){const i=[];for(let r=0;r<t.length;r++)i.push(e.get(t[r]));for(let r=0;r<i.length;r++)e.set(r,i[r]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,r){const n=[],s=e.map(((r,n)=>i(e,n,t))).reduce(((e,t)=>e+t));let o=0,a=0,l=0;for(;l<s;){if(s-l<r){n.push(s-l);break}o+=r;const c=i(e,a,t);o>c&&(o-=c,a++);const h=2===e[a].getWidth(o-1);h&&o--;const u=h?r-1:r;n.push(u),l+=u}return n},t.getWrappedLineTrimmedLength=i},5295:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;const r=i(8460),n=i(844),s=i(9092);class o extends n.Disposable{constructor(e,t){super(),this._optionsService=e,this._bufferService=t,this._onBufferActivate=this.register(new r.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new s.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new s.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(e,t){this._normal.resize(e,t),this._alt.resize(e,t),this.setupTabStops(e)}setupTabStops(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)}}t.BufferSet=o},511:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;const r=i(482),n=i(643),s=i(3734);class o extends s.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new s.ExtendedAttrs,this.combinedData=""}static fromCharData(e){const t=new o;return t.setFromCharData(e),t}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,r.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(e){this.fg=e[n.CHAR_DATA_ATTR_INDEX],this.bg=0;let t=!1;if(e[n.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[n.CHAR_DATA_CHAR_INDEX].length){const i=e[n.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=i&&i<=56319){const r=e[n.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=r&&r<=57343?this.content=1024*(i-55296)+r-56320+65536|e[n.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[n.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[n.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[n.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[n.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.CellData=o},643:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_EXT=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=0,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.DEFAULT_EXT=0,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},4863:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;const r=i(8460),n=i(844);class s{get id(){return this._id}constructor(e){this.line=e,this.isDisposed=!1,this._disposables=[],this._id=s._nextId++,this._onDispose=this.register(new r.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,n.disposeArray)(this._disposables),this._disposables.length=0)}register(e){return this._disposables.push(e),e}}t.Marker=s,s._nextId=1},7116:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},t.CHARSETS.A={"#":"\xa3"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},t.CHARSETS.C=t.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},t.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},t.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},t.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},t.CHARSETS.E=t.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},t.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},t.CHARSETS.H=t.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(e,t)=>{var i,r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.C1_ESCAPED=t.C1=t.C0=void 0,function(e){e.NUL="\0",e.SOH="\x01",e.STX="\x02",e.ETX="\x03",e.EOT="\x04",e.ENQ="\x05",e.ACK="\x06",e.BEL="\x07",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="\x0e",e.SI="\x0f",e.DLE="\x10",e.DC1="\x11",e.DC2="\x12",e.DC3="\x13",e.DC4="\x14",e.NAK="\x15",e.SYN="\x16",e.ETB="\x17",e.CAN="\x18",e.EM="\x19",e.SUB="\x1a",e.ESC="\x1b",e.FS="\x1c",e.GS="\x1d",e.RS="\x1e",e.US="\x1f",e.SP=" ",e.DEL="\x7f"}(i||(t.C0=i={})),function(e){e.PAD="\x80",e.HOP="\x81",e.BPH="\x82",e.NBH="\x83",e.IND="\x84",e.NEL="\x85",e.SSA="\x86",e.ESA="\x87",e.HTS="\x88",e.HTJ="\x89",e.VTS="\x8a",e.PLD="\x8b",e.PLU="\x8c",e.RI="\x8d",e.SS2="\x8e",e.SS3="\x8f",e.DCS="\x90",e.PU1="\x91",e.PU2="\x92",e.STS="\x93",e.CCH="\x94",e.MW="\x95",e.SPA="\x96",e.EPA="\x97",e.SOS="\x98",e.SGCI="\x99",e.SCI="\x9a",e.CSI="\x9b",e.ST="\x9c",e.OSC="\x9d",e.PM="\x9e",e.APC="\x9f"}(r||(t.C1=r={})),function(e){e.ST="".concat(i.ESC,"\\")}(n||(t.C1_ESCAPED=n={}))},7399:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;const r=i(2584),n={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,i,s){const o={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?o.key=t?r.C0.ESC+"OA":r.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?o.key=t?r.C0.ESC+"OD":r.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?o.key=t?r.C0.ESC+"OC":r.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(o.key=t?r.C0.ESC+"OB":r.C0.ESC+"[B");break;case 8:if(e.altKey){o.key=r.C0.ESC+r.C0.DEL;break}o.key=r.C0.DEL;break;case 9:if(e.shiftKey){o.key=r.C0.ESC+"[Z";break}o.key=r.C0.HT,o.cancel=!0;break;case 13:o.key=e.altKey?r.C0.ESC+r.C0.CR:r.C0.CR,o.cancel=!0;break;case 27:o.key=r.C0.ESC,e.altKey&&(o.key=r.C0.ESC+r.C0.ESC),o.cancel=!0;break;case 37:if(e.metaKey)break;a?(o.key=r.C0.ESC+"[1;"+(a+1)+"D",o.key===r.C0.ESC+"[1;3D"&&(o.key=r.C0.ESC+(i?"b":"[1;5D"))):o.key=t?r.C0.ESC+"OD":r.C0.ESC+"[D";break;case 39:if(e.metaKey)break;a?(o.key=r.C0.ESC+"[1;"+(a+1)+"C",o.key===r.C0.ESC+"[1;3C"&&(o.key=r.C0.ESC+(i?"f":"[1;5C"))):o.key=t?r.C0.ESC+"OC":r.C0.ESC+"[C";break;case 38:if(e.metaKey)break;a?(o.key=r.C0.ESC+"[1;"+(a+1)+"A",i||o.key!==r.C0.ESC+"[1;3A"||(o.key=r.C0.ESC+"[1;5A")):o.key=t?r.C0.ESC+"OA":r.C0.ESC+"[A";break;case 40:if(e.metaKey)break;a?(o.key=r.C0.ESC+"[1;"+(a+1)+"B",i||o.key!==r.C0.ESC+"[1;3B"||(o.key=r.C0.ESC+"[1;5B")):o.key=t?r.C0.ESC+"OB":r.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(o.key=r.C0.ESC+"[2~");break;case 46:o.key=a?r.C0.ESC+"[3;"+(a+1)+"~":r.C0.ESC+"[3~";break;case 36:o.key=a?r.C0.ESC+"[1;"+(a+1)+"H":t?r.C0.ESC+"OH":r.C0.ESC+"[H";break;case 35:o.key=a?r.C0.ESC+"[1;"+(a+1)+"F":t?r.C0.ESC+"OF":r.C0.ESC+"[F";break;case 33:e.shiftKey?o.type=2:e.ctrlKey?o.key=r.C0.ESC+"[5;"+(a+1)+"~":o.key=r.C0.ESC+"[5~";break;case 34:e.shiftKey?o.type=3:e.ctrlKey?o.key=r.C0.ESC+"[6;"+(a+1)+"~":o.key=r.C0.ESC+"[6~";break;case 112:o.key=a?r.C0.ESC+"[1;"+(a+1)+"P":r.C0.ESC+"OP";break;case 113:o.key=a?r.C0.ESC+"[1;"+(a+1)+"Q":r.C0.ESC+"OQ";break;case 114:o.key=a?r.C0.ESC+"[1;"+(a+1)+"R":r.C0.ESC+"OR";break;case 115:o.key=a?r.C0.ESC+"[1;"+(a+1)+"S":r.C0.ESC+"OS";break;case 116:o.key=a?r.C0.ESC+"[15;"+(a+1)+"~":r.C0.ESC+"[15~";break;case 117:o.key=a?r.C0.ESC+"[17;"+(a+1)+"~":r.C0.ESC+"[17~";break;case 118:o.key=a?r.C0.ESC+"[18;"+(a+1)+"~":r.C0.ESC+"[18~";break;case 119:o.key=a?r.C0.ESC+"[19;"+(a+1)+"~":r.C0.ESC+"[19~";break;case 120:o.key=a?r.C0.ESC+"[20;"+(a+1)+"~":r.C0.ESC+"[20~";break;case 121:o.key=a?r.C0.ESC+"[21;"+(a+1)+"~":r.C0.ESC+"[21~";break;case 122:o.key=a?r.C0.ESC+"[23;"+(a+1)+"~":r.C0.ESC+"[23~";break;case 123:o.key=a?r.C0.ESC+"[24;"+(a+1)+"~":r.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(i&&!s||!e.altKey||e.metaKey)!i||e.altKey||e.ctrlKey||e.shiftKey||!e.metaKey?e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?o.key=e.key:e.key&&e.ctrlKey&&("_"===e.key&&(o.key=r.C0.US),"@"===e.key&&(o.key=r.C0.NUL)):65===e.keyCode&&(o.type=1);else{const t=n[e.keyCode],i=null==t?void 0:t[e.shiftKey?1:0];if(i)o.key=r.C0.ESC+i;else if(e.keyCode>=65&&e.keyCode<=90){const t=e.ctrlKey?e.keyCode-64:e.keyCode+32;let i=String.fromCharCode(t);e.shiftKey&&(i=i.toUpperCase()),o.key=r.C0.ESC+i}else if(32===e.keyCode)o.key=r.C0.ESC+(e.ctrlKey?r.C0.NUL:" ");else if("Dead"===e.key&&e.code.startsWith("Key")){let t=e.code.slice(3,4);e.shiftKey||(t=t.toLowerCase()),o.key=r.C0.ESC+t,o.cancel=!0}}else e.keyCode>=65&&e.keyCode<=90?o.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?o.key=r.C0.NUL:e.keyCode>=51&&e.keyCode<=55?o.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?o.key=r.C0.DEL:219===e.keyCode?o.key=r.C0.ESC:220===e.keyCode?o.key=r.C0.FS:221===e.keyCode&&(o.key=r.C0.GS)}return o}},482:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r="";for(let n=t;n<i;++n){let t=e[n];t>65535?(t-=65536,r+=String.fromCharCode(55296+(t>>10))+String.fromCharCode(t%1024+56320)):r+=String.fromCharCode(t)}return r},t.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(e,t){const i=e.length;if(!i)return 0;let r=0,n=0;if(this._interim){const i=e.charCodeAt(n++);56320<=i&&i<=57343?t[r++]=1024*(this._interim-55296)+i-56320+65536:(t[r++]=this._interim,t[r++]=i),this._interim=0}for(let s=n;s<i;++s){const n=e.charCodeAt(s);if(55296<=n&&n<=56319){if(++s>=i)return this._interim=n,r;const o=e.charCodeAt(s);56320<=o&&o<=57343?t[r++]=1024*(n-55296)+o-56320+65536:(t[r++]=n,t[r++]=o)}else 65279!==n&&(t[r++]=n)}return r}},t.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(e,t){const i=e.length;if(!i)return 0;let r,n,s,o,a=0,l=0,c=0;if(this.interim[0]){let r=!1,n=this.interim[0];n&=192==(224&n)?31:224==(240&n)?15:7;let s,o=0;for(;(s=63&this.interim[++o])&&o<4;)n<<=6,n|=s;const l=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,h=l-o;for(;c<h;){if(c>=i)return 0;if(s=e[c++],128!=(192&s)){c--,r=!0;break}this.interim[o++]=s,n<<=6,n|=63&s}r||(2===l?n<128?c--:t[a++]=n:3===l?n<2048||n>=55296&&n<=57343||65279===n||(t[a++]=n):n<65536||n>1114111||(t[a++]=n)),this.interim.fill(0)}const h=i-4;let u=c;for(;u<i;){for(;!(!(u<h)||128&(r=e[u])||128&(n=e[u+1])||128&(s=e[u+2])||128&(o=e[u+3]));)t[a++]=r,t[a++]=n,t[a++]=s,t[a++]=o,u+=4;if(r=e[u++],r<128)t[a++]=r;else if(192==(224&r)){if(u>=i)return this.interim[0]=r,a;if(n=e[u++],128!=(192&n)){u--;continue}if(l=(31&r)<<6|63&n,l<128){u--;continue}t[a++]=l}else if(224==(240&r)){if(u>=i)return this.interim[0]=r,a;if(n=e[u++],128!=(192&n)){u--;continue}if(u>=i)return this.interim[0]=r,this.interim[1]=n,a;if(s=e[u++],128!=(192&s)){u--;continue}if(l=(15&r)<<12|(63&n)<<6|63&s,l<2048||l>=55296&&l<=57343||65279===l)continue;t[a++]=l}else if(240==(248&r)){if(u>=i)return this.interim[0]=r,a;if(n=e[u++],128!=(192&n)){u--;continue}if(u>=i)return this.interim[0]=r,this.interim[1]=n,a;if(s=e[u++],128!=(192&s)){u--;continue}if(u>=i)return this.interim[0]=r,this.interim[1]=n,this.interim[2]=s,a;if(o=e[u++],128!=(192&o)){u--;continue}if(l=(7&r)<<18|(63&n)<<12|(63&s)<<6|63&o,l<65536||l>1114111)continue;t[a++]=l}}return a}}},225:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;const i=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],r=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let n;t.UnicodeV6=class{constructor(){if(this.version="6",!n){n=new Uint8Array(65536),n.fill(1),n[0]=0,n.fill(0,1,32),n.fill(0,127,160),n.fill(2,4352,4448),n[9001]=2,n[9002]=2,n.fill(2,11904,42192),n[12351]=1,n.fill(2,44032,55204),n.fill(2,63744,64256),n.fill(2,65040,65050),n.fill(2,65072,65136),n.fill(2,65280,65377),n.fill(2,65504,65511);for(let e=0;e<i.length;++e)n.fill(0,i[e][0],i[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?n[e]:function(e,t){let i,r=0,n=t.length-1;if(e<t[0][0]||e>t[n][1])return!1;for(;n>=r;)if(i=r+n>>1,e>t[i][1])r=i+1;else{if(!(e<t[i][0]))return!0;n=i-1}return!1}(e,r)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1}}},5981:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;const r=i(8460),n=i(844);class s extends n.Disposable{constructor(e){super(),this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new r.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(e,t){if(void 0!==t&&this._syncCalls>t)return void(this._syncCalls=0);if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let i;for(this._isSyncWriting=!0;i=this._writeBuffer.shift();){this._action(i);const e=this._callbacks.shift();e&&e()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(e,t){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)}_innerWrite(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const i=this._writeBuffer[this._bufferOffset],r=this._action(i,e);if(r){const e=e=>Date.now()-t>=12?setTimeout((()=>this._innerWrite(0,e))):this._innerWrite(t,e);return void r.catch((e=>(queueMicrotask((()=>{throw e})),Promise.resolve(!1)))).then(e)}const n=this._callbacks[this._bufferOffset];if(n&&n(),this._bufferOffset++,this._pendingData-=i.length,Date.now()-t>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}t.WriteBuffer=s},5941:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRgbString=t.parseColor=void 0;const i=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,r=/^[\da-f]+$/;function n(e,t){const i=e.toString(16),r=i.length<2?"0"+i:i;switch(t){case 4:return i[0];case 8:return r;case 12:return(r+r).slice(0,3);default:return r+r}}t.parseColor=function(e){if(!e)return;let t=e.toLowerCase();if(0===t.indexOf("rgb:")){t=t.slice(4);const e=i.exec(t);if(e){const t=e[1]?15:e[4]?255:e[7]?4095:65535;return[Math.round(parseInt(e[1]||e[4]||e[7]||e[10],16)/t*255),Math.round(parseInt(e[2]||e[5]||e[8]||e[11],16)/t*255),Math.round(parseInt(e[3]||e[6]||e[9]||e[12],16)/t*255)]}}else if(0===t.indexOf("#")&&(t=t.slice(1),r.exec(t)&&[3,6,9,12].includes(t.length))){const e=t.length/3,i=[0,0,0];for(let r=0;r<3;++r){const n=parseInt(t.slice(e*r,e*r+e),16);i[r]=1===e?n<<4:2===e?n:3===e?n>>4:n>>8}return i}},t.toRgbString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;const[i,r,s]=e;return"rgb:".concat(n(i,t),"/").concat(n(r,t),"/").concat(n(s,t))}},5770:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},6351:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;const r=i(482),n=i(8742),s=i(5770),o=[];t.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=o,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=o}registerHandler(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);const i=this._handlers[e];return i.push(t),{dispose:()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}reset(){if(this._active.length)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=o,this._ident=0}hook(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||o,this._active.length)for(let i=this._active.length-1;i>=0;i--)this._active[i].hook(t);else this._handlerFb(this._ident,"HOOK",t)}put(e,t,i){if(this._active.length)for(let r=this._active.length-1;r>=0;r--)this._active[r].put(e,t,i);else this._handlerFb(this._ident,"PUT",(0,r.utf32ToString)(e,t,i))}unhook(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._active.length){let i=!1,r=this._active.length-1,n=!1;if(this._stack.paused&&(r=this._stack.loopPosition-1,i=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&!1===i){for(;r>=0&&(i=this._active[r].unhook(e),!0!==i);r--)if(i instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!1,i;r--}for(;r>=0;r--)if(i=this._active[r].unhook(!1),i instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!0,i}else this._handlerFb(this._ident,"UNHOOK",e);this._active=o,this._ident=0}};const a=new n.Params;a.addParam(0),t.DcsHandler=class{constructor(e){this._handler=e,this._data="",this._params=a,this._hitLimit=!1}hook(e){this._params=e.length>1||e.params[0]?e.clone():a,this._data="",this._hitLimit=!1}put(e,t,i){this._hitLimit||(this._data+=(0,r.utf32ToString)(e,t,i),this._data.length>s.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data,this._params),t instanceof Promise))return t.then((e=>(this._params=a,this._data="",this._hitLimit=!1,e)));return this._params=a,this._data="",this._hitLimit=!1,t}}},2015:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;const r=i(844),n=i(8742),s=i(6242),o=i(6351);class a{constructor(e){this.table=new Uint8Array(e)}setDefault(e,t){this.table.fill(e<<4|t)}add(e,t,i,r){this.table[t<<8|e]=i<<4|r}addMany(e,t,i,r){for(let n=0;n<e.length;n++)this.table[t<<8|e[n]]=i<<4|r}}t.TransitionTable=a;const l=160;t.VT500_TRANSITION_TABLE=function(){const e=new a(4095),t=Array.apply(null,Array(256)).map(((e,t)=>t)),i=(e,i)=>t.slice(e,i),r=i(32,127),n=i(0,24);n.push(25),n.push.apply(n,i(28,32));const s=i(0,14);let o;for(o in e.setDefault(1,0),e.addMany(r,0,2,0),s)e.addMany([24,26,153,154],o,3,0),e.addMany(i(128,144),o,3,0),e.addMany(i(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(n,0,3,0),e.addMany(n,1,3,1),e.add(127,1,0,1),e.addMany(n,8,0,8),e.addMany(n,3,3,3),e.add(127,3,0,3),e.addMany(n,4,3,4),e.add(127,4,0,4),e.addMany(n,6,3,6),e.addMany(n,5,3,5),e.add(127,5,0,5),e.addMany(n,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(r,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(i(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(r,7,0,7),e.addMany(n,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(i(64,127),3,7,0),e.addMany(i(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(i(48,60),4,8,4),e.addMany(i(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(i(32,64),6,0,6),e.add(127,6,0,6),e.addMany(i(64,127),6,0,0),e.addMany(i(32,48),3,9,5),e.addMany(i(32,48),5,9,5),e.addMany(i(48,64),5,0,6),e.addMany(i(64,127),5,7,0),e.addMany(i(32,48),4,9,5),e.addMany(i(32,48),1,9,2),e.addMany(i(32,48),2,9,2),e.addMany(i(48,127),2,10,0),e.addMany(i(48,80),1,10,0),e.addMany(i(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(i(96,127),1,10,0),e.add(80,1,11,9),e.addMany(n,9,0,9),e.add(127,9,0,9),e.addMany(i(28,32),9,0,9),e.addMany(i(32,48),9,9,12),e.addMany(i(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(n,11,0,11),e.addMany(i(32,128),11,0,11),e.addMany(i(28,32),11,0,11),e.addMany(n,10,0,10),e.add(127,10,0,10),e.addMany(i(28,32),10,0,10),e.addMany(i(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(i(32,48),10,9,12),e.addMany(n,12,0,12),e.add(127,12,0,12),e.addMany(i(28,32),12,0,12),e.addMany(i(32,48),12,9,12),e.addMany(i(48,64),12,0,11),e.addMany(i(64,127),12,12,13),e.addMany(i(64,127),10,12,13),e.addMany(i(64,127),9,12,13),e.addMany(n,13,13,13),e.addMany(r,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(l,0,2,0),e.add(l,8,5,8),e.add(l,6,0,6),e.add(l,11,0,11),e.add(l,13,13,13),e}();class c extends r.Disposable{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.VT500_TRANSITION_TABLE;super(),this._transitions=e,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new n.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(e,t,i)=>{},this._executeHandlerFb=e=>{},this._csiHandlerFb=(e,t)=>{},this._escHandlerFb=e=>{},this._errorHandlerFb=e=>e,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,r.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new s.OscParser),this._dcsParser=this.register(new o.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[64,126],i=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if(i=e.prefix.charCodeAt(0),i&&60>i||i>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let t=0;t<e.intermediates.length;++t){const r=e.intermediates.charCodeAt(t);if(32>r||r>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");i<<=8,i|=r}}if(1!==e.final.length)throw new Error("final must be a single byte");const r=e.final.charCodeAt(0);if(t[0]>r||r>t[1])throw new Error("final must be in range ".concat(t[0]," .. ").concat(t[1]));return i<<=8,i|=r,i}identToString(e){const t=[];for(;e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")}setPrintHandler(e){this._printHandler=e}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(e,t){const i=this._identifier(e,[48,126]);void 0===this._escHandlers[i]&&(this._escHandlers[i]=[]);const r=this._escHandlers[i];return r.push(t),{dispose:()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}clearEscHandler(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]}setEscHandlerFallback(e){this._escHandlerFb=e}setExecuteHandler(e,t){this._executeHandlers[e.charCodeAt(0)]=t}clearExecuteHandler(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]}setExecuteHandlerFallback(e){this._executeHandlerFb=e}registerCsiHandler(e,t){const i=this._identifier(e);void 0===this._csiHandlers[i]&&(this._csiHandlers[i]=[]);const r=this._csiHandlers[i];return r.push(t),{dispose:()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}clearCsiHandler(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]}setCsiHandlerFallback(e){this._csiHandlerFb=e}registerDcsHandler(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)}clearDcsHandler(e){this._dcsParser.clearHandler(this._identifier(e))}setDcsHandlerFallback(e){this._dcsParser.setHandlerFallback(e)}registerOscHandler(e,t){return this._oscParser.registerHandler(e,t)}clearOscHandler(e){this._oscParser.clearHandler(e)}setOscHandlerFallback(e){this._oscParser.setHandlerFallback(e)}setErrorHandler(e){this._errorHandler=e}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(e,t,i,r,n){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=i,this._parseStack.transition=r,this._parseStack.chunkPos=n}parse(e,t,i){let r,n=0,s=0,o=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,o=this._parseStack.chunkPos+1;else{if(void 0===i||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const t=this._parseStack.handlers;let s=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===i&&s>-1)for(;s>=0&&(r=t[s](this._params),!0!==r);s--)if(r instanceof Promise)return this._parseStack.handlerPos=s,r;this._parseStack.handlers=[];break;case 4:if(!1===i&&s>-1)for(;s>=0&&(r=t[s](),!0!==r);s--)if(r instanceof Promise)return this._parseStack.handlerPos=s,r;this._parseStack.handlers=[];break;case 6:if(n=e[this._parseStack.chunkPos],r=this._dcsParser.unhook(24!==n&&26!==n,i),r)return r;27===n&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(n=e[this._parseStack.chunkPos],r=this._oscParser.end(24!==n&&26!==n,i),r)return r;27===n&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,o=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let a=o;a<t;++a){switch(n=e[a],s=this._transitions.table[this.currentState<<8|(n<160?n:l)],s>>4){case 2:for(let r=a+1;;++r){if(r>=t||(n=e[r])<32||n>126&&n<l){this._printHandler(e,a,r),a=r-1;break}if(++r>=t||(n=e[r])<32||n>126&&n<l){this._printHandler(e,a,r),a=r-1;break}if(++r>=t||(n=e[r])<32||n>126&&n<l){this._printHandler(e,a,r),a=r-1;break}if(++r>=t||(n=e[r])<32||n>126&&n<l){this._printHandler(e,a,r),a=r-1;break}}break;case 3:this._executeHandlers[n]?this._executeHandlers[n]():this._executeHandlerFb(n),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:a,code:n,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const i=this._csiHandlers[this._collect<<8|n];let o=i?i.length-1:-1;for(;o>=0&&(r=i[o](this._params),!0!==r);o--)if(r instanceof Promise)return this._preserveStack(3,i,o,s,a),r;o<0&&this._csiHandlerFb(this._collect<<8|n,this._params),this.precedingCodepoint=0;break;case 8:do{switch(n){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(n-48)}}while(++a<t&&(n=e[a])>47&&n<60);a--;break;case 9:this._collect<<=8,this._collect|=n;break;case 10:const c=this._escHandlers[this._collect<<8|n];let h=c?c.length-1:-1;for(;h>=0&&(r=c[h](),!0!==r);h--)if(r instanceof Promise)return this._preserveStack(4,c,h,s,a),r;h<0&&this._escHandlerFb(this._collect<<8|n),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|n,this._params);break;case 13:for(let r=a+1;;++r)if(r>=t||24===(n=e[r])||26===n||27===n||n>127&&n<l){this._dcsParser.put(e,a,r),a=r-1;break}break;case 14:if(r=this._dcsParser.unhook(24!==n&&26!==n),r)return this._preserveStack(6,[],0,s,a),r;27===n&&(s|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let r=a+1;;r++)if(r>=t||(n=e[r])<32||n>127&&n<l){this._oscParser.put(e,a,r),a=r-1;break}break;case 6:if(r=this._oscParser.end(24!==n&&26!==n),r)return this._preserveStack(5,[],0,s,a),r;27===n&&(s|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&s}}}t.EscapeSequenceParser=c},6242:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;const r=i(5770),n=i(482),s=[];t.OscParser=class{constructor(){this._state=0,this._active=s,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);const i=this._handlers[e];return i.push(t),{dispose:()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=s}reset(){if(2===this._state)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=s,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||s,this._active.length)for(let e=this._active.length-1;e>=0;e--)this._active[e].start();else this._handlerFb(this._id,"START")}_put(e,t,i){if(this._active.length)for(let r=this._active.length-1;r>=0;r--)this._active[r].put(e,t,i);else this._handlerFb(this._id,"PUT",(0,n.utf32ToString)(e,t,i))}start(){this.reset(),this._state=1}put(e,t,i){if(3!==this._state){if(1===this._state)for(;t<i;){const i=e[t++];if(59===i){this._state=2,this._start();break}if(i<48||57<i)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+i-48}2===this._state&&i-t>0&&this._put(e,t,i)}}end(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let i=!1,r=this._active.length-1,n=!1;if(this._stack.paused&&(r=this._stack.loopPosition-1,i=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&!1===i){for(;r>=0&&(i=this._active[r].end(e),!0!==i);r--)if(i instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!1,i;r--}for(;r>=0;r--)if(i=this._active[r].end(!1),i instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!0,i}else this._handlerFb(this._id,"END",e);this._active=s,this._id=-1,this._state=0}}},t.OscHandler=class{constructor(e){this._handler=e,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(e,t,i){this._hitLimit||(this._data+=(0,n.utf32ToString)(e,t,i),this._data.length>r.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data),t instanceof Promise))return t.then((e=>(this._data="",this._hitLimit=!1,e)));return this._data="",this._hitLimit=!1,t}}},8742:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;const i=2147483647;class r{static fromArray(e){const t=new r;if(!e.length)return t;for(let i=Array.isArray(e[0])?1:0;i<e.length;++i){const r=e[i];if(Array.isArray(r))for(let e=0;e<r.length;++e)t.addSubParam(r[e]);else t.addParam(r)}return t}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;if(this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const e=new r(this.maxLength,this.maxSubParamsLength);return e.params.set(this.params),e.length=this.length,e._subParams.set(this._subParams),e._subParamsLength=this._subParamsLength,e._subParamsIdx.set(this._subParamsIdx),e._rejectDigits=this._rejectDigits,e._rejectSubDigits=this._rejectSubDigits,e._digitIsSub=this._digitIsSub,e}toArray(){const e=[];for(let t=0;t<this.length;++t){e.push(this.params[t]);const i=this._subParamsIdx[t]>>8,r=255&this._subParamsIdx[t];r-i>0&&e.push(Array.prototype.slice.call(this._subParams,i,r))}return e}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>i?i:e}}addSubParam(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>i?i:e,this._subParamsIdx[this.length-1]++}}hasSubParams(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0}getSubParams(e){const t=this._subParamsIdx[e]>>8,i=255&this._subParamsIdx[e];return i-t>0?this._subParams.subarray(t,i):null}getSubParamsAll(){const e={};for(let t=0;t<this.length;++t){const i=this._subParamsIdx[t]>>8,r=255&this._subParamsIdx[t];r-i>0&&(e[t]=this._subParams.slice(i,r))}return e}addDigit(e){let t;if(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const r=this._digitIsSub?this._subParams:this.params,n=r[t-1];r[t-1]=~n?Math.min(10*n+e,i):e}}t.Params=r},5741:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0,t.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()}loadAddon(e,t){const i={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(i),t.dispose=()=>this._wrappedAddonDispose(i),t.activate(e)}_wrappedAddonDispose(e){if(e.isDisposed)return;let t=-1;for(let i=0;i<this._addons.length;i++)if(this._addons[i]===e){t=i;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}}},8771:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferApiView=void 0;const r=i(3785),n=i(511);t.BufferApiView=class{constructor(e,t){this._buffer=e,this.type=t}init(e){return this._buffer=e,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(e){const t=this._buffer.lines.get(e);if(t)return new r.BufferLineApiView(t)}getNullCell(){return new n.CellData}}},3785:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLineApiView=void 0;const r=i(511);t.BufferLineApiView=class{constructor(e){this._line=e}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new r.CellData)}translateToString(e,t,i){return this._line.translateToString(e,t,i)}}},8285:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferNamespaceApi=void 0;const r=i(8771),n=i(8460),s=i(844);class o extends s.Disposable{constructor(e){super(),this._core=e,this._onBufferChange=this.register(new n.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new r.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new r.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}t.BufferNamespaceApi=o},7975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParserApi=void 0,t.ParserApi=class{constructor(e){this._core=e}registerCsiHandler(e,t){return this._core.registerCsiHandler(e,(e=>t(e.toArray())))}addCsiHandler(e,t){return this.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._core.registerDcsHandler(e,((e,i)=>t(e,i.toArray())))}addDcsHandler(e,t){return this.registerDcsHandler(e,t)}registerEscHandler(e,t){return this._core.registerEscHandler(e,t)}addEscHandler(e,t){return this.registerEscHandler(e,t)}registerOscHandler(e,t){return this._core.registerOscHandler(e,t)}addOscHandler(e,t){return this.registerOscHandler(e,t)}}},7090:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeApi=void 0,t.UnicodeApi=class{constructor(e){this._core=e}register(e){this._core.unicodeService.register(e)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(e){this._core.unicodeService.activeVersion=e}}},744:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;const s=i(8460),o=i(844),a=i(5295),l=i(2585);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;let c=t.BufferService=class extends o.Disposable{get buffer(){return this.buffers.active}constructor(e){super(),this.isUserScrolling=!1,this._onResize=this.register(new s.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new s.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(e.rawOptions.cols||0,t.MINIMUM_COLS),this.rows=Math.max(e.rawOptions.rows||0,t.MINIMUM_ROWS),this.buffers=this.register(new a.BufferSet(e,this))}resize(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this._onResize.fire({cols:e,rows:t})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.buffer;let r;r=this._cachedBlankLine,r&&r.length===this.cols&&r.getFg(0)===e.fg&&r.getBg(0)===e.bg||(r=i.getBlankLine(e,t),this._cachedBlankLine=r),r.isWrapped=t;const n=i.ybase+i.scrollTop,s=i.ybase+i.scrollBottom;if(0===i.scrollTop){const e=i.lines.isFull;s===i.lines.length-1?e?i.lines.recycle().copyFrom(r):i.lines.push(r.clone()):i.lines.splice(s+1,0,r.clone()),e?this.isUserScrolling&&(i.ydisp=Math.max(i.ydisp-1,0)):(i.ybase++,this.isUserScrolling||i.ydisp++)}else{const e=s-n+1;i.lines.shiftElements(n+1,e-1,-1),i.lines.set(s,r.clone())}this.isUserScrolling||(i.ydisp=i.ybase),this._onScroll.fire(i.ydisp)}scrollLines(e,t,i){const r=this.buffer;if(e<0){if(0===r.ydisp)return;this.isUserScrolling=!0}else e+r.ydisp>=r.ybase&&(this.isUserScrolling=!1);const n=r.ydisp;r.ydisp=Math.max(Math.min(r.ydisp+e,r.ybase),0),n!==r.ydisp&&(t||this._onScroll.fire(r.ydisp))}};t.BufferService=c=r([n(0,l.IOptionsService)],c)},7994:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0,t.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(e){this.glevel=e,this.charset=this._charsets[e]}setgCharset(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)}}},1753:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;const s=i(2585),o=i(8460),a=i(844),l={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:e=>4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)},VT200:{events:19,restrict:e=>32!==e.action},DRAG:{events:23,restrict:e=>32!==e.action||3!==e.button},ANY:{events:31,restrict:e=>!0}};function c(e,t){let i=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(i|=64,i|=e.action):(i|=3&e.button,4&e.button&&(i|=64),8&e.button&&(i|=128),32===e.action?i|=32:0!==e.action||t||(i|=3)),i}const h=String.fromCharCode,u={DEFAULT:e=>{const t=[c(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"\x1b[M".concat(h(t[0])).concat(h(t[1])).concat(h(t[2]))},SGR:e=>{const t=0===e.action&&4!==e.button?"m":"M";return"\x1b[<".concat(c(e,!0),";").concat(e.col,";").concat(e.row).concat(t)},SGR_PIXELS:e=>{const t=0===e.action&&4!==e.button?"m":"M";return"\x1b[<".concat(c(e,!0),";").concat(e.x,";").concat(e.y).concat(t)}};let d=t.CoreMouseService=class extends a.Disposable{constructor(e,t){super(),this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new o.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const i of Object.keys(l))this.addProtocol(i,l[i]);for(const i of Object.keys(u))this.addEncoding(i,u[i]);this.reset()}addProtocol(e,t){this._protocols[e]=t}addEncoding(e,t){this._encodings[e]=t}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(e){if(!this._protocols[e])throw new Error('unknown protocol "'.concat(e,'"'));this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(e){if(!this._encodings[e])throw new Error('unknown encoding "'.concat(e,'"'));this._activeEncoding=e}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._equalEvents(this._lastEvent,e,"SGR_PIXELS"===this._activeEncoding))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;const t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0}explainEvents(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}}_equalEvents(e,t,i){if(i){if(e.x!==t.x)return!1;if(e.y!==t.y)return!1}else{if(e.col!==t.col)return!1;if(e.row!==t.row)return!1}return e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift}};t.CoreMouseService=d=r([n(0,s.IBufferService),n(1,s.ICoreService)],d)},6975:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;const s=i(1439),o=i(8460),a=i(844),l=i(2585),c=Object.freeze({insertMode:!1}),h=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let u=t.CoreService=class extends a.Disposable{constructor(e,t,i){super(),this._bufferService=e,this._logService=t,this._optionsService=i,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new o.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new o.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new o.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new o.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,s.clone)(c),this.decPrivateModes=(0,s.clone)(h)}reset(){this.modes=(0,s.clone)(c),this.decPrivateModes=(0,s.clone)(h)}triggerDataEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._optionsService.rawOptions.disableStdin)return;const i=this._bufferService.buffer;t&&this._optionsService.rawOptions.scrollOnUserInput&&i.ybase!==i.ydisp&&this._onRequestScrollToBottom.fire(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'.concat(e,'"'),(()=>e.split("").map((e=>e.charCodeAt(0))))),this._onData.fire(e)}triggerBinaryEvent(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'.concat(e,'"'),(()=>e.split("").map((e=>e.charCodeAt(0))))),this._onBinary.fire(e))}};t.CoreService=u=r([n(0,l.IBufferService),n(1,l.ILogService),n(2,l.IOptionsService)],u)},9074:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationService=void 0;const r=i(8055),n=i(8460),s=i(844),o=i(6106);let a=0,l=0;class c extends s.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new o.SortedList((e=>null==e?void 0:e.marker.line)),this._onDecorationRegistered=this.register(new n.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new n.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,s.toDisposable)((()=>this.reset())))}registerDecoration(e){if(e.marker.isDisposed)return;const t=new h(e);if(t){const e=t.marker.onDispose((()=>t.dispose()));t.onDispose((()=>{t&&(this._decorations.delete(t)&&this._onDecorationRemoved.fire(t),e.dispose())})),this._decorations.insert(t),this._onDecorationRegistered.fire(t)}return t}reset(){for(const e of this._decorations.values())e.dispose();this._decorations.clear()}*getDecorationsAtCell(e,t,i){var r,n,s;let o=0,a=0;for(const l of this._decorations.getKeyIterator(t))o=null!==(r=l.options.x)&&void 0!==r?r:0,a=o+(null!==(n=l.options.width)&&void 0!==n?n:1),e>=o&&e<a&&(!i||(null!==(s=l.options.layer)&&void 0!==s?s:"bottom")===i)&&(yield l)}forEachDecorationAtCell(e,t,i,r){this._decorations.forEachByKey(t,(t=>{var n,s,o;a=null!==(n=t.options.x)&&void 0!==n?n:0,l=a+(null!==(s=t.options.width)&&void 0!==s?s:1),e>=a&&e<l&&(!i||(null!==(o=t.options.layer)&&void 0!==o?o:"bottom")===i)&&r(t)}))}}t.DecorationService=c;class h extends s.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this.options.backgroundColor?this._cachedBg=r.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this.options.foregroundColor?this._cachedFg=r.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(e){super(),this.options=e,this.onRenderEmitter=this.register(new n.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new n.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=e.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;const r=i(2585),n=i(8343);class s{constructor(){this._entries=new Map;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const[r,n]of t)this.set(r,n)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}forEach(e){for(const[t,i]of this._entries.entries())e(t,i)}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}t.ServiceCollection=s,t.InstantiationService=class{constructor(){this._services=new s,this._services.set(r.IInstantiationService,this)}setService(e,t){this._services.set(e,t)}getService(e){return this._services.get(e)}createInstance(e){const t=(0,n.getServiceDependencies)(e).sort(((e,t)=>e.index-t.index)),i=[];for(const n of t){const t=this._services.get(n.id);if(!t)throw new Error("[createInstance] ".concat(e.name," depends on UNKNOWN service ").concat(n.id,"."));i.push(t)}for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];const a=t.length>0?t[0].index:s.length;if(s.length!==a)throw new Error("[createInstance] First service dependency of ".concat(e.name," at position ").concat(a+1," conflicts with ").concat(s.length," static arguments"));return new e(...[...s,...i])}}},7866:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.traceCall=t.setTraceLogger=t.LogService=void 0;const s=i(844),o=i(2585),a={trace:o.LogLevelEnum.TRACE,debug:o.LogLevelEnum.DEBUG,info:o.LogLevelEnum.INFO,warn:o.LogLevelEnum.WARN,error:o.LogLevelEnum.ERROR,off:o.LogLevelEnum.OFF};let l,c=t.LogService=class extends s.Disposable{get logLevel(){return this._logLevel}constructor(e){super(),this._optionsService=e,this._logLevel=o.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),l=this}_updateLogLevel(){this._logLevel=a[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())}_log(e,t,i){this._evalLazyOptionalParams(i),e.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+t,...i)}trace(e){for(var t,i,r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];this._logLevel<=o.LogLevelEnum.TRACE&&this._log(null!==(i=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.trace.bind(this._optionsService.options.logger))&&void 0!==i?i:console.log,e,n)}debug(e){for(var t,i,r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];this._logLevel<=o.LogLevelEnum.DEBUG&&this._log(null!==(i=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.debug.bind(this._optionsService.options.logger))&&void 0!==i?i:console.log,e,n)}info(e){for(var t,i,r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];this._logLevel<=o.LogLevelEnum.INFO&&this._log(null!==(i=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.info.bind(this._optionsService.options.logger))&&void 0!==i?i:console.info,e,n)}warn(e){for(var t,i,r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];this._logLevel<=o.LogLevelEnum.WARN&&this._log(null!==(i=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.warn.bind(this._optionsService.options.logger))&&void 0!==i?i:console.warn,e,n)}error(e){for(var t,i,r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];this._logLevel<=o.LogLevelEnum.ERROR&&this._log(null!==(i=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.error.bind(this._optionsService.options.logger))&&void 0!==i?i:console.error,e,n)}};t.LogService=c=r([n(0,o.IOptionsService)],c),t.setTraceLogger=function(e){l=e},t.traceCall=function(e,t,i){if("function"!=typeof i.value)throw new Error("not supported");const r=i.value;i.value=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(l.logLevel!==o.LogLevelEnum.TRACE)return r.apply(this,t);l.trace("GlyphRenderer#".concat(r.name,"(").concat(t.map((e=>JSON.stringify(e))).join(", "),")"));const n=r.apply(this,t);return l.trace("GlyphRenderer#".concat(r.name," return"),n),n}}},7302:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=void 0;const r=i(8460),n=i(844),s=i(6114);t.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:s.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const o=["normal","bold","100","200","300","400","500","600","700","800","900"];class a extends n.Disposable{constructor(e){super(),this._onOptionChange=this.register(new r.EventEmitter),this.onOptionChange=this._onOptionChange.event;const i=Object.assign({},t.DEFAULT_OPTIONS);for(const t in e)if(t in i)try{const r=e[t];i[t]=this._sanitizeAndValidateOption(t,r)}catch(e){console.error(e)}this.rawOptions=i,this.options=Object.assign({},i),this._setupOptions()}onSpecificOptionChange(e,t){return this.onOptionChange((i=>{i===e&&t(this.rawOptions[e])}))}onMultipleOptionChange(e,t){return this.onOptionChange((i=>{-1!==e.indexOf(i)&&t()}))}_setupOptions(){const e=e=>{if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'.concat(e,'"'));return this.rawOptions[e]},i=(e,i)=>{if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'.concat(e,'"'));i=this._sanitizeAndValidateOption(e,i),this.rawOptions[e]!==i&&(this.rawOptions[e]=i,this._onOptionChange.fire(e))};for(const t in this.rawOptions){const r={get:e.bind(this,t),set:i.bind(this,t)};Object.defineProperty(this.options,t,r)}}_sanitizeAndValidateOption(e,i){switch(e){case"cursorStyle":if(i||(i=t.DEFAULT_OPTIONS[e]),!function(e){return"block"===e||"underline"===e||"bar"===e}(i))throw new Error('"'.concat(i,'" is not a valid value for ').concat(e));break;case"wordSeparator":i||(i=t.DEFAULT_OPTIONS[e]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof i&&1<=i&&i<=1e3)break;i=o.includes(i)?i:t.DEFAULT_OPTIONS[e];break;case"cursorWidth":i=Math.floor(i);case"lineHeight":case"tabStopWidth":if(i<1)throw new Error("".concat(e," cannot be less than 1, value: ").concat(i));break;case"minimumContrastRatio":i=Math.max(1,Math.min(21,Math.round(10*i)/10));break;case"scrollback":if((i=Math.min(i,4294967295))<0)throw new Error("".concat(e," cannot be less than 0, value: ").concat(i));break;case"fastScrollSensitivity":case"scrollSensitivity":if(i<=0)throw new Error("".concat(e," cannot be less than or equal to 0, value: ").concat(i));break;case"rows":case"cols":if(!i&&0!==i)throw new Error("".concat(e," must be numeric, value: ").concat(i));break;case"windowsPty":i=null!=i?i:{}}return i}}t.OptionsService=a},2660:function(e,t,i){var r=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkService=void 0;const s=i(2585);let o=t.OscLinkService=class{constructor(e){this._bufferService=e,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(e){const t=this._bufferService.buffer;if(void 0===e.id){const i=t.addMarker(t.ybase+t.y),r={data:e,id:this._nextId++,lines:[i]};return i.onDispose((()=>this._removeMarkerFromLink(r,i))),this._dataByLinkId.set(r.id,r),r.id}const i=e,r=this._getEntryIdKey(i),n=this._entriesWithId.get(r);if(n)return this.addLineToLink(n.id,t.ybase+t.y),n.id;const s=t.addMarker(t.ybase+t.y),o={id:this._nextId++,key:this._getEntryIdKey(i),data:i,lines:[s]};return s.onDispose((()=>this._removeMarkerFromLink(o,s))),this._entriesWithId.set(o.key,o),this._dataByLinkId.set(o.id,o),o.id}addLineToLink(e,t){const i=this._dataByLinkId.get(e);if(i&&i.lines.every((e=>e.line!==t))){const e=this._bufferService.buffer.addMarker(t);i.lines.push(e),e.onDispose((()=>this._removeMarkerFromLink(i,e)))}}getLinkData(e){var t;return null===(t=this._dataByLinkId.get(e))||void 0===t?void 0:t.data}_getEntryIdKey(e){return"".concat(e.id,";;").concat(e.uri)}_removeMarkerFromLink(e,t){const i=e.lines.indexOf(t);-1!==i&&(e.lines.splice(i,1),0===e.lines.length&&(void 0!==e.data.id&&this._entriesWithId.delete(e.key),this._dataByLinkId.delete(e.id)))}};t.OscLinkService=o=r([n(0,s.IBufferService)],o)},8343:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0;const i="di$target",r="di$dependencies";t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e[r]||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);const n=function(e,t,s){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function(e,t,n){t[i]===t?t[r].push({id:e,index:n}):(t[r]=[{id:e,index:n}],t[i]=t)}(n,e,s)};return n.toString=()=>e,t.serviceRegistry.set(e,n),n}},2585:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOscLinkService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;const r=i(8343);var n;t.IBufferService=(0,r.createDecorator)("BufferService"),t.ICoreMouseService=(0,r.createDecorator)("CoreMouseService"),t.ICoreService=(0,r.createDecorator)("CoreService"),t.ICharsetService=(0,r.createDecorator)("CharsetService"),t.IInstantiationService=(0,r.createDecorator)("InstantiationService"),function(e){e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.OFF=5]="OFF"}(n||(t.LogLevelEnum=n={})),t.ILogService=(0,r.createDecorator)("LogService"),t.IOptionsService=(0,r.createDecorator)("OptionsService"),t.IOscLinkService=(0,r.createDecorator)("OscLinkService"),t.IUnicodeService=(0,r.createDecorator)("UnicodeService"),t.IDecorationService=(0,r.createDecorator)("DecorationService")},1480:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;const r=i(8460),n=i(225);t.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new r.EventEmitter,this.onChange=this._onChange.event;const e=new n.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(e){if(!this._providers[e])throw new Error('unknown Unicode version "'.concat(e,'"'));this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)}register(e){this._providers[e.version]=e}wcwidth(e){return this._activeProvider.wcwidth(e)}getStringCellWidth(e){let t=0;const i=e.length;for(let r=0;r<i;++r){let n=e.charCodeAt(r);if(55296<=n&&n<=56319){if(++r>=i)return t+this.wcwidth(n);const s=e.charCodeAt(r);56320<=s&&s<=57343?n=1024*(n-55296)+s-56320+65536:t+=this.wcwidth(s)}t+=this.wcwidth(n)}return t}}}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,i),s.exports}var r={};return(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.Terminal=void 0;const t=i(9042),n=i(3236),s=i(844),o=i(5741),a=i(8285),l=i(7975),c=i(7090),h=["cols","rows"];class u extends s.Disposable{constructor(e){super(),this._core=this.register(new n.Terminal(e)),this._addonManager=this.register(new o.AddonManager),this._publicOptions=Object.assign({},this._core.options);const t=e=>this._core.options[e],i=(e,t)=>{this._checkReadonlyOptions(e),this._core.options[e]=t};for(const r in this._core.options){const e={get:t.bind(this,r),set:i.bind(this,r)};Object.defineProperty(this._publicOptions,r,e)}}_checkReadonlyOptions(e){if(h.includes(e))throw new Error('Option "'.concat(e,'" can only be set in the constructor'))}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new l.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new c.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new a.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const e=this._core.coreService.decPrivateModes;let t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any"}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,wraparoundMode:e.wraparound}}get options(){return this._publicOptions}set options(e){for(const t in e)this._publicOptions[t]=e[t]}blur(){this._core.blur()}focus(){this._core.focus()}resize(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)}open(e){this._core.open(e)}attachCustomKeyEventHandler(e){this._core.attachCustomKeyEventHandler(e)}registerLinkProvider(e){return this._core.registerLinkProvider(e)}registerCharacterJoiner(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)}deregisterCharacterJoiner(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)}registerMarker(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._verifyIntegers(e),this._core.registerMarker(e)}registerDecoration(e){var t,i,r;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(t=e.x)&&void 0!==t?t:0,null!==(i=e.width)&&void 0!==i?i:0,null!==(r=e.height)&&void 0!==r?r:0),this._core.registerDecoration(e)}hasSelection(){return this._core.hasSelection()}select(e,t,i){this._verifyIntegers(e,t,i),this._core.select(e,t,i)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)}dispose(){super.dispose()}scrollLines(e){this._verifyIntegers(e),this._core.scrollLines(e)}scrollPages(e){this._verifyIntegers(e),this._core.scrollPages(e)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(e){this._verifyIntegers(e),this._core.scrollToLine(e)}clear(){this._core.clear()}write(e,t){this._core.write(e,t)}writeln(e,t){this._core.write(e),this._core.write("\r\n",t)}paste(e){this._core.paste(e)}refresh(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(e){this._addonManager.loadAddon(this,e)}static get strings(){return t}_verifyIntegers(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const r of t)if(r===1/0||isNaN(r)||r%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const r of t)if(r&&(r===1/0||isNaN(r)||r%1!=0||r<0))throw new Error("This API only accepts positive integers")}}e.Terminal=u})(),r})()))},2651:function(e,t,i){var r,n,s;n=[],void 0===(s="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,i){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,i)},r.onerror=function(){console.error("could not download file")},r.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i.g&&i.g.global===i.g?i.g:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,i){var a=o.URL||o.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):n(l.href)?r(e,t,i):s(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,i,o){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),i);else if(n(e))r(e,i,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){s(a)}))}}:function(e,t,i,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,i);var s="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||a)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var e=h.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},h.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,d=u.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});o.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,n):r)||(e.exports=s)},1636:()=>{},6049:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});const r={container:"Save_container__A-Z0e",box:"Save_box__dnH9y",btngroup:"Save_btngroup__Qh0Od",closeBtn:"Save_closeBtn__Pyc7Q",btn:"Save_btn__hbX3+",text:"Save_text__c70en",selectionContainer:"Save_selectionContainer__mklp4",selectionbox:"Save_selectionbox__LxNTy",selection_SubBox:"Save_selection_SubBox__rKbOX",img:"Save_img__HyyKR",closeBtns:"Save_closeBtns__ubs0-",btns:"Save_btns__g3j7E"}},2941:(e,t,i)=>{"use strict";e.exports=i.p+"static/media/close.7385d43d5bd88fd38c79.png"},2989:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAAABHNCSVQICAgIfAhkiAAACNRJREFUaEPdmktsXFcZx//3nPsc20zHdjz2lEppS1skKyyoynNjiQUNpU03YYXUBUoXLMoC8RBqqRMKlC5YVFkg1AqJ1yJdlFCVFCSUsKCUIlTaYgmiCkgaz4ztpBPXnpn7Pnznzsydt+dxJ66VK13NyJ5z7vnd//c453xHwU18KTcxGyYGJzCgL/pBfA14Kv279ddjv//EcDGUHM7J1WZ/a2vD97283IR5clU0XlNSyOEH0PH+uqAkzNaWghX6Yf7uZr+lUv9nZDJNqNxFgQvU9tAhAQk7Acix4CKwhlISanlLKV46kgkV8RwN75YuO4q1aDPNXqb3Zk51vw4JutYOOY6KI8O1geECkypthuGsF1p/oKF/bGwHqTdkCn6xlHrnBJzbQlwkyJWVsKHiqIAjwUVgq3SvHY/UIhti5c1Ds9dt/vtJgDVejILwV7n05gmkEQBbYU3FFwQ9W4wCODRcF9g1i1ec22ZLvk5gypGkinW2jwDVy4/C8APMVYNxAIeCawPL/IfBWGCV8tJcCalXbgRYrKAQv875Fx/FLdyHsxmidEc4ioID4XqCCQKr3FiwNsA5AnRGB9wT7oMGiwEVUjDTAXjmhVDmw718sC9cHBW/dJyhYYr7qFiXD44B2BOuDUxGRRk8PkCwNgXdug/KIIO900QXXDzzWJVTKcpjEmwfgsew0VZpDTINwNXVnimiN5wEu0BgK4dYJZ+ZSxrujXvugn7PR+Lx2/94C97l9WF5un4XAWqXTqBk+vTPIJqu9QBsg2v3swzDVEktbGel5z4w9kio4dLpH4FZVtyF8+93cPWZZ5N0Ked/T+d2Nk4hk/FRKoXoEWC64VrMEcG0lncWXxECn00yklufbweZCJwi/pzLbH8ezlU/SvLS/zrU64Y7TtER4MjYKmBq6372HAXcTx84OODV3NR7R1F0vUi9XC7oC1fLaXVfO2JxqRoc6OvIvkwzuk8lgZv/5mMwWnxuIspB/CVn/PcB7Hou7LQX+d6ZM+RBSpz7YuXI9JRosSkDyWGo8Cwds9PGejn7EnF/cpJwlVdfR+n5XybpkhjEazl+6UGopg2+6+FtMs3z54O94fJ5Tg6qIgMdoWrmw7mzxD1RuJ3fnsP7Z8naE1wUUP6a09cfwo5tQ8u6OHxYRs42v2tXLpqNUJREQYPLdejMKvi535DWn0gwDnSa5cTg2OVjYIaN3JQDDAPXCCZ8xgAPrUJl/sWDCEd7SK/fam4cg48qpuCi3B1UupWTcOa2Bj1twOJmoUpwIplyma98GanPNMWfhHIRnJp/GG5YRUZzRofTYK27Cy8C7L4kZvmhY0cx89DRuItJwDGCWzqIcNdOPwf7jbeSvC8cGDg+Pwt1bi6G8d69grBSvTngElH0aXxglJPjU3OLSN33cez+8U8Id8uJeZPDTShaqosLyH7/8QjIzxex8eTTlG7DhID1VFDx7NGipZw0yzznUJ5D8jw3ff/nkD5+LIa59uxPYb/5z0Rw0QzF3Hh4tDzXOUMJsj8MhfpIkpEonGP+W49Bv/N2VP/2Bt77yc+SdBe1VYX7VJYXTqPqVXEXTb8GzlDkxLljbgnNmSq4Sz8OBWu++jGHZix/FM7av8Zs3WzGlODsEopfQ4pXUHZshO97OLwyYG7ZuSrQpw2kghQckSqGi88EUL+YeGQJO+BK8NKiuPINMLUMQ1QhVGfwqqB1PWfReu722noONEuhjGkh8KeK/tIPAsG/kHB8YzcnsJcXtcK3aVlTodVbFZxUC5gT76X0W8/JJ0YL1o6VOELHhKGaECJFnVrFavYpUrA5lxp7qKM15PDPLfLCd6DSXFLCVV0b0/T6d8jf9LcD5B7svxKP4Tr2UGCQetsEqDILGjcpOllFf+F7gVDvH2144/86AlM3HqcoUkVIN9NsiIoTrcLvlKtwqgQNtYciS4KNdR3tfsHfJfNUaeGqmdB9glMsqNwsOtlT+wEYgRmFJ+AHNlStCse3abXioBq4USDRd4KoQDJo96tNvfq+JfK1jaJIwcA1EUgTJUhGJuotnbyRgBGYtv5derFkigTHCCxUHCpruVCnPVyR9Tu5b9m7djfUjjOuB5TUUxpMRQcLjf0A7AYjUwztGpij0l4lbchukTnKyuuwO86xeg3zrNcKYMyTie5osDsApYna2ZOTDDJNU+R2TbE6GEzyL9tDTu40N/1MjrlXtWekKk9fQEU1it7CqUkAUrj/3SIvPgHhOVAIrhOsUWkdUASpA/ePYr3qc12AEAY8zYAijA0/+9VAYfdSTqHdQ5laqD5BX1jH+ZvalJl6jx5AO/+1kQjaTzy/wDZ/Do38SsibAoc0RZpjAZYXl5CHABsI1www9SJ/vU4XAV4lE53RNFC8ItMhPyRzDT3ySVWlXU9OA+cUthXaZKLyNm+3EMaIh8Yb0KdgIeXQENwnU+Me9eXR3xzaG6GgIdzYx0ZQrCHXwLJxX0AZZKw0RVJbAwgSnG5PIxiVIloNjhNcK5iEZUrz/AkLCI4THK1/VOZTOz+Cg+5h1/eQJv+SwaPVx+qHb4Y51TAUXBdgI8g4Kqc3q6IyrUKjT5eATQJTOKMaNoMWKAhIOXm3XlwqR5f89DwC1GQJOCD7DeBR7dusUIGfPtOGH4X75XrwGAFsKLNsHVOvcyjYlgqZBBNSkLtONQbGyTQZJV0FulGDkt87L5XXAF1HwDJChD7dLikYBpR6AnAqbJTLYRzuRwQbGa4tTTRWEHfTOS/jXUZJleHqNsNMmvxsl2Cna0Cu1986dE3A0AXKOwKmIeDbIdy5EDMbonk0o3kObBhTbH2HQ5tll4LyD3IeWj/7FR1mk4fYFncVmswq9NYVfLhLr+4/lKZIwf8BM5ZAcVrQdr6IjkU1DrhRgq6r0Ous2J4PGAsuVrD+JaoONY4gRsem6Mrv0Oe9Q9D9HcjNtJ/Yk63GMMPOh40N1+goPiAQKSkT2uoQQH1+0nIMcVy1Eptlv9G3gY6JOKpf7fWYxMqNybAvzW5quP8DUJ5eg62vcOEAAAAASUVORK5CYII="},7743:(e,t,i)=>{"use strict";e.exports=i.p+"static/media/saveButton.727463f07aa8d085f548.png"},168:(e,t,i)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}i.d(t,{Z:()=>r})},7102:(e,t,i)=>{"use strict";i.d(t,{B1:()=>ke,GA:()=>ge,Gn:()=>ne,Mb:()=>l,eC:()=>c,vQ:()=>he,ys:()=>xe});var r=i(6580),n=i(7184),s=i(1450);class o{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=(0,s.qz)(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),n=r.search(d(e,!1));return n<0?null:{from:i+n,to:this.pos,text:r.slice(n)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function a(e){let t=Object.keys(e).join(""),i=/\w/.test(t);return i&&(t=t.replace(/\w/g,"")),"[".concat(i?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}function l(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[i,r]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),i=Object.create(null);for(let{label:n}of e){t[n[0]]=!0;for(let e=1;e<n.length;e++)i[n[e]]=!0}let r=a(t)+a(i)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(t);return e=>{let n=e.matchBefore(r);return n||e.explicit?{from:n?n.from:e.pos,options:t,validFor:i}:null}}function c(e,t){return i=>{for(let t=(0,s.qz)(i.state).resolveInner(i.pos,-1);t;t=t.parent){if(e.indexOf(t.name)>-1)return null;if(t.type.isTop)break}return t(i)}}class h{constructor(e,t,i,r){this.completion=e,this.source=t,this.match=i,this.score=r}}function u(e){return e.selection.main.from}function d(e,t){var i;let{source:r}=e,n=t&&"^"!=r[0],s="$"!=r[r.length-1];return n||s?new RegExp("".concat(n?"^":"","(?:").concat(r,")").concat(s?"$":""),null!==(i=e.flags)&&void 0!==i?i:e.ignoreCase?"i":""):e}const f=r.q6.define();const p=new WeakMap;function m(e){if(!Array.isArray(e))return e;let t=p.get(e);return t||p.set(e,t=l(e)),t}const g=r.Py.define(),v=r.Py.define();class _{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=(0,r.gm)(e,t),n=(0,r.nZ)(i);this.chars.push(i);let s=e.slice(t,t+n),o=s.toUpperCase();this.folded.push((0,r.gm)(o==s?s.toLowerCase():o,0)),t+=n}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,!0}match(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:t,folded:i,any:n,precise:s,byWord:o}=this;if(1==t.length){let n=(0,r.gm)(e,0),s=(0,r.nZ)(n),o=s==e.length?0:-100;if(n==t[0]);else{if(n!=i[0])return!1;o+=-200}return this.ret(o,[0,s])}let a=e.indexOf(this.pattern);if(0==a)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let s=0,o=Math.min(e.length,200);s<o&&c<l;){let o=(0,r.gm)(e,s);o!=t[c]&&o!=i[c]||(n[c++]=s),s+=(0,r.nZ)(o)}if(c<l)return!1}let h=0,u=0,d=!1,f=0,p=-1,m=-1,g=/[a-z]/.test(e),v=!0;for(let _=0,b=Math.min(e.length,200),y=0;_<b&&u<l;){let n=(0,r.gm)(e,_);a<0&&(h<l&&n==t[h]&&(s[h++]=_),f<l&&(n==t[f]||n==i[f]?(0==f&&(p=_),m=_+1,f++):f=0));let c,b=n<255?n>=48&&n<=57||n>=97&&n<=122?2:n>=65&&n<=90?1:0:(c=(0,r.bg)(n))!=c.toLowerCase()?1:c!=c.toUpperCase()?2:0;(!_||1==b&&g||0==y&&0!=b)&&(t[u]==n||i[u]==n&&(d=!0)?o[u++]=_:o.length&&(v=!1)),y=b,_+=(0,r.nZ)(n)}return u==l&&0==o[0]&&v?this.result((d?-200:0)-100,o,e):f==l&&0==p?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):f==l?this.ret(-900-e.length,[p,m]):u==l?this.result((d?-200:0)-100-700+(v?0:-1100),o,e):2!=t.length&&this.result((n[0]?-700:0)-200-1100,n,e)}result(e,t,i){let n=[],s=0;for(let o of t){let e=o+(this.astral?(0,r.nZ)((0,r.gm)(i,o)):1);s&&n[s-1]==o?n[s-1]=e:(n[s++]=o,n[s++]=e)}return this.ret(e-i.length,n)}}const b=r.r$.define({combine:e=>(0,r.BO)(e,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:O,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>y(e(i),t(i)),optionClass:(e,t)=>i=>y(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})});function y(e,t){return e?t?e+" "+t:e:t}function O(e,t,i,r,s,o){let a,l,c=e.textDirection==n.Nm.RTL,h=c,u=!1,d="top",f=t.left-s.left,p=s.right-t.right,m=r.right-r.left,g=r.bottom-r.top;if(h&&f<Math.min(m,p)?h=!1:!h&&p<Math.min(m,f)&&(h=!0),m<=(h?f:p))a=Math.max(s.top,Math.min(i.top,s.bottom-g))-t.top,l=Math.min(400,h?f:p);else{u=!0,l=Math.min(400,(c?t.right:s.right-t.left)-30);let e=s.bottom-t.bottom;e>=g||e>t.top?a=i.bottom-t.top:(d="bottom",a=t.bottom-i.top)}let v=(t.bottom-t.top)/o.offsetHeight,_=(t.right-t.left)/o.offsetWidth;return{style:"".concat(d,": ").concat(a/v,"px; max-width: ").concat(l/_,"px"),class:"cm-completionInfo-"+(u?c?"left-narrow":"right-narrow":h?"left":"right")}}function w(e,t,i){if(e<=i)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/i);return{from:e*i,to:(e+1)*i}}let r=Math.floor((e-t)/i);return{from:e-(r+1)*i,to:e-r*i}}class S{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:e=>this.placeInfo(e),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:n,selected:s}=r.open,o=e.state.facet(b);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,i,r){let n=document.createElement("span");n.className="cm-completionLabel";let s=e.displayLabel||e.label,o=0;for(let a=0;a<r.length;){let e=r[a++],t=r[a++];e>o&&n.appendChild(document.createTextNode(s.slice(o,e)));let i=n.appendChild(document.createElement("span"));i.appendChild(document.createTextNode(s.slice(e,t))),i.className="cm-completionMatchedText",o=t}return o<s.length&&n.appendChild(document.createTextNode(s.slice(o))),n},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=w(n.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",(i=>{let{options:r}=e.state.field(t).open;for(let t,n=i.target;n&&n!=this.dom;n=n.parentNode)if("LI"==n.nodeName&&(t=/-(\d+)$/.exec(n.id))&&+t[1]<r.length)return this.applyCompletion(e,r[+t[1]]),void i.preventDefault()})),this.dom.addEventListener("focusout",(t=>{let i=e.state.field(this.stateField,!1);i&&i.tooltip&&e.state.facet(b).closeOnBlur&&t.relatedTarget!=e.contentDOM&&e.dispatch({effects:v.of(null)})})),this.showOptions(n,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(e){var t;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:n,selected:s,disabled:o}=i.open;r.open&&r.open.options==n||(this.range=w(n.length,s,e.state.facet(b).maxRenderedOptions),this.showOptions(n,i.id)),this.updateSel(),o!=(null===(t=r.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let e of this.currentClass.split(" "))e&&this.dom.classList.remove(e);for(let e of t.split(" "))e&&this.dom.classList.add(e);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=w(t.options.length,t.selected,this.view.state.facet(b).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let s="string"===typeof r?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t,i)})).catch((e=>(0,n.OO)(this.view.state,e,"completion info"))):this.addInfoPane(s,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",null!=e.nodeType)i.appendChild(e),this.infoDestroy=null;else{let{dom:t,destroy:r}=e;i.appendChild(t),this.infoDestroy=r||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)"LI"==i.nodeName&&i.id?r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected"):r--;return t&&function(e,t){let i=e.getBoundingClientRect(),r=t.getBoundingClientRect(),n=i.height/e.offsetHeight;r.top<i.top?e.scrollTop-=(i.top-r.top)/n:r.bottom>i.bottom&&(e.scrollTop+=(r.bottom-i.bottom)/n)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),n=this.space;if(!n){let e=this.dom.ownerDocument.defaultView||window;n={left:0,top:0,right:e.innerWidth,bottom:e.innerHeight}}return r.top>Math.min(n.bottom,t.bottom)-10||r.bottom<Math.max(n.top,t.top)+10?null:this.view.state.facet(b).positionInfo(this.view,t,r,i,n,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let n=null;for(let s=i.from;s<i.to;s++){let{completion:o,match:a}=e[s],{section:l}=o;if(l){let e="string"==typeof l?l:l.name;if(e!=n&&(s>i.from||0==i.from))if(n=e,"string"!=typeof l&&l.header)r.appendChild(l.header(l));else{r.appendChild(document.createElement("completion-section")).textContent=e}}const c=r.appendChild(document.createElement("li"));c.id=t+"-"+s,c.setAttribute("role","option");let h=this.optionClass(o);h&&(c.className=h);for(let e of this.optionContent){let t=e(o,this.view.state,this.view,a);t&&c.appendChild(t)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function x(e,t){return i=>new S(i,e,t)}function k(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class C{constructor(e,t,i,r,n,s){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=n,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new C(this.options,A(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,r,n){let s=function(e,t){let i=[],r=null,n=e=>{i.push(e);let{section:t}=e.completion;if(t){r||(r=[]);let e="string"==typeof t?t:t.name;r.some((t=>t.name==e))||r.push("string"==typeof t?{name:e}:t)}};for(let l of e)if(l.hasResult()){let e=l.result.getMatch;if(!1===l.result.filter)for(let t of l.result.options)n(new h(t,l.source,e?e(t):[],1e9-i.length));else{let i=new _(t.sliceDoc(l.from,l.to));for(let t of l.result.options)if(i.match(t.label)){let r=t.displayLabel?e?e(t,i.matched):[]:i.matched;n(new h(t,l.source,r,i.score+(t.boost||0)))}}}if(r){let e=Object.create(null),t=0,n=(e,t)=>{var i,r;return(null!==(i=e.rank)&&void 0!==i?i:1e9)-(null!==(r=t.rank)&&void 0!==r?r:1e9)||(e.name<t.name?-1:1)};for(let i of r.sort(n))t-=1e5,e[i.name]=t;for(let r of i){let{section:t}=r.completion;t&&(r.score+=e["string"==typeof t?t:t.name])}}let s=[],o=null,a=t.facet(b).compareCompletions;for(let l of i.sort(((e,t)=>t.score-e.score||a(e.completion,t.completion)))){let e=l.completion;!o||o.label!=e.label||o.detail!=e.detail||null!=o.type&&null!=e.type&&o.type!=e.type||o.apply!=e.apply||o.boost!=e.boost?s.push(l):k(l.completion)>k(o)&&(s[s.length-1]=l),o=l.completion}return s}(e,t);if(!s.length)return r&&e.some((e=>1==e.state))?new C(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let o=t.facet(b).selectOnOpen?0:-1;if(r&&r.selected!=o&&-1!=r.selected){let e=r.options[r.selected].completion;for(let t=0;t<s.length;t++)if(s[t].completion==e){o=t;break}}return new C(s,A(i,o),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:j,above:n.aboveCursor},r?r.timestamp:Date.now(),o,!1)}map(e){return new C(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class E{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new E(P,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,i=t.facet(b),r=(i.override||t.languageDataAt("autocomplete",u(t)).map(m)).map((t=>(this.active.find((e=>e.source==t))||new D(t,this.active.some((e=>0!=e.state))?1:0)).update(e,i)));r.length==this.active.length&&r.every(((e,t)=>e==this.active[t]))&&(r=this.active);let n=this.open;n&&e.docChanged&&(n=n.map(e.changes)),e.selection||r.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let i=0,r=0;;){for(;i<e.length&&!e[i].hasResult;)i++;for(;r<t.length&&!t[r].hasResult;)r++;let n=i==e.length,s=r==t.length;if(n||s)return n==s;if(e[i++].result!=t[r++].result)return!1}}(r,this.active)?n=C.build(r,t,this.id,n,i):n&&n.disabled&&!r.some((e=>1==e.state))&&(n=null),!n&&r.every((e=>1!=e.state))&&r.some((e=>e.hasResult()))&&(r=r.map((e=>e.hasResult()?new D(e.source,0):e)));for(let s of e.effects)s.is(I)&&(n=n&&n.setSelected(s.value,this.id));return r==this.active&&n==this.open?this:new E(r,this.id,n)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:T}}const T={"aria-autocomplete":"list"};function A(e,t){let i={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(i["aria-activedescendant"]=e+"-"+t),i}const P=[];function R(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class D{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=R(e),r=this;i?r=r.handleUserEvent(e,i,t):e.docChanged?r=r.handleChange(e):e.selection&&0!=r.state&&(r=new D(r.source,0));for(let n of e.effects)if(n.is(g))r=new D(r.source,1,n.value?u(e.state):-1);else if(n.is(v))r=new D(r.source,0);else if(n.is(L))for(let e of n.value)e.source==r.source&&(r=e);return r}handleUserEvent(e,t,i){return"delete"!=t&&i.activateOnTyping?new D(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(u(e.startState))?new D(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new D(this.source,this.state,e.mapPos(this.explicitPos))}}class M extends D{constructor(e,t,i,r,n){super(e,2,t),this.result=i,this.from=r,this.to=n}hasResult(){return!0}handleUserEvent(e,t,i){var r;let n=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=u(e.state);if((this.explicitPos<0?a<=n:a<this.from)||a>s||"delete"==t&&u(e.startState)==this.from)return new D(this.source,"input"==t&&i.activateOnTyping?1:0);let l,c=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,i,r){if(!e)return!1;let n=t.sliceDoc(i,r);return"function"==typeof e?e(n,i,r,t):d(e,!0).test(n)}(this.result.validFor,e.state,n,s)?new M(this.source,c,this.result,n,s):this.result.update&&(l=this.result.update(this.result,n,s,new o(e.state,a,c>=0)))?new M(this.source,c,l,l.from,null!==(r=l.to)&&void 0!==r?r:u(e.state)):new D(this.source,1,c)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new D(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new M(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const L=r.Py.define({map:(e,t)=>e.map((e=>e.map(t)))}),I=r.Py.define(),B=r.QQ.define({create:()=>E.start(),update:(e,t)=>e.update(t),provide:e=>[n.hJ.from(e,(e=>e.tooltip)),n.tk.contentAttributes.from(e,(e=>e.attrs))]});function N(e,t){const i=t.completion.apply||t.completion.label;let n=e.state.field(B).active.find((e=>e.source==t.source));return n instanceof M&&("string"==typeof i?e.dispatch(Object.assign(Object.assign({},function(e,t,i,n){let{main:s}=e.selection,o=i-s.from,a=n-s.from;return Object.assign(Object.assign({},e.changeByRange((l=>l!=s&&i!=n&&e.sliceDoc(l.from+o,l.from+a)!=e.sliceDoc(i,n)?{range:l}:{changes:{from:l.from+o,to:n==s.from?l.to:l.from+a,insert:t},range:r.jT.cursor(l.from+o+t.length)}))),{scrollIntoView:!0,userEvent:"input.complete"})}(e.state,i,n.from,n.to)),{annotations:f.of(t.completion)})):i(e,t.completion,n.from,n.to),!0)}const j=x(B,N);function W(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return i=>{let r=i.state.field(B,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<i.state.facet(b).interactionDelay)return!1;let s,o=1;"page"==t&&(s=(0,n.gB)(i,r.open.tooltip))&&(o=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,l=r.open.selected>-1?r.open.selected+o*(e?1:-1):e?0:a-1;return l<0?l="page"==t?0:a-1:l>=a&&(l="page"==t?a-1:0),i.dispatch({effects:I.of(l)}),!0}}class z{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Q=n.lg.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of e.state.field(B).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(B);if(!e.selectionSet&&!e.docChanged&&e.startState.field(B)==t)return;let i=e.transactions.some((e=>(e.selection||e.docChanged)&&!R(e)));for(let s=0;s<this.running.length;s++){let t=this.running[s];if(i||t.updates.length+e.transactions.length>50&&Date.now()-t.time>1e3){for(let e of t.context.abortListeners)try{e()}catch(r){(0,n.OO)(this.view.state,r)}t.context.abortListeners=null,this.running.splice(s--,1)}else t.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let n of e.transactions)"input"==R(n)?this.composing=2:2==this.composing&&n.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:e}=this.view,t=e.field(B);for(let i of t.active)1!=i.state||this.running.some((e=>e.active.source==i.source))||this.startQuery(i)}startQuery(e){let{state:t}=this.view,i=u(t),r=new o(t,i,e.explicitPos==i),s=new z(e,r);this.running.push(s),Promise.resolve(e.source(r)).then((e=>{s.context.aborted||(s.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:v.of(null)}),(0,n.OO)(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(b).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],i=this.view.state.facet(b);for(let r=0;r<this.running.length;r++){let n=this.running[r];if(void 0===n.done)continue;if(this.running.splice(r--,1),n.done){let r=new M(n.active.source,n.active.explicitPos,n.done,n.done.from,null!==(e=n.done.to)&&void 0!==e?e:u(n.updates.length?n.updates[0].startState:this.view.state));for(let e of n.updates)r=r.update(e,i);if(r.hasResult()){t.push(r);continue}}let s=this.view.state.field(B).active.find((e=>e.source==n.active.source));if(s&&1==s.state)if(null==n.done){let e=new D(n.active.source,0);for(let t of n.updates)e=e.update(t,i);1!=e.state&&t.push(e)}else this.startQuery(s)}t.length&&this.view.dispatch({effects:L.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(B,!1);if(t&&t.tooltip&&this.view.state.facet(b).closeOnBlur){let i=t.open&&(0,n.gB)(this.view,t.open.tooltip);i&&i.dom.contains(e.relatedTarget)||this.view.dispatch({effects:v.of(null)})}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:g.of(!1)})),20),this.composing=0}}}),F=n.tk.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class U{constructor(e,t,i,r){this.field=e,this.line=t,this.from=i,this.to=r}}class q{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,r.gc.TrackDel),i=e.mapPos(this.to,1,r.gc.TrackDel);return null==t||null==i?null:new q(this.field,t,i)}}class H{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],r=[t],n=e.doc.lineAt(t),o=/^\s*/.exec(n.text)[0];for(let l of this.lines){if(i.length){let i=o,n=/^\t*/.exec(l)[0].length;for(let t=0;t<n;t++)i+=e.facet(s.c);r.push(t+i.length-n),l=i+l.slice(n)}i.push(l),t+=l.length+1}let a=this.fieldPositions.map((e=>new q(e.field,r[e.line]+e.from,r[e.line]+e.to)));return{text:i,ranges:a}}static parse(e){let t,i=[],r=[],n=[];for(let s of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(s);){let e=t[1]?+t[1]:null,o=t[2]||t[3]||"",a=-1;for(let t=0;t<i.length;t++)(null!=e?i[t].seq==e:o&&i[t].name==o)&&(a=t);if(a<0){let t=0;for(;t<i.length&&(null==e||null!=i[t].seq&&i[t].seq<e);)t++;i.splice(t,0,{seq:e,name:o}),a=t;for(let e of n)e.field>=a&&e.field++}n.push(new U(a,r.length,t.index,t.index+o.length)),s=s.slice(0,t.index)+o+s.slice(t.index+t[0].length)}for(let e;e=/\\([{}])/.exec(s);){s=s.slice(0,e.index)+e[1]+s.slice(e.index+e[0].length);for(let t of n)t.line==r.length&&t.from>e.index&&(t.from--,t.to--)}r.push(s)}return new H(r,n)}}let V=n.p.widget({widget:new class extends n.l9{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),Y=n.p.mark({class:"cm-snippetField"});class X{constructor(e,t){this.ranges=e,this.active=t,this.deco=n.p.set(e.map((e=>(e.from==e.to?V:Y).range(e.from,e.to))))}map(e){let t=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;t.push(r)}return new X(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const Z=r.Py.define({map:(e,t)=>e&&e.map(t)}),G=r.Py.define(),$=r.QQ.define({create:()=>null,update(e,t){for(let i of t.effects){if(i.is(Z))return i.value;if(i.is(G)&&e)return new X(e.ranges,i.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>n.tk.decorations.from(e,(e=>e?e.deco:n.p.none))});function K(e,t){return r.jT.create(e.filter((e=>e.field==t)).map((e=>r.jT.range(e.from,e.to))))}function J(e){let t=H.parse(e);return(e,i,n,s)=>{let{text:o,ranges:a}=t.instantiate(e.state,n),l={changes:{from:n,to:s,insert:r.xv.of(o)},scrollIntoView:!0,annotations:i?f.of(i):void 0};if(a.length&&(l.selection=K(a,0)),a.length>1){let t=new X(a,0),i=l.effects=[Z.of(t)];void 0===e.state.field($,!1)&&i.push(r.Py.appendConfig.of([$,re,se,F]))}e.dispatch(e.state.update(l))}}function ee(e){return t=>{let{state:i,dispatch:r}=t,n=i.field($,!1);if(!n||e<0&&0==n.active)return!1;let s=n.active+e,o=e>0&&!n.ranges.some((t=>t.field==s+e));return r(i.update({selection:K(n.ranges,s),effects:Z.of(o?null:new X(n.ranges,s)),scrollIntoView:!0})),!0}}const te=[{key:"Tab",run:ee(1),shift:ee(-1)},{key:"Escape",run:e=>{let{state:t,dispatch:i}=e;return!!t.field($,!1)&&(i(t.update({effects:Z.of(null)})),!0)}}],ie=r.r$.define({combine:e=>e.length?e[0]:te}),re=r.Wl.highest(n.$f.compute([ie],(e=>e.facet(ie))));function ne(e,t){return Object.assign(Object.assign({},t),{apply:J(e)})}const se=n.tk.domEventHandlers({mousedown(e,t){let i,r=t.state.field($,!1);if(!r||null==(i=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let n=r.ranges.find((e=>e.from<=i&&e.to>=i));return!(!n||n.field==r.active)&&(t.dispatch({selection:K(r.ranges,n.field),effects:Z.of(r.ranges.some((e=>e.field>n.field))?new X(r.ranges,n.field):null),scrollIntoView:!0}),!0)}});const oe={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ae=r.Py.define({map(e,t){let i=t.mapPos(e,-1,r.gc.TrackAfter);return null==i?void 0:i}}),le=new class extends r.uU{};le.startSide=1,le.endSide=-1;const ce=r.QQ.define({create:()=>r.Xs.empty,update(e,t){if(t.selection){let i=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:e=>e>=i.from&&e<=i.to})}e=e.map(t.changes);for(let i of t.effects)i.is(ae)&&(e=e.update({add:[le.range(i.value,i.value+1)]}));return e}});function he(){return[me,ce]}const ue="()[]{}<>";function de(e){for(let t=0;t<ue.length;t+=2)if(ue.charCodeAt(t)==e)return ue.charAt(t+1);return(0,r.bg)(e<128?e:e+1)}function fe(e,t){return e.languageDataAt("closeBrackets",t)[0]||oe}const pe="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),me=n.tk.inputHandler.of(((e,t,i,n)=>{if((pe?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let s=e.state.selection.main;if(n.length>2||2==n.length&&1==(0,r.nZ)((0,r.gm)(n,0))||t!=s.from||i!=s.to)return!1;let o=function(e,t){let i=fe(e,e.selection.main.head),n=i.brackets||oe.brackets;for(let s of n){let o=de((0,r.gm)(s,0));if(t==s)return o==s?Oe(e,s,n.indexOf(s+s+s)>-1,i):be(e,s,o,i.before||oe.before);if(t==o&&ve(e,e.selection.main.from))return ye(e,s,o)}return null}(e.state,n);return!!o&&(e.dispatch(o),!0)})),ge=[{key:"Backspace",run:e=>{let{state:t,dispatch:i}=e;if(t.readOnly)return!1;let n=fe(t,t.selection.main.head).brackets||oe.brackets,s=null,o=t.changeByRange((e=>{if(e.empty){let i=function(e,t){let i=e.sliceString(t-2,t);return(0,r.nZ)((0,r.gm)(i,0))==i.length?i:i.slice(1)}(t.doc,e.head);for(let s of n)if(s==i&&_e(t.doc,e.head)==de((0,r.gm)(s,0)))return{changes:{from:e.head-s.length,to:e.head+s.length},range:r.jT.cursor(e.head-s.length)}}return{range:s=e}}));return s||i(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!s}}];function ve(e,t){let i=!1;return e.field(ce).between(0,e.doc.length,(e=>{e==t&&(i=!0)})),i}function _e(e,t){let i=e.sliceString(t,t+2);return i.slice(0,(0,r.nZ)((0,r.gm)(i,0)))}function be(e,t,i,n){let s=null,o=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:i,from:o.to}],effects:ae.of(o.to+t.length),range:r.jT.range(o.anchor+t.length,o.head+t.length)};let a=_e(e.doc,o.head);return!a||/\s/.test(a)||n.indexOf(a)>-1?{changes:{insert:t+i,from:o.head},effects:ae.of(o.head+t.length),range:r.jT.cursor(o.head+t.length)}:{range:s=o}}));return s?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function ye(e,t,i){let n=null,s=e.changeByRange((t=>t.empty&&_e(e.doc,t.head)==i?{changes:{from:t.head,to:t.head+i.length,insert:i},range:r.jT.cursor(t.head+i.length)}:n={range:t}));return n?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Oe(e,t,i,n){let o=n.stringPrefixes||oe.stringPrefixes,a=null,l=e.changeByRange((n=>{if(!n.empty)return{changes:[{insert:t,from:n.from},{insert:t,from:n.to}],effects:ae.of(n.to+t.length),range:r.jT.range(n.anchor+t.length,n.head+t.length)};let l,c=n.head,h=_e(e.doc,c);if(h==t){if(we(e,c))return{changes:{insert:t+t,from:c},effects:ae.of(c+t.length),range:r.jT.cursor(c+t.length)};if(ve(e,c)){let n=i&&e.sliceDoc(c,c+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:c,to:c+n.length,insert:n},range:r.jT.cursor(c+n.length)}}}else{if(i&&e.sliceDoc(c-2*t.length,c)==t+t&&(l=Se(e,c-2*t.length,o))>-1&&we(e,l))return{changes:{insert:t+t+t+t,from:c},effects:ae.of(c+t.length),range:r.jT.cursor(c+t.length)};if(e.charCategorizer(c)(h)!=r.D0.Word&&Se(e,c,o)>-1&&!function(e,t,i,r){let n=(0,s.qz)(e).resolveInner(t,-1),o=r.reduce(((e,t)=>Math.max(e,t.length)),0);for(let s=0;s<5;s++){let s=e.sliceDoc(n.from,Math.min(n.to,n.from+i.length+o)),a=s.indexOf(i);if(!a||a>-1&&r.indexOf(s.slice(0,a))>-1){let t=n.firstChild;for(;t&&t.from==n.from&&t.to-t.from>i.length+a;){if(e.sliceDoc(t.to-i.length,t.to)==i)return!1;t=t.firstChild}return!0}let l=n.to==t&&n.parent;if(!l)break;n=l}return!1}(e,c,t,o))return{changes:{insert:t+t,from:c},effects:ae.of(c+t.length),range:r.jT.cursor(c+t.length)}}return{range:a=n}}));return a?null:e.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function we(e,t){let i=(0,s.qz)(e).resolveInner(t+1);return i.parent&&i.from==t}function Se(e,t,i){let n=e.charCategorizer(t);if(n(e.sliceDoc(t-1,t))!=r.D0.Word)return t;for(let s of i){let i=t-s.length;if(e.sliceDoc(i,t)==s&&n(e.sliceDoc(i-1,i))!=r.D0.Word)return i}return-1}function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[B,b.of(e),Q,Ce,F]}const ke=[{key:"Ctrl-Space",run:e=>!!e.state.field(B,!1)&&(e.dispatch({effects:g.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(B,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:v.of(null)}),!0)}},{key:"ArrowDown",run:W(!0)},{key:"ArrowUp",run:W(!1)},{key:"PageDown",run:W(!0,"page")},{key:"PageUp",run:W(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(B,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(b).interactionDelay)&&N(e,t.open.options[t.open.selected])}}],Ce=r.Wl.highest(n.$f.computeN([b],(e=>e.facet(b).defaultKeymap?[ke]:[])))},1950:(e,t,i)=>{"use strict";i.d(t,{Vs:()=>ae});var r=i(4499);class n{constructor(e,t,i,r,n,s,o,a,l){let c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,h=arguments.length>10?arguments[10]:void 0;this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=n,this.score=s,this.buffer=o,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=h}toString(){return"[".concat(this.stack.filter(((e,t)=>t%3==0)).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}static start(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.parser.context;return new n(e,[],t,i,i,0,[],0,r?new s(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=65535&e,{parser:n}=this.p,s=n.dynamicPrecedence(r);if(s&&(this.score+=s),0==i)return this.pushState(n.getGoto(this.state,r,!0),this.reducePos),r<n.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);let o=this.stack.length-3*(i-1)-(262144&e?6:0),a=o?this.stack[o-2]:this.p.ranges[0].from,l=this.reducePos-a;l>=2e3&&!(null===(t=this.p.parser.nodeSet.types[r])||void 0===t?void 0:t.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=l):this.p.lastBigReductionSize<l&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=l));let c=o?this.stack[o-1]:0,h=this.bufferBase+this.buffer.length-c;if(r<n.minRepeatTerm||131072&e){let e=n.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,e,h+4,!0)}if(262144&e)this.state=this.stack[o];else{let e=this.stack[o-3];this.state=n.getGoto(e,r,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(r,a)}storeNode(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,r=this.buffer.length;if(0==r&&e.parent&&(r=e.bufferBase-e.parent.bufferBase,e=e.parent),r>0&&0==e.buffer[r-4]&&e.buffer[r-1]>-1){if(t==i)return;if(e.buffer[r-2]>=t)return void(e.buffer[r-2]=i)}}if(n&&this.pos!=i){let n=this.buffer.length;if(n>0&&0!=this.buffer[n-4])for(;n>0&&this.buffer[n-2]>i;)this.buffer[n]=this.buffer[n-4],this.buffer[n+1]=this.buffer[n-3],this.buffer[n+2]=this.buffer[n-2],this.buffer[n+3]=this.buffer[n-1],n-=4,r>4&&(r-=4);this.buffer[n]=e,this.buffer[n+1]=t,this.buffer[n+2]=i,this.buffer[n+3]=r}else this.buffer.push(e,t,i,r)}shift(e,t,i,r){if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let n=e,{parser:s}=this.p;(r>this.pos||t<=s.maxNode)&&(this.pos=r,s.stateFlag(n,1)||(this.reducePos=r)),this.pushState(n,i),this.shiftContext(t,i),t<=s.maxNode&&this.buffer.push(t,i,r,4)}else this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4)}apply(e,t,i,r){65536&e?this.reduce(e):this.shift(e,t,i,r)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new n(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new o(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==i)return!1;if(0==(65536&i))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let r,n=0;n<t.length;n+=2)(r=t[n+1])!=this.state&&this.p.parser.hasAction(r,e)&&i.push(t[n],r);if(this.stack.length<120)for(let e=0;i.length<8&&e<t.length;e+=2){let r=t[e+1];i.some(((e,t)=>1&t&&e==r))||i.push(t[e],r)}t=i}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let e=t[r+1];if(e==this.state)continue;let n=this.split();n.pushState(e,this.pos),n.storeNode(0,n.pos,n.pos,4,!0),n.shiftContext(t[r],this.pos),n.reducePos=this.pos,n.score-=200,i.push(n)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(0==(65536&t))return!1;if(!e.validAction(this.state,t)){let i=t>>19,r=65535&t,n=this.stack.length-3*i;if(n<0||e.getGoto(this.stack[n],r,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(r,n)=>{if(!t.includes(r))return t.push(r),e.allActions(r,(t=>{if(393216&t);else if(65536&t){let i=(t>>19)-n;if(i>1){let r=65535&t,n=this.stack.length-3*i;if(n>=0&&e.getGoto(this.stack[n],r,!1)>=0)return i<<19|65536|r}}else{let e=i(t,n+1);if(null!=e)return e}}))};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new s(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class s{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class o{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,i=e>>19;0==i?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(i-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class a{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.bufferBase+e.buffer.length;return new a(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new a(this.stack,this.pos,this.index)}}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint16Array;if("string"!=typeof e)return e;let i=null;for(let r=0,n=0;r<e.length;){let s=0;for(;;){let t=e.charCodeAt(r++),i=!1;if(126==t){s=65535;break}t>=92&&t--,t>=34&&t--;let n=t-32;if(n>=46&&(n-=46,i=!0),s+=n,i)break;s*=46}i?i[n++]=s:i=new t(s)}return i}class c{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const h=new c;class u{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=h,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,n=this.pos+e;for(;n<i.from;){if(!r)return null;let e=this.ranges[--r];n-=i.from-e.to,i=e}for(;t<0?n>i.to:n>=i.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];n+=e.from-i.to,i=e}return n}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,i,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,i=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(e,1);if(null==r)return-1;if(t=r,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,r=this.range;for(;r.to<=t;)r=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-t)),i=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),i}acceptToken(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t?this.resolveOffset(t,-1):this.pos;if(null==i||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=h,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class d{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;p(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}d.prototype.contextual=d.prototype.fallback=d.prototype.extend=!1;d.prototype.fallback=d.prototype.extend=!1;class f{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function p(e,t,i,r,n,s){let o=0,a=1<<r,{dialect:l}=i.p.parser;e:for(;0!=(a&e[o]);){let i=e[o+1];for(let u=o+3;u<i;u+=2)if((e[u+1]&a)>0){let i=e[u];if(l.allows(i)&&(-1==t.token.value||t.token.value==i||g(i,t.token.value,n,s))){t.acceptToken(i);break}}let r=t.next,c=0,h=e[o+2];if(!(t.next<0&&h>c&&65535==e[i+3*h-3])){for(;c<h;){let n=c+h>>1,s=i+n+(n<<1),a=e[s],l=e[s+1]||65536;if(r<a)h=n;else{if(!(r>=l)){o=e[s+2],t.advance();continue e}c=n+1}}break}o=e[i+3*h-1]}}function m(e,t,i){for(let r,n=t;65535!=(r=e[n]);n++)if(r==i)return n-t;return-1}function g(e,t,i,r){let n=m(i,r,t);return n<0||m(i,r,e)<n}const v="undefined"!=typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&/\bparse\b/.test({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.LOG);let _=null;function b(e,t,i){let n=e.cursor(r.vj.IncludeAnonymous);for(n.moveTo(t);;)if(!(i<0?n.childBefore(t):n.childAfter(t)))for(;;){if((i<0?n.to<t:n.from>t)&&!n.type.isError)return i<0?Math.max(0,Math.min(n.to-1,t-25)):Math.min(e.length,Math.max(n.from+1,t+25));if(i<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return i<0?0:e.length}}class y{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?b(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?b(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],n=this.index[t];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],o=this.start[t]+i.positions[n];if(o>e)return this.nextStart=o,null;if(s instanceof r.mp){if(o==e){if(o<this.safeFrom)return null;let e=o+s.length;if(e<=this.safeTo){let t=s.prop(r.md.lookAhead);if(!t||e+t<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class O{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new c))}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:n}=r,s=r.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,a=0;for(let l=0;l<n.length;l++){if(0==(1<<l&s))continue;let r=n[l],c=this.tokens[l];if((!i||r.fallback)&&((r.contextual||c.start!=e.pos||c.mask!=s||c.context!=o)&&(this.updateCachedToken(c,r,e),c.mask=s,c.context=o),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let n=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!r.extend&&(i=c,t>n))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),i||e.pos!=this.stream.end||(i=new c,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new c,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:t}=i.p;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let n=t.specializers[r](this.stream.read(e.start,e.end),i);if(n>=0&&i.p.parser.dialect.allows(n>>1)){0==(1&n)?e.value=n>>1:e.extended=n>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let n=0;n<r;n+=3)if(this.actions[n]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:n}=e,{parser:s}=e.p,{data:o}=s;for(let a=0;a<2;a++)for(let e=s.stateSlot(n,a?2:1);;e+=3){if(65535==o[e]){if(1!=o[e+1]){0==r&&2==o[e+1]&&(r=this.putAction(E(o,e+2),t,i,r));break}e=E(o,e+2)}o[e]==t&&(r=this.putAction(E(o,e+1),t,i,r))}return r}}class w{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new u(t,r),this.tokens=new O(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[n.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>4*e.bufferLength?new y(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,i=this.stacks,r=this.minStackPos,n=this.stacks=[];if(this.bigReductionCount>300&&1==i.length){let[e]=i;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<i.length;s++){let o=i[s];for(;;){if(this.tokens.mainToken=null,o.pos>r)n.push(o);else{if(this.advanceStack(o,n,i))continue;{e||(e=[],t=[]),e.push(o);let i=this.tokens.getMainToken(o);t.push(i.value,i.end)}}break}}if(!n.length){let t=e&&function(e){let t=null;for(let i of e){let e=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=e&&i.pos>e)&&i.p.parser.stateFlag(i.state,2)&&(!t||t.score<i.score)&&(t=i)}return t}(e);if(t)return v&&console.log("Finish with "+this.stackID(t)),this.stackToTree(t);if(this.parser.strict)throw v&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){let i=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,n);if(i)return v&&console.log("Force-finish "+this.stackID(i)),this.stackToTree(i.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(n.length>e)for(n.sort(((e,t)=>t.score-e.score));n.length>e;)n.pop();n.some((e=>e.reducePos>r))&&this.recovering--}else if(n.length>1){e:for(let e=0;e<n.length-1;e++){let t=n[e];for(let i=e+1;i<n.length;i++){let r=n[i];if(t.sameState(r)||t.buffer.length>500&&r.buffer.length>500){if(!((t.score-r.score||t.buffer.length-r.buffer.length)>0)){n.splice(e--,1);continue e}n.splice(i--,1)}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let s=1;s<n.length;s++)n[s].pos<this.minStackPos&&(this.minStackPos=n[s].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let n=e.pos,{parser:s}=this,o=v?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,i=t?e.curContext.hash:0;for(let a=this.fragments.nodeAt(n);a;){let n=this.parser.nodeSet.types[a.type.id]==a.type?s.getGoto(e.state,a.type.id):-1;if(n>-1&&a.length&&(!t||(a.prop(r.md.contextHash)||0)==i))return e.useNode(a,n),v&&console.log(o+this.stackID(e)+" (via reuse of ".concat(s.getName(a.type.id),")")),!0;if(!(a instanceof r.mp)||0==a.children.length||a.positions[0]>0)break;let l=a.children[0];if(!(l instanceof r.mp&&0==a.positions[0]))break;a=l}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),v&&console.log(o+this.stackID(e)+" (via always-reduce ".concat(s.getName(65535&a),")")),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let r=0;r<l.length;){let a=l[r++],c=l[r++],h=l[r++],u=r==l.length||!i,d=u?e:e.split(),f=this.tokens.mainToken;if(d.apply(a,c,f?f.start:d.pos,h),v&&console.log(o+this.stackID(d)+" (via ".concat(0==(65536&a)?"shift":"reduce of ".concat(s.getName(65535&a))," for ").concat(s.getName(c)," @ ").concat(n).concat(d==e?"":", split",")")),u)return!0;d.pos>n?t.push(d):i.push(d)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return S(e,t),!0}}runRecovery(e,t,i){let r=null,n=!1;for(let s=0;s<e.length;s++){let o=e[s],a=t[s<<1],l=t[1+(s<<1)],c=v?this.stackID(o)+" -> ":"";if(o.deadEnd){if(n)continue;if(n=!0,o.restart(),v&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))continue}let h=o.split(),u=c;for(let e=0;h.forceReduce()&&e<10;e++){if(v&&console.log(u+this.stackID(h)+" (via force-reduce)"),this.advanceFully(h,i))break;v&&(u=this.stackID(h)+" -> ")}for(let e of o.recoverByInsert(a))v&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,i);this.stream.end>o.pos?(l==o.pos&&(l++,a=0),o.recoverByDelete(a,l),v&&console.log(c+this.stackID(o)+" (via recover-delete ".concat(this.parser.getName(a),")")),S(o,i)):(!r||r.score<o.score)&&(r=o)}return r}stackToTree(e){return e.close(),r.mp.build({buffer:a.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(_||(_=new WeakMap)).get(e);return t||_.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function S(e,t){for(let i=0;i<t.length;i++){let r=t[i];if(r.pos==e.pos&&r.sameState(e))return void(t[i].score<e.score&&(t[i]=e))}t.push(e)}class x{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||0==this.disabled[e]}}const k=e=>e;class C extends r._b{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError("Parser version (".concat(e.version,") doesn't match runtime version (",14,")"));let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let r=0;r<e.repeatNodeCount;r++)t.push("");let i=Object.keys(e.topRules).map((t=>e.topRules[t][1])),n=[];for(let r=0;r<t.length;r++)n.push([]);function s(e,t,i){n[e].push([t,t.deserialize(String(i))])}if(e.nodeProps)for(let a of e.nodeProps){let e=a[0];"string"==typeof e&&(e=r.md[e]);for(let t=1;t<a.length;){let i=a[t++];if(i>=0)s(i,e,a[t++]);else{let r=a[t+-i];for(let n=-i;n>0;n--)s(a[t++],e,r);t++}}}this.nodeSet=new r.Lj(t.map(((t,s)=>r.Jq.define({name:s>=this.minRepeatTerm?void 0:t,id:s,props:n[s],top:i.indexOf(s)>-1,error:0==s,skipped:e.skippedNodes&&e.skippedNodes.indexOf(s)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=r.L3;let o=l(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let r=0;r<this.specializerSpecs.length;r++)this.specialized[r]=this.specializerSpecs[r].term;this.specializers=this.specializerSpecs.map(T),this.states=l(e.states,Uint32Array),this.data=l(e.stateData),this.goto=l(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new d(o,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new w(this,e,t,i);for(let n of this.wrappers)r=n(r,e,t,i);return r}getGoto(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.goto;if(t>=r[0])return-1;for(let n=r[t+1];;){let t=r[n++],s=1&t,o=r[n++];if(s&&i)return o;for(let i=n+(t>>1);n<i;n++)if(r[n]==e)return o;if(s)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let n,s=this.stateSlot(e,r?2:1);;s+=3){if(65535==(n=i[s])){if(1!=i[s+1]){if(2==i[s+1])return E(i,s+2);break}n=i[s=E(i,s+2)]}if(n==t||0==n)return E(i,s+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,(e=>e==t||null))}allActions(e,t){let i=this.stateSlot(e,4),r=i?t(i):void 0;for(let n=this.stateSlot(e,1);null==r;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=E(this.data,n+2)}r=t(E(this.data,n+1))}return r}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=E(this.data,i+2)}if(0==(1&this.data[i+2])){let e=this.data[i+1];t.some(((t,i)=>1&i&&t==e))||t.push(this.data[i],e)}}return t}configure(e){let t=Object.assign(Object.create(C.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError("Invalid top rule name ".concat(e.top));t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let i=e.tokenizers.find((e=>e.from==t));return i?i.to:t}))),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map(((i,r)=>{let n=e.specializers.find((e=>e.from==i.external));if(!n)return i;let s=Object.assign(Object.assign({},i),{external:n.to});return t.specializers[r]=T(s),s}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map((()=>!1));if(e)for(let n of e.split(" ")){let e=t.indexOf(n);e>=0&&(i[e]=!0)}let r=null;for(let n=0;n<t.length;n++)if(!i[n])for(let e,i=this.dialects[t[n]];65535!=(e=this.data[i++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[e]=1;return new x(e,i,r)}static deserialize(e){return new C(e)}}function E(e,t){return e[t]|e[t+1]<<16}function T(e){if(e.external){let t=e.extend?1:0;return(i,r)=>e.external(i,r)<<1|t}return e.get}var A=i(4200);const P=new Set([27,51,52,270,67,133,58,59,251,64,65,74,62,63,154,155,158,115]);function R(e){return 10==e||13==e}const D=new f(((e,t)=>{let i;if(e.next<0)e.acceptToken(206);else if(t.context.depth<0)R(e.next)&&e.acceptToken(205,1);else if(((i=e.peek(-1))<0||R(i))&&t.canShift(204)){let t=0;for(;32==e.next||9==e.next;)e.advance(),t++;10!=e.next&&13!=e.next&&35!=e.next||e.acceptToken(204,-t)}else R(e.next)&&e.acceptToken(203,1)}),{contextual:!0}),M=new f(((e,t)=>{let i=t.context.depth;if(i<0)return;let r=e.peek(-1);if(10==r||13==r){let t=0,r=0;for(;;){if(32==e.next)t++;else{if(9!=e.next)break;t+=8-t%8}e.advance(),r++}t!=i&&10!=e.next&&13!=e.next&&35!=e.next&&(t<i?e.acceptToken(202,-r):e.acceptToken(201))}}));function L(e,t){this.parent=e,this.depth=t,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)}const I=new L(null,0);const B=new class{constructor(e){this.start=e.start,this.shift=e.shift||k,this.reduce=e.reduce||k,this.reuse=e.reuse||k,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}({start:I,reduce:(e,t)=>e.depth<0&&P.has(t)?e.parent:e,shift:(e,t,i,r)=>201==t?new L(e,function(e){let t=0;for(let i=0;i<e.length;i++)t+=9==e.charCodeAt(i)?8-t%8:1;return t}(r.read(r.pos,i.pos))):202==t?e.parent:26==t||57==t||61==t?new L(e,-1):e,hash:e=>e.hash}),N=new f((e=>{for(let t=0;t<5;t++){if(e.next!="print".charCodeAt(t))return;e.advance()}if(!/\w/.test(String.fromCharCode(e.next)))for(let t=0;;t++){let i=e.peek(t);if(32!=i&&9!=i)return void(40!=i&&46!=i&&10!=i&&13!=i&&35!=i&&e.acceptToken(1))}}));function j(e,t,i,r,n){return new f((s=>{let o=s.pos;for(;!(s.next<0);)if(123==s.next){if(123!=s.peek(1)){if(s.pos==o)return void s.acceptToken(r,1);break}s.advance(2)}else if(92==s.next)s.advance(),s.next>=0&&s.advance();else{if(s.next==e&&(1==t||s.peek(1)==e&&s.peek(2)==e)){if(s.pos==o)return void s.acceptToken(n,t);break}s.advance()}s.pos>o&&s.acceptToken(i)}))}const W=j(39,1,207,2,208),z=j(34,1,209,3,210),Q=j(39,3,211,4,212),F=j(34,3,213,5,214),U=(0,A.Gv)({'async "*" "**" FormatConversion FormatSpec':A.pJ.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":A.pJ.controlKeyword,"in not and or is del":A.pJ.operatorKeyword,"from def class global nonlocal lambda":A.pJ.definitionKeyword,import:A.pJ.moduleKeyword,"with as print":A.pJ.keyword,Boolean:A.pJ.bool,None:A.pJ.null,VariableName:A.pJ.variableName,"CallExpression/VariableName":A.pJ.function(A.pJ.variableName),"FunctionDefinition/VariableName":A.pJ.function(A.pJ.definition(A.pJ.variableName)),"ClassDefinition/VariableName":A.pJ.definition(A.pJ.className),PropertyName:A.pJ.propertyName,"CallExpression/MemberExpression/PropertyName":A.pJ.function(A.pJ.propertyName),Comment:A.pJ.lineComment,Number:A.pJ.number,String:A.pJ.string,FormatString:A.pJ.special(A.pJ.string),UpdateOp:A.pJ.updateOperator,"ArithOp!":A.pJ.arithmeticOperator,BitOp:A.pJ.bitwiseOperator,CompareOp:A.pJ.compareOperator,AssignOp:A.pJ.definitionOperator,Ellipsis:A.pJ.punctuation,At:A.pJ.meta,"( )":A.pJ.paren,"[ ]":A.pJ.squareBracket,"{ }":A.pJ.brace,".":A.pJ.derefOperator,", ;":A.pJ.separator}),q={__proto__:null,await:48,or:58,and:60,in:64,not:66,is:68,if:74,else:76,lambda:80,yield:98,from:100,async:106,for:108,None:168,True:170,False:170,del:184,pass:188,break:192,continue:196,return:200,raise:208,import:212,as:214,global:218,nonlocal:220,assert:224,type:229,elif:242,while:246,try:252,except:254,finally:256,with:260,def:264,class:274,match:285,case:291},H=C.deserialize({version:14,states:"#&jO`Q#yOOP$bOSOOO%kQ&nO'#HcOOQS'#Cq'#CqOOQS'#Cr'#CrO'ZQ#xO'#CpO(|Q&nO'#HbOOQS'#Hc'#HcOOQS'#DW'#DWOOQS'#Hb'#HbO)jQ#xO'#DaO)}Q#xO'#DhO*_Q#xO'#DlOOQS'#Dw'#DwO*rO,UO'#DwO*zO7[O'#DwO+SOWO'#DxO+_O`O'#DxO+jOpO'#DxO+uO!bO'#DxO-wQ&nO'#HSOOQS'#HS'#HSO'ZQ#xO'#HRO/ZQ&nO'#HROOQS'#Ee'#EeO/rQ#xO'#EfOOQS'#HQ'#HQO/|Q#xO'#HPOOQV'#HP'#HPO0XQ#xO'#F]OOQS'#Ge'#GeO0^Q#xO'#F[OOQV'#IY'#IYOOQV'#HO'#HOOOQV'#Ft'#FtQ`Q#yOOO'ZQ#xO'#CsO0lQ#xO'#DPO0sQ#xO'#DTO1RQ#xO'#HgO1cQ&nO'#EYO'ZQ#xO'#EZOOQS'#E]'#E]OOQS'#E_'#E_OOQS'#Ea'#EaO1wQ#xO'#EcO2_Q#xO'#EgO0XQ#xO'#EiO2rQ&nO'#EiO0XQ#xO'#ElO/rQ#xO'#EoO0XQ#xO'#EqO/rQ#xO'#EwO/rQ#xO'#EzO2}Q#xO'#E|O3UQ#xO'#FRO3aQ#xO'#E}O/rQ#xO'#FRO0XQ#xO'#FTO0XQ#xO'#FYO3fQ#xO'#F_P3mO#xO'#G}POOO)CBq)CBqOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Ck'#CkOOQS'#Cl'#ClOOQS'#Cn'#CnO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO3xQ#xO'#DqOOQS,5:[,5:[O4]Q#xO'#HqOOQS,5:_,5:_O4jQMlO,5:_O4oQ&nO,59[O0lQ#xO,59dO0lQ#xO,59dO0lQ#xO,59dO7_Q#xO,59dO7dQ#xO,59dO7kQ#xO,59lO7rQ#xO'#HbO8xQ#xO'#HaOOQS'#Ha'#HaOOQS'#D^'#D^O9aQ#xO,59cO'ZQ#xO,59cO9oQ#xO,59cOOQS,59{,59{O9tQ#xO,5:TO'ZQ#xO,5:TOOQS,5:S,5:SO:SQ#xO,5:SO:XQ#xO,5:ZO'ZQ#xO,5:ZO'ZQ#xO,5:XOOQS,5:W,5:WO:jQ#xO,5:WO:oQ#xO,5:YOOOO'#F|'#F|O:tO,UO,5:cOOQS,5:c,5:cOOOO'#F}'#F}O:|O7[O,5:cO;UQ#xO'#DyOOOW'#GO'#GOO;fOWO,5:dOOQS,5:d,5:dO;UQ#xO'#D}OOO`'#GR'#GRO;qO`O,5:dO;UQ#xO'#EOOOOp'#GS'#GSO;|OpO,5:dO;UQ#xO'#EPOOO!b'#GT'#GTO<XO!bO,5:dOOQS'#GU'#GUO<dQ&nO,5:lO?UQ&nO,5=mO?oQ!LUO,5=mO@`Q&nO,5=mOOQS,5;Q,5;QO@wQ#yO'#G_OBZQ#xO,5;aOOQV,5=k,5=kOBfQ&nO'#ITOB}Q#xO,5;wOOQS-E:c-E:cOOQV,5;v,5;vO3[Q#xO'#FTOOQV-E9r-E9rOCVQ&nO,59_OE^Q&nO,59kOEwQ#xO'#HdOFSQ#xO'#HdO0XQ#xO'#HdOF_Q#xO'#DVOFgQ#xO,59oOFlQ#xO'#HhO'ZQ#xO'#HhO/rQ#xO,5>ROOQS,5>R,5>RO/rQ#xO'#EUOOQS'#EV'#EVOGZQ#xO'#GWOGkQ#xO,59OOGkQ#xO,59OO)pQ#xO,5:rOGyQ&nO'#HjOOQS,5:u,5:uOOQS,5:},5:}OH^Q#xO,5;ROHoQ#xO,5;TOOQS'#GZ'#GZOH}Q&nO,5;TOI]Q#xO,5;TOIbQ#xO'#IWOOQS,5;W,5;WOIpQ#xO'#ISOOQS,5;Z,5;ZOJRQ#xO,5;]O3aQ#xO,5;cO3aQ#xO,5;fOJZQ&nO'#IZO'ZQ#xO'#IZOJeQ#xO,5;hO2}Q#xO,5;hO/rQ#xO,5;mO0XQ#xO,5;oOJjQ#yO'#ExOKvQ#{O,5;iO! [Q#xO'#I[O3aQ#xO,5;mO! gQ#xO,5;oO! oQ#xO,5;tO! zQ&nO,5;yO'ZQ#xO,5;yPOOO,5=i,5=iP!!ROSO,5=iP!!WO#xO,5=iO!${Q&nO1G.lO!%SQ&nO1G.lO!'sQ&nO1G.lO!'}Q&nO1G.lO!*hQ&nO1G.lO!*{Q&nO1G.lO!+`Q#xO'#HpO!+nQ&nO'#HSO/rQ#xO'#HpO!+xQ#xO'#HoOOQS,5:],5:]O!,QQ#xO,5:]O!,VQ#xO'#HrO!,bQ#xO'#HrO!,uQ#xO,5>]OOQS'#Du'#DuOOQS1G/y1G/yOOQS1G/O1G/OO!-uQ&nO1G/OO!-|Q&nO1G/OO0lQ#xO1G/OO!.iQ#xO1G/WOOQS'#D]'#D]O/rQ#xO,59vOOQS1G.}1G.}O!.pQ#xO1G/gO!/QQ#xO1G/gO!/YQ#xO1G/hO'ZQ#xO'#HiO!/_Q#xO'#HiO!/dQ&nO1G.}O!/tQ#xO,59kO!0zQ#xO,5>XO!1[Q#xO,5>XO!1dQ#xO1G/oO!1iQ&nO1G/oOOQS1G/n1G/nO!1yQ#xO,5>SO!2pQ#xO,5>SO/rQ#xO1G/sO!3_Q#xO1G/uO!3dQ&nO1G/uO!3tQ&nO1G/sOOQS1G/r1G/rOOQS1G/t1G/tOOOO-E9z-E9zOOQS1G/}1G/}OOOO-E9{-E9{O!4UQ#xO'#H|O/rQ#xO'#H|O!4dQ#xO,5:eOOOW-E9|-E9|OOQS1G0O1G0OO!4oQ#xO,5:iOOO`-E:P-E:PO!4zQ#xO,5:jOOOp-E:Q-E:QO!5VQ#xO,5:kOOO!b-E:R-E:ROOQS-E:S-E:SO!5bQ!LUO1G3XO!6RQ&nO1G3XO'ZQ#xO,5<qOOQS,5<q,5<qOOQS-E:T-E:TOOQS,5<y,5<yOOQS-E:]-E:]OOQV1G0{1G0{O0XQ#xO'#GYO!6jQ&nO,5>oOOQS1G1c1G1cO!7RQ#xO1G1cOOQS'#DX'#DXO/rQ#xO,5>OOOQS,5>O,5>OO!7WQ#xO'#FuO!7cQ#xO,59qO!7kQ#xO1G/ZO!7uQ&nO,5>SOOQS1G3m1G3mOOQS,5:p,5:pO!8fQ#xO'#HROOQS,5<r,5<rOOQS-E:U-E:UO!8wQ#xO1G.jOOQS1G0^1G0^O!9VQ#xO,5>UO!9gQ#xO,5>UO/rQ#xO1G0mO/rQ#xO1G0mO0XQ#xO1G0oOOQS-E:X-E:XO!9xQ#xO1G0oO!:TQ#xO1G0oO!:YQ#xO,5>rO!:hQ#xO,5>rO!:vQ#xO,5>nO!;^Q#xO,5>nO!;oQ#xO'#EsO/rQ#xO1G0wO!;zQ#xO1G0wO!<PQ#{O1G0}O!?bQ#{O1G1QO!BpQ#xO,5>uO!BzQ#xO,5>uO!CSQ&nO,5>uO/rQ#xO1G1SO!C^Q#xO1G1SO3aQ#xO1G1XO! gQ#xO1G1ZOOQV,5;d,5;dO!CcQ#zO,5;dO!ChQ#{O1G1TO!F|Q#xO'#GbO3aQ#xO1G1TO3aQ#xO1G1TO!G^Q#xO,5>vO!GkQ#xO,5>vO0XQ#xO,5>vOOQV1G1X1G1XO!GsQ#xO'#FVO!HUQMlO1G1ZO!H^Q#xO1G1ZOOQV1G1`1G1`O3aQ#xO1G1`O!HcQ#xO1G1`O!HkQ#xO'#FaOOQV1G1e1G1eO! zQ&nO1G1ePOOO1G3T1G3TP!HpOSO1G3TOOQS,5>[,5>[OOQS'#Dr'#DrO/rQ#xO,5>[O!HuQ#xO,5>ZO!IYQ#xO,5>ZOOQS1G/w1G/wO!IbQ#xO,5>^O!IrQ#xO,5>^O!IzQ#xO,5>^O!J_Q#xO,5>^O!JoQ#xO,5>^OOQS1G3w1G3wOOQS7+$j7+$jO!7kQ#xO7+$rO!LbQ#xO1G/OO!LiQ#xO1G/OOOQS1G/b1G/bOOQS,5<c,5<cO'ZQ#xO,5<cOOQS7+%R7+%RO!LpQ#xO7+%ROOQS-E9u-E9uOOQS7+%S7+%SO!MQQ#xO,5>TO'ZQ#xO,5>TOOQS7+$i7+$iO!MVQ#xO7+%RO!M_Q#xO7+%SO!MdQ#xO1G3sOOQS7+%Z7+%ZO!MtQ#xO1G3sO!M|Q#xO7+%ZOOQS,5<b,5<bO'ZQ#xO,5<bO!NRQ#xO1G3nOOQS-E9t-E9tO!NxQ#xO7+%_OOQS7+%a7+%aO# WQ#xO1G3nO# uQ#xO7+%aO# zQ#xO1G3tO#![Q#xO1G3tO#!dQ#xO7+%_O#!iQ#xO,5>hO##PQ#xO,5>hO##PQ#xO,5>hO##_O$ISO'#D{O##jO#tO'#H}OOOW1G0P1G0PO##oQ#xO1G0POOO`1G0T1G0TO##wQ#xO1G0TOOOp1G0U1G0UO#$PQ#xO1G0UOOO!b1G0V1G0VO#$XQ#xO1G0VO#$aQ!LUO7+(sO#%QQ&nO1G2]P#%kQ#xO'#GVOOQS,5<t,5<tOOQS-E:W-E:WOOQS7+&}7+&}OOQS1G3j1G3jOOQS,5<a,5<aOOQS-E9s-E9sOOQS7+$u7+$uO#%xQ#xO,5=mO#&cQ#xO,5=mO#&tQ&nO,5<dO#'XQ#xO1G3pOOQS-E9v-E9vOOQS7+&X7+&XO#'iQ#xO7+&XOOQS7+&Z7+&ZO#'wQ#xO'#IVO0XQ#xO'#IUO#(]Q#xO7+&ZOOQS,5<w,5<wO#(hQ#xO1G4^OOQS-E:Z-E:ZOOQS,5<s,5<sO#(vQ#xO1G4YOOQS-E:V-E:VO0XQ#xO'#EtO#)^Q#xO'#EtO#)iQ#xO'#IXO#)qQ#xO,5;_OOQS7+&c7+&cO/rQ#xO7+&cO#)vQ#{O7+&iO!GPQ#xO'#G`O3aQ#xO7+&iO3aQ#xO7+&lO#-XQ&nO,5<{O'ZQ#xO,5<{O#-cQ#xO1G4aOOQS-E:_-E:_O#-mQ#xO1G4aO3aQ#xO7+&nO/rQ#xO7+&nOOQV7+&s7+&sO!HUQMlO7+&uO!H^Q#xO7+&uO`Q#yO1G1OOOQV-E:`-E:`O3aQ#xO7+&oO3aQ#xO7+&oOOQV,5<|,5<|O#-uQ#xO,5<|O!GPQ#xO,5<|OOQV7+&o7+&oO#.QQ#{O7+&oO#1`Q#xO,5<}O#1kQ#xO1G4bOOQS-E:a-E:aO#1xQ#xO1G4bO#2QQ#xO'#I^O#2`Q#xO'#I^O0XQ#xO'#I^OOQS'#I^'#I^O#2kQ#xO'#I]OOQS,5;q,5;qO#2sQ#xO,5;qO/rQ#xO'#FXOOQV7+&u7+&uO3aQ#xO7+&uOOQV7+&z7+&zO3aQ#xO7+&zO#2xQ#zO,5;{OOQV7+'P7+'PPOOO7+(o7+(oO#2}Q#xO1G3vOOQS,5<f,5<fO#3]Q#xO1G3uOOQS-E9x-E9xO#3pQ#xO,5<gO#3{Q#xO,5<gO#4`Q#xO1G3xOOQS-E9y-E9yO#4pQ#xO1G3xO#4xQ#xO1G3xO#5YQ#xO1G3xO#4pQ#xO1G3xOOQS<<H^<<H^O#5eQ&nO1G1}OOQS<<Hm<<HmP#5rQ#xO'#FwO7kQ#xO1G3oO#6PQ#xO1G3oO#6UQ#xO<<HmOOQS<<Hn<<HnO#6fQ#xO7+)_OOQS<<Hu<<HuO#6vQ&nO1G1|P#7gQ#xO'#FvO#7tQ#xO7+)`O#8UQ#xO7+)`O#8^Q#xO<<HyO#8cQ#xO7+)YOOQS<<H{<<H{O#9YQ#xO,5<eO'ZQ#xO,5<eOOQS-E9w-E9wOOQS<<Hy<<HyOOQS,5<k,5<kO/rQ#xO,5<kO#9_Q#xO1G4SOOQS-E9}-E9}O#9uQ#xO1G4SO;UQ#xO'#D|OOOO'#GQ'#GQO#:TO$ISO,5:gOOO#l,5>i,5>iOOOW7+%k7+%kOOO`7+%o7+%oOOOp7+%p7+%pOOO!b7+%q7+%qO#:`Q#xO1G3XO#:yQ#xO1G3XP'ZQ#xO'#FxO/rQ#xO<<IsO#;[Q#xO,5>qO#;mQ#xO,5>qO0XQ#xO,5>qO#<OQ#xO,5>pOOQS<<Iu<<IuP0XQ#xO'#G]P/rQ#xO'#GXOOQS,5;`,5;`O#<TQ#xO,5>sO#<cQ#xO,5>sOOQS1G0y1G0yOOQS<<I}<<I}OOQV-E:^-E:^O3aQ#xO<<JTOOQV,5<z,5<zO3aQ#xO,5<zOOQV<<JT<<JTOOQV<<JW<<JWO#<kQ&nO1G2gP#<uQ#xO'#GaO#<|Q#xO7+){O#=WQ#{O<<JYO3aQ#xO<<JYOOQV<<Ja<<JaO3aQ#xO<<JaO!HUQMlO<<JaO#@fQ#{O7+&jOOQV<<JZ<<JZO#@pQ#{O<<JZOOQV1G2h1G2hO0XQ#xO1G2hO#DOQ#xO1G2hO3aQ#xO<<JZO0XQ#xO1G2iP/rQ#xO'#GcO#DZQ#xO7+)|O#DhQ#xO7+)|OOQS'#FW'#FWO/rQ#xO,5>xO#DpQ#xO,5>xOOQS,5>x,5>xO#D{Q#xO,5>wO#E^Q#xO,5>wOOQS1G1]1G1]OOQS,5;s,5;sOOQV<<Jf<<JfO#EfQ#xO1G1gOOQS7+)b7+)bP#EkQ#xO'#FzO#E{Q#xO1G2RO#F`Q#xO1G2RO#FpQ#xO1G2RP#F{Q#xO'#F{O#GYQ#xO7+)dO#GjQ#xO7+)dO#GjQ#xO7+)dO#GrQ#xO7+)dO#HSQ#xO7+)ZO7kQ#xO7+)ZOOQSAN>XAN>XO#HmQ#xO<<LzOOQSAN>eAN>eO/rQ#xO1G2PO#H}Q&nO1G2PP#IXQ#xO'#FyOOQS1G2V1G2VP#IfQ#xO'#GPO#IsQ#xO7+)nO#JZQ#xO,5:hOOOO-E:O-E:OO#JfQ#xO7+(sOOQSAN?_AN?_O#KPQ#xO,5<vO#KeQ#xO1G4]OOQS-E:Y-E:YO#KvQ#xO1G4]OOQS1G4[1G4[OOQS,5<x,5<xO#LXQ#xO1G4_OOQS-E:[-E:[OOQVAN?oAN?oOOQV1G2f1G2fO3aQ#xOAN?tO#LgQ#{OAN?tOOQVAN?{AN?{O3aQ#xOAN?{OOQV<<JU<<JUO3aQ#xOAN?uO3aQ#xO7+(SOOQV7+(S7+(SO0XQ#xO7+(SOOQVAN?uAN?uOOQS7+(T7+(TO$ uQ#xO<<MhOOQS1G4d1G4dO/rQ#xO1G4dOOQS,5=O,5=OO$!SQ#xO1G4cOOQS-E:b-E:bOOQU'#Gf'#GfO$!eQ#zO7+'RO$!pQ#xO'#FbO$#hQ#xO7+'mO$#xQ#xO7+'mOOQS7+'m7+'mO$$TQ#xO<<MOO$$eQ#xO<<MOO$$eQ#xO<<MOO$$mQ#xO'#HkOOQS<<Lu<<LuO$$wQ#xO<<LuOOQS7+'k7+'kOOOO1G0S1G0SO$%bQ#xO1G0SO0XQ#xO1G2bP0XQ#xO'#G[O$%jQ#xO7+)wO$%{Q#xO7+)wP!;oQ#xO'#G^OOQVG25`G25`O3aQ#xOG25`OOQVG25gG25gOOQVG25aG25aOOQV<<Kn<<KnO3aQ#xO<<KnOOQS7+*O7+*OP$&^Q#xO'#GdOOQU-E:d-E:dOOQV<<Jm<<JmO$'QQ&nO'#FdOOQS'#Ff'#FfO$'bQ#xO'#FeO$(SQ#xO'#FeOOQS'#Fe'#FeO$(XQ#xO'#I`O$!pQ#xO'#FlO$!pQ#xO'#FlO$(pQ#xO'#FmO$!pQ#xO'#FnO$(wQ#xO'#IaOOQS'#Ia'#IaO$)fQ#xO,5;|OOQS<<KX<<KXO$)nQ#xO<<KXO$*OQ#xOANBjO$*`Q#xOANBjO$*hQ#xO'#HlOOQS'#Hl'#HlO0sQ#xO'#DeO$+RQ#xO,5>VOOQSANBaANBaOOOO7+%n7+%nOOQS7+'|7+'|O$+jQ#xO<<McOOQVLD*zLD*zOOQVANAYANAYO4jQMlO'#GhO$+{Q&nO,5<VO$!pQ#xO'#FpOOQS,5<Z,5<ZOOQS'#Fg'#FgO$,mQ#xO,5<PO$,rQ#xO,5<POOQS'#Fj'#FjO$!pQ#xO'#GgO$-dQ#xO,5<TO$.OQ#xO,5>zO$.`Q#xO,5>zO0XQ#xO,5<SO$.qQ#xO,5<WO$.vQ#xO,5<WO$!pQ#xO'#IbO$.{Q#xO'#IbO$/QQ#xO,5<XOOQS,5<Y,5<YO'ZQ#xO'#FsOOQU1G1h1G1hO3aQ#xO1G1hOOQSAN@sAN@sO$/VQ#xOG28UO$/gQ#xO,5:POOQS1G3q1G3qOOQS,5=S,5=SOOQS-E:f-E:fO$/lQ&nO'#FdO$/sQ#xO'#IcO$0RQ#xO'#IcO$0ZQ#xO,5<[OOQS1G1k1G1kO$0`Q#xO1G1kO$0eQ#xO,5=ROOQS-E:e-E:eO$1PQ#xO,5=VO$1hQ#xO1G4fOOQS-E:i-E:iOOQS1G1n1G1nOOQS1G1r1G1rO$1xQ#xO,5>|O$!pQ#xO,5>|OOQS1G1s1G1sO$2WQ&nO,5<_OOQU7+'S7+'SO$$mQ#xO1G/kO$!pQ#xO,5<]O$2_Q#xO,5>}O$2fQ#xO,5>}OOQS1G1v1G1vOOQS7+'V7+'VP$!pQ#xO'#GkO$2nQ#xO1G4hO$2xQ#xO1G4hO$3QQ#xO1G4hOOQS7+%V7+%VO$3`Q#xO1G1wO$3nQ&nO'#FdO$3uQ#xO,5=UOOQS,5=U,5=UO$4TQ#xO1G4iOOQS-E:h-E:hO$!pQ#xO,5=TO$4[Q#xO,5=TO$4aQ#xO7+*SOOQS-E:g-E:gO$4kQ#xO7+*SO$!pQ#xO,5<^P$!pQ#xO'#GjO$4sQ#xO1G2oO$!pQ#xO1G2oP$5RQ#xO'#GiO$5YQ#xO<<MnO$5dQ#xO1G1xO$5rQ#xO7+(ZO7kQ#xO'#DPO7kQ#xO,59dO7kQ#xO,59dO7kQ#xO,59dO$6QQ&nO,5=mO7kQ#xO1G/OO/rQ#xO1G/ZO/rQ#xO7+$rP$6eQ#xO'#GVO'ZQ#xO'#HRO$6rQ#xO,59dO$6wQ#xO,59dO$7OQ#xO,59oO$7TQ#xO1G/WO0sQ#xO'#DTO7kQ#xO,59l",stateData:"$7f~O%pOS%eOSUOS%dPQ~OPiOXfOhtOjYOquOu!UOxvO!RwO!S!QO!V!XO!W!WO!ZZO!_[O!jeO!ueO!veO!weO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO#o!VO#r!YO#v!ZO#x![O#}!]O$QmO$S!^O%|RO%}RO&RSO&SWO&h]O&i^O&l_O&o`O&saO&tbO&ucO~O%d!_O~OX!fOa!fOc!gOj!nO!Z!pO!h!rO%w!aO%x!bO%y!cO%z!dO%{!dO%|!eO%}!eO&O!fO&P!fO&Q!fO~Om&VXn&VXo&VXp&VXq&VXr&VXu&VX|&VX}&VX!{&VX#j&VX%c&VX%f&VX&X&VXi&VX!V&VX!W&VX&Y&VX!Y&VX!^&VX!S&VX#_&VXv&VX!n&VX~P$gOhtOjYO!ZZO!_[O!jeO!ueO!veO!weO%|RO%}RO&RSO&SWO&h]O&i^O&l_O&o`O&saO&tbO&ucO~O|&UX}&UX#j&UX%c&UX%f&UX&X&UX~Om!uOn!vOo!tOp!tOq!wOr!xOu!yO!{&UX~P(hOX#POi#ROq0zOx1YO!RwO~P'ZOX#TOq0zOx1YO!Y#UO~P'ZOX#XOc#YOq0zOx1YO!^#ZO~P'ZO&j#^O&k#`O~O&m#aO&n#`O~OQ#cO%g#dO%h#fO~OR#gO%i#hO%j#fO~OS#jO%k#kO%l#fO~OT#mO%m#nO%n#fO~OX%vXa%vXc%vXj%vXm%vXn%vXo%vXp%vXq%vXr%vXu%vX|%vX!Z%vX!h%vX%w%vX%x%vX%y%vX%z%vX%{%vX%|%vX%}%vX&O%vX&P%vX&Q%vXi%vX!V%vX!W%vX~O&h]O&i^O&l_O&o`O&saO&tbO&ucO}%vX!{%vX#j%vX%c%vX%f%vX&X%vX&Y%vX!Y%vX!^%vX!S%vX#_%vXv%vX!n%vX~P,QO|#sO}%uX!{%uX#j%uX%c%uX%f%uX&X%uX~Oq0zOx1YO~P'ZO#j#vO%c#xO%f#xO~O&SWO~O!V#}O#x![O#}!]O$QmO~OquO~P'ZOX$SOc$TO&SWO}yP~OX$XOq0zOx1YO!S$YO~P'ZO}$[O!{$aO&X$]O#j!|X%c!|X%f!|X~OX$XOq0zOx1YO#j#VX%c#VX%f#VX~P'ZOq0zOx1YO#j#ZX%c#ZX%f#ZX~P'ZO!h$gO!u$gO&SWO~OX$rO~P'ZO!W$tO#v$uO#x$vO~O}$wO~OX%OO~P'ZOU%QO%c%PO%p%RO~OX%[Oc%[Oi%^Oq0zOx1YO~P'ZOq0zOx1YO}%aO~P'ZO&g%cO~Oc!gOj!nO!Z!pO!h!rOXdaadamdandaodapdaqdardauda|da}da!{da#jda%cda%fda%wda%xda%yda%zda%{da%|da%}da&Oda&Pda&Qda&Xdaida!Vda!Wda&Yda!Yda!^da!Sda#_davda!nda~Op%hO~Oq%hO~P'ZOq0zO~P'ZOm0|On0}Oo0{Op0{Oq1UOr1VOu1ZOi&UX!V&UX!W&UX&Y&UX!Y&UX!^&UX!S&UX#_&UX!n&UX~P(hO&Y%jOi&TX|&TX!V&TX!W&TX!Y&TX}&TX~Oi%lO|%mO!V%qO!W%pO~Oi%lO~O|%tO!V%qO!W%pO!Y&aX~O!Y%xO~O|%yO}%{O!V%qO!W%pO!^&[X~O!^&PO~O!^&QO~O&j#^O&k&SO~O&m#aO&n&SO~OX&VOq0zOx1YO!RwO~P'ZOQ#cO%g#dO%h&YO~OR#gO%i#hO%j&YO~OS#jO%k#kO%l&YO~OT#mO%m#nO%n&YO~OX!taa!tac!taj!tam!tan!tao!tap!taq!tar!tau!ta|!ta}!ta!Z!ta!h!ta!{!ta#j!ta%c!ta%f!ta%w!ta%x!ta%y!ta%z!ta%{!ta%|!ta%}!ta&O!ta&P!ta&Q!ta&X!tai!ta!V!ta!W!ta&Y!ta!Y!ta!^!ta!S!ta#_!tav!ta!n!ta~P#yO|&bO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~P$gOX&dOquOxvO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~P'ZO|&bO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO#j%RX%c%RX%f%RX~P'ZO#j#vO%c&iO%f&iO~O!h&jOj&wX%c&wX#_&wX#j&wX%f&wX#^&wX~Oj!nO%c&lO~Omgangaogapgaqgargauga|ga}ga!{ga#jga%cga%fga&Xgaiga!Vga!Wga&Yga!Yga!^ga!Sga#_gavga!nga~P$gOusa|sa}sa#jsa%csa%fsa&Xsa~Om!uOn!vOo!tOp!tOq!wOr!xO!{sa~PDuO&X&nO|&WX}&WX~O&SWO|&WX}&WX~O|&qO}yX~O}&sO~O|%yO#j&[X%c&[X%f&[Xi&[X}&[X!^&[X!n&[X&X&[X~OX1TOq0zOx1YO!RwO~P'ZO&X$]O#jWa%cWa%fWa~O|&|O#j&^X%c&^X%f&^Xp&^X~P$gO|'PO!S'OO#j#Za%c#Za%f#Za~O#_'QO#j#]a%c#]a%f#]a~O!h$gO!u$gO#^'SO&SWO~O#^'SO~O|'UO#j&zX%c&zX%f&zX~O|'WO#j&vX%c&vX%f&vX}&vX~O!Z'YO&X'ZO~O|'_Op&}X~P$gOp'bO~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO%c'gO~P'ZOv'kO#s'iO#t'jOP#qaX#qah#qaj#qaq#qau#qax#qa!R#qa!S#qa!V#qa!W#qa!Z#qa!_#qa!j#qa!u#qa!v#qa!w#qa#O#qa#Q#qa#S#qa#U#qa#W#qa#[#qa#^#qa#a#qa#b#qa#d#qa#f#qa#o#qa#r#qa#v#qa#x#qa#}#qa$Q#qa$S#qa%`#qa%|#qa%}#qa&R#qa&S#qa&h#qa&i#qa&l#qa&o#qa&s#qa&t#qa&u#qa%b#qa%f#qa~O|'lO#_'nO}'OX~Oj'pO!Z'YO~Oj!nO}$wO!Z'YO~O}'vO~P$gO%c'yO~OU'zO%c'yO~OX!fOa!fOc!gOj!nO!Z!pO!h!rO%y!cO%z!dO%{!dO%|!eO%}!eO&O!fO&P!fO&Q!fOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~O%x!bO~P!!`O%xYi~P!!`OX!fOa!fOc!gOj!nO!Z!pO!h!rO%|!eO%}!eO&O!fO&P!fO&Q!fOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi%xYi%yYi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~O%z!dO%{!dO~P!%ZO%zYi%{Yi~P!%ZOc!gOj!nO!Z!pO!h!rOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi%xYi%yYi%zYi%{Yi%|Yi%}Yi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~OX!fOa!fO&O!fO&P!fO&Q!fO~P!(XOXYiaYi&OYi&PYi&QYi~P!(XO!V%qO!W%pOi&dX|&dX~O&X'|O&Y'|O~P,QO|(OOi&cX~Oi(QO~O|(RO}(TO!Y&fX~Oq0zOx1YO|(RO}(UO!Y&fX~P'ZO!Y(WO~Oo!tOp!tOq!wOr!xOmliuli|li}li!{li#jli%cli%fli&Xli~On!vO~P!,zOnli~P!,zOm0|On0}Oo0{Op0{Oq1UOr1VO~Ov(YO~P!.TOX(_Oi(`Oq0zOx1YO~P'ZOi(`O|(aO~Oi(cO~O!W(eO~Oi(fO|(aO!V%qO!W%pO~P$gOm0|On0}Oo0{Op0{Oq1UOr1VOisa!Vsa!Wsa&Ysa!Ysa!^sa!Ssa#_savsa!nsa~PDuOX(_Oq0zOx1YO!Y&aa~P'ZO|(iO!Y&aa~O!Y(jO~O|(iO!V%qO!W%pO!Y&aa~P$gOX(nOq0zOx1YO!^&[a#j&[a%c&[a%f&[ai&[a}&[a!n&[a&X&[a~P'ZO|(oO!^&[a#j&[a%c&[a%f&[ai&[a}&[a!n&[a&X&[a~O!^(rO~O|(oO!V%qO!W%pO!^&[a~P$gO|(uO!V%qO!W%pO!^&ba~P$gO|(xO}&pX!^&pX!n&pX~O}({O!^(}O!n)OO~O}({O!^)PO!n)QO~O}({O!^)RO!n)SO~O}({O!^)TO!n)UO~OX&dOquOxvO}%ui!{%ui#j%ui%c%ui%f%ui&X%ui~P'ZO|)VO}%ui!{%ui#j%ui%c%ui%f%ui&X%ui~O!h&jOj&wa%c&wa#_&wa#j&wa%f&wa#^&wa~O%c)[O~OX$SOc$TO&SWO~O|&qO}ya~OquOxvO~P'ZO|(oO#j&[a%c&[a%f&[ai&[a}&[a!^&[a!n&[a&X&[a~P$gO|)aO#j%uX%c%uX%f%uX&X%uX~O&X$]O#jWi%cWi%fWi~O#j&^a%c&^a%f&^ap&^a~P'ZO|)dO#j&^a%c&^a%f&^ap&^a~OX)hOj)jO&SWO~O#^)kO~O&SWO#j&za%c&za%f&za~O|)mO#j&za%c&za%f&za~Oq0zOx1YO#j&va%c&va%f&va}&va~P'ZO|)pO#j&va%c&va%f&va}&va~OX)rOc)rO&SWO~O&X)wO~Ov)zO#m)yOP#kiX#kih#kij#kiq#kiu#kix#ki!R#ki!S#ki!V#ki!W#ki!Z#ki!_#ki!j#ki!u#ki!v#ki!w#ki#O#ki#Q#ki#S#ki#U#ki#W#ki#[#ki#^#ki#a#ki#b#ki#d#ki#f#ki#o#ki#r#ki#v#ki#x#ki#}#ki$Q#ki$S#ki%`#ki%|#ki%}#ki&R#ki&S#ki&h#ki&i#ki&l#ki&o#ki&s#ki&t#ki&u#ki%b#ki%f#ki~Ov){OP#niX#nih#nij#niq#niu#nix#ni!R#ni!S#ni!V#ni!W#ni!Z#ni!_#ni!j#ni!u#ni!v#ni!w#ni#O#ni#Q#ni#S#ni#U#ni#W#ni#[#ni#^#ni#a#ni#b#ni#d#ni#f#ni#o#ni#r#ni#v#ni#x#ni#}#ni$Q#ni$S#ni%`#ni%|#ni%}#ni&R#ni&S#ni&h#ni&i#ni&l#ni&o#ni&s#ni&t#ni&u#ni%b#ni%f#ni~OX)}Op&}a~P'ZO|*OOp&}a~O|*OOp&}a~P$gOp*SO~O%a*WO~Ov*ZO#s'iO#t*YOP#qiX#qih#qij#qiq#qiu#qix#qi!R#qi!S#qi!V#qi!W#qi!Z#qi!_#qi!j#qi!u#qi!v#qi!w#qi#O#qi#Q#qi#S#qi#U#qi#W#qi#[#qi#^#qi#a#qi#b#qi#d#qi#f#qi#o#qi#r#qi#v#qi#x#qi#}#qi$Q#qi$S#qi%`#qi%|#qi%}#qi&R#qi&S#qi&h#qi&i#qi&l#qi&o#qi&s#qi&t#qi&u#qi%b#qi%f#qi~OX*^Oq0zOx1YO}$wO~P'ZOq0zOx1YO}'Oa~P'ZO|*bO}'Oa~OX*fOc*gOi*jO&O*hO&SWO~O}$wO'R*lO~Oj'pO~Oj!nO}$wO~O%c*qO~O%c*sO~OX%[Oc%[Oq0zOx1YOi&ca~P'ZO|*vOi&ca~Oq0zOx1YO}*yO!Y&fa~P'ZO|*zO!Y&fa~Oq0zOx1YO|*zO}*}O!Y&fa~P'ZOq0zOx1YO|*zO!Y&fa~P'ZO|*zO}*}O!Y&fa~Oo0{Op0{Oq1UOr1VOilimliuli|li!Vli!Wli&Yli!Yli}li!^li#jli%cli%fli!Sli#_livli!nli&Xli~On0}O~P!JzOnli~P!JzOX(_Oi+SOq0zOx1YO~P'ZOp+UO~Oi+SO|+WO~Oi+XO~OX(_Oq0zOx1YO!Y&ai~P'ZO|+YO!Y&ai~O!Y+ZO~OX(nOq0zOx1YO!^&[i#j&[i%c&[i%f&[ii&[i}&[i!n&[i&X&[i~P'ZO|+^O!V%qO!W%pO!^&bi~O|+aO!^&[i#j&[i%c&[i%f&[ii&[i}&[i!n&[i&X&[i~O!^+bO~Oc+dOq0zOx1YO!^&bi~P'ZO|+^O!^&bi~O!^+fO~OX+hOq0zOx1YO}&pa!^&pa!n&pa~P'ZO|+iO}&pa!^&pa!n&pa~O!_+lO&r+mO!^!oX~O!^+oO~O}({O!^+pO~O}({O!^+qO~O}({O!^+rO~O}({O!^+sO~OX&dOquOxvO}%uq!{%uq#j%uq%c%uq%f%uq&X%uq~P'ZO|$yi}$yi!{$yi#j$yi%c$yi%f$yi&X$yi~P$gOX&dOquOxvO~P'ZOX&dOq0zOx1YO#j%ua%c%ua%f%ua&X%ua~P'ZO|+tO#j%ua%c%ua%f%ua&X%ua~O|$la#j$la%c$la%f$lap$la~P$gO#j&^i%c&^i%f&^ip&^i~P'ZO|+wO#j#Zq%c#Zq%f#Zq~O|+xO#_+zO#j&yX%c&yX%f&yXi&yX~OX+|Oj)jO&SWO~O&SWO#j&zi%c&zi%f&zi~Oq0zOx1YO#j&vi%c&vi%f&vi}&vi~P'ZO}$[O|#hX!Y#hX~O|,QO!Y&{X~O!Y,SO~Ov,VO#m)yOP#kqX#kqh#kqj#kqq#kqu#kqx#kq!R#kq!S#kq!V#kq!W#kq!Z#kq!_#kq!j#kq!u#kq!v#kq!w#kq#O#kq#Q#kq#S#kq#U#kq#W#kq#[#kq#^#kq#a#kq#b#kq#d#kq#f#kq#o#kq#r#kq#v#kq#x#kq#}#kq$Q#kq$S#kq%`#kq%|#kq%}#kq&R#kq&S#kq&h#kq&i#kq&l#kq&o#kq&s#kq&t#kq&u#kq%b#kq%f#kq~Op%Ta|%Ta~P$gOX)}Op&}i~P'ZO|,^Op&}i~O|,hO}$wO#_,hO~O#t,jOP#qqX#qqh#qqj#qqq#qqu#qqx#qq!R#qq!S#qq!V#qq!W#qq!Z#qq!_#qq!j#qq!u#qq!v#qq!w#qq#O#qq#Q#qq#S#qq#U#qq#W#qq#[#qq#^#qq#a#qq#b#qq#d#qq#f#qq#o#qq#r#qq#v#qq#x#qq#}#qq$Q#qq$S#qq%`#qq%|#qq%}#qq&R#qq&S#qq&h#qq&i#qq&l#qq&o#qq&s#qq&t#qq&u#qq%b#qq%f#qq~O#_,kO|%Va}%Va~Oq0zOx1YO}'Oi~P'ZO|,mO}'Oi~O}$[O&X,oOi'QX|'QX~O&SWOi'QX|'QX~O|,sOi'PX~Oi,uO~O%a,xO~O!V%qO!W%pOi&di|&di~OX%[Oc%[Oq0zOx1YOi&ci~P'ZO},{O|$oa!Y$oa~Oq0zOx1YO},|O|$oa!Y$oa~P'ZOq0zOx1YO}*yO!Y&fi~P'ZO|-PO!Y&fi~Oq0zOx1YO|-PO!Y&fi~P'ZO|-PO}-SO!Y&fi~Oi$ki|$ki!Y$ki~P$gOX(_Oq0zOx1YO~P'ZOp-UO~OX(_Oi-VOq0zOx1YO~P'ZOX(_Oq0zOx1YO!Y&aq~P'ZO|$ji!^$ji#j$ji%c$ji%f$jii$ji}$ji!n$ji&X$ji~P$gOX(nOq0zOx1YO~P'ZOc+dOq0zOx1YO!^&bq~P'ZO|-WO!^&bq~O!^-XO~OX(nOq0zOx1YO!^&[q#j&[q%c&[q%f&[qi&[q}&[q!n&[q&X&[q~P'ZO}-YO~OX+hOq0zOx1YO}&pi!^&pi!n&pi~P'ZO|-_O}&pi!^&pi!n&pi~O!_+lO&r+mO!^!oa~OX&dOq0zOx1YO#j%ui%c%ui%f%ui&X%ui~P'ZO|-bO#j%ui%c%ui%f%ui&X%ui~O&SWO#j&ya%c&ya%f&yai&ya~O|-eO#j&ya%c&ya%f&yai&ya~Oi-hO~OX)rOc)rO&SWO!Y&{a~O|-jO!Y&{a~Op%Ti|%Ti~P$gOX)}O~P'ZOX)}Op&}q~P'ZOv-nOP#pyX#pyh#pyj#pyq#pyu#pyx#py!R#py!S#py!V#py!W#py!Z#py!_#py!j#py!u#py!v#py!w#py#O#py#Q#py#S#py#U#py#W#py#[#py#^#py#a#py#b#py#d#py#f#py#o#py#r#py#v#py#x#py#}#py$Q#py$S#py%`#py%|#py%}#py&R#py&S#py&h#py&i#py&l#py&o#py&s#py&t#py&u#py%b#py%f#py~O%b-rO%f-rO~P`O#t-sOP#qyX#qyh#qyj#qyq#qyu#qyx#qy!R#qy!S#qy!V#qy!W#qy!Z#qy!_#qy!j#qy!u#qy!v#qy!w#qy#O#qy#Q#qy#S#qy#U#qy#W#qy#[#qy#^#qy#a#qy#b#qy#d#qy#f#qy#o#qy#r#qy#v#qy#x#qy#}#qy$Q#qy$S#qy%`#qy%|#qy%}#qy&R#qy&S#qy&h#qy&i#qy&l#qy&o#qy&s#qy&t#qy&u#qy%b#qy%f#qy~O|-vO}$wO#_-vO~Oq0zOx1YO}'Oq~P'ZO|-yO}'Oq~O&X,oOi'Qa|'Qa~OX*fOc*gO&O*hO&SWOi'Pa~O|-}Oi'Pa~O$V.RO~OX%[Oc%[Oq0zOx1YO~P'ZOq0zOx1YO}.SO|$oi!Y$oi~P'ZOq0zOx1YO|$oi!Y$oi~P'ZO}.SO|$oi!Y$oi~Oq0zOx1YO}*yO~P'ZOq0zOx1YO}*yO!Y&fq~P'ZO|.VO!Y&fq~Oq0zOx1YO|.VO!Y&fq~P'ZOu.YO!V%qO!W%pOi&]q!Y&]q!^&]q|&]q~P!.TOc+dOq0zOx1YO!^&by~P'ZO|$mi!^$mi~P$gOc+dOq0zOx1YO~P'ZOX+hOq0zOx1YO~P'ZOX+hOq0zOx1YO}&pq!^&pq!n&pq~P'ZO}({O!^.^O!n._O~OX&dOq0zOx1YO#j%uq%c%uq%f%uq&X%uq~P'ZO#_.`O|%Oa#j%Oa%c%Oa%f%Oai%Oa~O&SWO#j&yi%c&yi%f&yii&yi~O|.bO#j&yi%c&yi%f&yii&yi~OX)rOc)rO&SWO!Y&{i~Ov.fOP#p!RX#p!Rh#p!Rj#p!Rq#p!Ru#p!Rx#p!R!R#p!R!S#p!R!V#p!R!W#p!R!Z#p!R!_#p!R!j#p!R!u#p!R!v#p!R!w#p!R#O#p!R#Q#p!R#S#p!R#U#p!R#W#p!R#[#p!R#^#p!R#a#p!R#b#p!R#d#p!R#f#p!R#o#p!R#r#p!R#v#p!R#x#p!R#}#p!R$Q#p!R$S#p!R%`#p!R%|#p!R%}#p!R&R#p!R&S#p!R&h#p!R&i#p!R&l#p!R&o#p!R&s#p!R&t#p!R&u#p!R%b#p!R%f#p!R~Oq0zOx1YO}'Oy~P'ZOX*fOc*gO&O*hO&SWOi'Pi~O$V.RO%b.nO%f.nO~OX.xOj.vO!Z.uO!_.wO!j.qO!v.sO!w.sO%}.pO&SWO&h]O&i^O&l_O~Oq0zOx1YO|$oq!Y$oq~P'ZO}.}O|$oq!Y$oq~Oq0zOx1YO}*yO!Y&fy~P'ZO|/OO!Y&fy~Oq0zOx/SO~P'ZOu.YO!V%qO!W%pOi&]y!Y&]y!^&]y|&]y~P!.TO}({O!^/VO~O&SWO#j&yq%c&yq%f&yqi&yq~O|/XO#j&yq%c&yq%f&yqi&yq~OX*fOc*gO&O*hO&SWO~Oj/^O!h/[O|$WX#_$WX%w$WXi$WX~Ou$WX}$WX!Y$WX!^$WX~P$&lO%|/`O%}/`Ou$XX|$XX}$XX#_$XX%w$XX!Y$XXi$XX!^$XX~O!j/bO~O|/fO#_/hO%w/cOu'SX}'SX!Y'SXi'SX~Oc/kO~P$!|Oj/^Ou'TX|'TX}'TX#_'TX%w'TX!Y'TXi'TX!^'TX~Ou/oO}$wO~Oq0zOx1YO|$oy!Y$oy~P'ZOq0zOx1YO}*yO!Y&f!R~P'ZO|/sO!Y&f!R~Oi&`Xu&`X!V&`X!W&`X!Y&`X!^&`X|&`X~P!.TOu.YO!V%qO!W%pOi&_a!Y&_a!^&_a|&_a~O&SWO#j&yy%c&yy%f&yyi&yy~O!h/[Oj$_au$_a|$_a}$_a#_$_a%w$_a!Y$_ai$_a!^$_a~O!j/|O~O%|/`O%}/`Ou$Xa|$Xa}$Xa#_$Xa%w$Xa!Y$Xai$Xa!^$Xa~O%w/cOu$]a|$]a}$]a#_$]a!Y$]ai$]a!^$]a~Ou'Sa}'Sa!Y'Sai'Sa~P$!pO|0ROu'Sa}'Sa!Y'Sai'Sa~O!Y0UO~Oi0UO~O}0WO~O!^0XO~Oq0zOx1YO}*yO!Y&f!Z~P'ZO}0[O~O&X0]O~P$&lO|0^O#_/hO%w/cOi'VX~O|0^Oi'VX~Oi0`O~O!j0aO~O#_/hOu%Za|%Za}%Za%w%Za!Y%Zai%Za!^%Za~O#_/hO%w/cOu%_a|%_a}%_a!Y%_ai%_a~Ou'Si}'Si!Y'Sii'Si~P$!pO|0cO#_/hO%w/cO!^'Ua~O}$ga~P$gOi'Va~P$!pO|0kOi'Va~Oc0mO!^'Ui~P$!|O|0oO!^'Ui~O|0oO#_/hO%w/cO!^'Ui~O#_/hO%w/cOi$ei|$ei~O&X0rO~P$&lO#_/hO%w/cOi%^a|%^a~Oi'Vi~P$!pO}0uO~Oc0mO!^'Uq~P$!|O|0wO!^'Uq~O#_/hO%w/cO|%]i!^%]i~Oc0mO~P$!|Oc0mO!^'Uy~P$!|O#_/hO%w/cOi$fi|$fi~O#_/hO%w/cO|%]q!^%]q~O|+tO#j%ua%c%ua%f%ua&X%ua~P$gOX&dOq0zOx1YO~P'ZOp1PO~Oq1PO~P'ZO}1QO~Ov1RO~P!.TO&i&l&t&u&h&o&s&S&h~",goto:"!?b'WPPPPPPPP'XP'a*|+f,P,k-W-tP.cP'a/S/S'aPPP'a2oPPPPPP2o5fPP5fP7y8S>fPP>i?Z?^PP'a'aPP?vPP'a'aPP'a'a'a'a'a?z@t'aP@wP@}EXHxPH|IYI^IbIf'aPPPIjIs'XP'X'XP'XP'XP'XP'XP'X'X'XP'XPP'XPP'XP'XPIyJVJ_PJfJlPJfPJfJfPPPJfPLzPMTM_MeLzPJfMnPJfPMuM{PNPNe! S! mNPNP! s!!QNPNPNPNP!!f!!l!!o!!t!!w!#R!#X!#e!#w!#}!$X!$_!${!%R!%X!%_!%i!%o!%u!%{!&R!&X!&k!&u!&{!'R!'X!'c!'i!'o!'u!'{!(V!(]!(g!(m!(v!(|!)]!)e!)o!)vPPPPPPPPPPPPPPPPP!)|!*P!*V!*`!*j!*uPPPPPPPPPPPP!/l!1Q!5T!8hPP!8p!9S!9]!:U!9{!:_!:e!:h!:k!:n!:v!;gPPPPPPPPP!;j!;yPPPP!<i!<u!=R!=X!=b!=e!=h!=n!=t!=z!=}P!>V!>`!?[!?_]jOs#v$w*W,d(TeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1Z}!hQ#r$P$b$q$}%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!P!iQ#r$P$b$q$}%S%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!R!jQ#r$P$b$q$}%S%T%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!T!kQ#r$P$b$q$}%S%T%U%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!V!lQ#r$P$b$q$}%S%T%U%V%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!X!mQ#r$P$b$q$}%S%T%U%V%W%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!]!mQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O(TTOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1Z&iVOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/s0[0z0{0|0}1P1Q1R1S1V1Z%sXOYZ[isw}!O!S!U!V!Z!n!p#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-W-Y-[-^-_-b-y-{.S.V.}/O/s1Q1R1SQ$VvQ/t/SR1W1Y'zeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZW#ym!P!Q$hW$Rv&q/S1YQ$j!RQ$n!TQ${![Q$|!]W%Z!n(O*v,zS&p$S$TQ'e$vQ)Y&jQ)h'QU)i'S)j)kU)l'U)m+}W)s'Y,Q-j.dQ*d'nW*e'p,s-}.lQ,P)rS,r*f*gY-d+x-e.a.b/XQ-g+zQ-t,hQ-x,kQ.j-vl.o.R.u.v.x/d/f/k0R0W0]0b0m0r0uQ/W.`Q/l.wQ/x/^Q0T/hU0h0^0k0sX0n0c0o0v0wR&o$R!_!|YZ!U!V!p%a%m%t(R(T(U(a(i)y*y*z*}+T+W+Y,{,|-O-P-S.S.V.}/O/sR%k!{Q#QYQ&W#cQ&Z#gQ&]#jQ&_#mQ&x$^Q&{$aR-`+lT/R.Y0[![!oQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1OQ&m#zQ't$|R*p'uR'}%ZQ%d!rR/v/[(SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZS#pd#q!P.s.R.u.v.w.x/^/d/f/k0R0W0]0^0b0c0k0m0o0r0s0u0v0w(SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZT#pd#qT#d`#ee(|&W&Z&]&_)O)Q)S)U-`._T+m({+nT#ha#iT#kb#lT#nc#oQ$`xQ,P)sR,q*eX$^x$_$`&zQ'[$nQ'r${Q'u$|R*V'eQ)t'YV-i,Q-j.dZlOs$w*W,dXpOs*W,dQ$x!YQ']$oQ'^$pQ'o$zQ's$|Q*T'dQ*['iQ*_'jQ*`'kQ*m'qS*o't'uQ,W)yQ,Y)zQ,Z){Q,_*RS,a*U*nQ,e*YQ,f*ZS,g*]*^Q,w*pQ-l,VQ-m,XQ-o,`S-p,b,cQ-u,iQ-w,jQ.e-nQ.g-qQ.h-sQ.i-tQ/Y.fQ/Z.jQ/p.{R0Z/qWpOs*W,dR#|oQ'q${S*U'e'rR,c*VQ,p*eR-{,qQ*n'qQ,b*UR-q,cZnOos*W,dQ'w$}R*r'xT.P,x.Qu.z.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0ut.z.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0uQ/l.wX0n0c0o0v0w!P.r.R.u.v.w.x/^/d/f/k0R0W0]0^0b0c0k0m0o0r0s0u0v0wQ/a.qR/}/bg/d.t/e/y0Q0V0e0g0i0t0x0yu.y.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0uX/_.o.y/x0hR/z/^V0j0^0k0sR/q.{QsOS$Os,dR,d*WQ&r$UR)_&rS%z#W$WS(p%z(sT(s%}&tQ%n#OQ%u#SW(b%n%u(g(kQ(g%rR(k%wQ&}$bR)e&}Q(v&OQ+_(qT+e(v+_Q(P%]R*w(PS(S%`%aY*{(S*|-Q.W/PU*|(T(U(VU-Q*}+O+PS.W-R-SR/P.XQ#_^R&R#_Q#b_R&T#bQ#e`R&X#eQ(y&US+j(y+kR+k(zQ+n({R-a+nQ#iaR&[#iQ#lbR&^#lQ#ocR&`#oQ#qdR&a#qQ#tgQ&c#rW&f#t&c)b+uQ)b&wR+u1OQ$_xS&y$_&zR&z$`Q'X$lR)q'XQ&k#yR)Z&kQ$h!QR'R$hQ+y)iS-f+y.cR.c-gQ'V$jR)n'VQ,R)tR-k,RQ#wkR&h#wQ)x']R,U)xQ'`$qS*P'`*QR*Q'aQ'h$xR*X'hQ'm$yS*c'm,nR,n*dQ,t*iR.O,tWoOs*W,dR#{oQ.Q,xR.m.Qd/e.t/y0Q0V0e0g0i0t0x0yR0P/eU/].o/x0hR/w/]Q0d0VS0p0d0qR0q0eS0_/y/zR0l0_Q/g.tR0S/gR!`PXrOs*W,dWqOs*W,dR'f$wYkOs$w*W,dR&g#v[xOs#v$w*W,dR&x$^&hQOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/s0[0z0{0|0}1P1Q1R1S1V1ZQ!sTQ#rfQ$PtU$by%p(eS$q!W$tQ$}!^Q%S!hQ%T!iQ%U!jQ%V!kQ%W!lQ%X!mQ%r#PQ%w#TQ%}#XQ&O#YQ&t$XQ'a$rQ'x%OQ)W&dU)c&|)d+vW)|'_*O,],^Q+R(_Q+[(nQ,[)}Q-Z+dQ0Y/oR1O1TQ#OYQ#SZQ$o!UQ$p!VQ%`!pQ(V%a^(^%m%t(a(i+T+W+Y^*x(R*z-O-P.V/O/sQ+O(TQ+P(UQ,X)yQ,}*yQ-R*}Q.T,{Q.U,|Q.X-SQ.|.SR/r.}[gOs#v$w*W,d!^!{YZ!U!V!p%a%m%t(R(T(U(a(i)y*y*z*}+T+W+Y,{,|-O-P-S.S.V.}/O/sQ#W[Q#uiS$Ww}Q$e!OW$l!S$a'b*SS$y!Z$uW%Y!n(O*v,zY&U#c#g#j#m+l`&e#s&b)V)X)a+t-b1SQ&u$YQ&v$[Q&w$^Q'{%[Q(]%kW(m%y(o+]+aQ(q%{Q(z&VQ)]&oS)`&s1QQ)f'OQ)g'PU)o'W)p,OQ)v'ZQ*]'iY*a'l*b,l,m-yQ*t'}S+Q(Y1RW+c(u+^-W-[W+g(x+i-^-_Q,T)wQ,i*^Q,v*lQ-]+hQ-c+wQ-z,pQ.]-YR.k-{hUOs#s#v$w&b&s(Y)V)X*W,d%Y!zYZ[iw}!O!S!U!V!Z!n!p#c#g#j#m$Y$[$^$a$u%[%a%k%m%t%y%{&V&o'O'P'W'Z'b'i'l'}(O(R(T(U(a(i(o(u(x)a)p)w)y*S*^*b*l*v*y*z*}+T+W+Y+]+^+a+h+i+l+t+w,O,l,m,p,z,{,|-O-P-S-W-Y-[-^-_-b-y-{.S.V.}/O/s1Q1R1SQ$QuW%e!t!x0{1VQ%f!uQ%g!vQ%i!yQ%s0zS(X%h1PQ(Z0|Q([0}Q-T+UQ.[-US/Q.Y0[R1X1ZU$Uv/S1YR)^&q[hOs#v$w*W,da!}Y#c#g#j#m$^$a+lQ#][Q$ZwR$d}Q%o#OQ%v#SQ%|#WQ'{%YQ(h%rQ(l%wQ(t%}Q(w&OQ+`(qQ,y*tQ.Z-TQ/U.[R/u/TQ$cyQ(d%pR+V(eQ/T.YR0f0[R#VZR#[[R%_!nQ%]!nV*u(O*v,z!]!qQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1OR%b!pQ&W#cQ&Z#gQ&]#jQ&_#mR-`+lQ(}&WQ)P&ZQ)R&]Q)T&_Q+p)OQ+q)QQ+r)SQ+s)UQ.^-`R/V._Q$m!SQ&{$aQ*R'bR,`*SQ#zmQ$f!PQ$i!QR'T$hQ)h'SR+|)kQ)h'SQ+{)jR+|)kR$k!RR)u'YXqOs*W,dQ$s!WR'c$tQ$z!ZR'd$uR*k'pQ*i'pV-|,s-}.lQ.{.RQ/i.uR/j.vU.t.R.u.vQ/n.xQ/y/^Q0O/dU0Q/f0R0bQ0V/kQ0e0WQ0g0]U0i0^0k0sQ0t0mQ0x0rR0y0uR/m.wR/{/^",nodeNames:"\u26a0 print { { { { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec FormatReplacement FormatReplacement FormatReplacement FormatReplacement ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:283,context:B,nodeProps:[["group",-15,8,88,90,91,93,95,97,99,101,102,103,105,108,111,113,"Statement Statement",-22,10,20,23,27,42,51,52,58,59,62,63,64,65,66,69,72,73,74,82,83,84,85,"Expression",-10,117,119,122,124,125,129,131,136,138,141,"Statement",-9,146,147,150,151,153,154,155,156,157,"Pattern"],["openedBy",25,"(",56,"[",60,"{"],["closedBy",26,")",57,"]",61,"}"]],propSources:[U],skippedNodes:[0,6],repeatNodeCount:38,tokenData:"%-W#sR!`OX%TXY=|Y[%T[]=|]p%Tpq=|qr@_rsDOst!+|tu%Tuv!Nnvw#!|wx#$Wxy#:Uyz#;Yz{#<^{|#>x|}#@S}!O#AW!O!P#Ci!P!Q#N_!Q!R$!y!R![$&w![!]$1e!]!^$3s!^!_$4w!_!`$7c!`!a$8m!a!b%T!b!c$;U!c!d$<b!d!e$>W!e!h$<b!h!i$H[!i!t$<b!t!u%#r!u!w$<b!w!x$Fl!x!}$<b!}#O%%z#O#P?d#P#Q%'O#Q#R%(S#R#S$<b#S#T%T#T#U$<b#U#V$>W#V#Y$<b#Y#Z$H[#Z#f$<b#f#g%#r#g#i$<b#i#j$Fl#j#o$<b#o#p%)^#p#q%*S#q#r%+^#r#s%,S#s$g%T$g;'S$<b;'S;=`$>Q<%lO$<b!n%^]&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n&^]&r!b&jSOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n'^]&r!b&jSOr%Trs(Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!f(^Z&r!b&jSOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)UZ&r!bOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)|Z&r!bOw(Vwx*ox#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!b*tT&r!bO#o*o#p#q*o#r;'S*o;'S;=`+T<%lO*o!b+WP;=`<%l*o!f+`W&r!bO#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`.d;=`<%l+x<%lO(VS+}V&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS,gVOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-PUOw+xx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-fRO;'S+x;'S;=`-o;=`O+xS-tW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l+x<%lO+xS.aP;=`<%l+x!f.iW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l(V<%lO+x!f/UP;=`<%l(V!n/`]&r!b&mWOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n0`]&r!b&mWOr%Trs&Vsw%Twx1Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!j1`Z&r!b&mWOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j2WZ&r!bOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3OZ&r!bOr1Xrs*os#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3vW&r!bO#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`6z;=`<%l4`<%lO1XW4eV&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W4}VOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5gUOr4`s#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5|RO;'S4`;'S;=`6V;=`O4`W6[W&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l4`<%lO4`W6wP;=`<%l4`!j7PW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l1X<%lO4`!j7lP;=`<%l1X!n7tW&r!bO#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T[8eX&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9VX&jSOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9wX&jSOr8^rs+xsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[:iX&mWOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;ZX&mWOr8^rs9Qsw8^wx4`x#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;yRO;'S8^;'S;=`<S;=`O8^[<ZY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l8^<%lO8^[<|P;=`<%l8^!n=WY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l%T<%lO8^!n=yP;=`<%l%T#s>Xc&r!b&jS&mW%p!TOX%TXY=|Y[%T[]=|]p%Tpq=|qr%Trs&Vsw%Twx/Xx#O%T#O#P?d#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s?i[&r!bOY%TYZ=|Z]%T]^=|^#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T!q@hd&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#T%T#T#UBz#U#f%T#f#gBz#g#hBz#h#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qBR]oR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qCV]!nR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cDXa&r!b&jS&hsOYE^YZ%TZ]E^]^%T^rE^rs!)|swE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cEia&r!b&jS&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cFw]&r!b&jS&hsOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cGya&r!b&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxIOx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cIXa&r!b&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxJ^x#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#_Jg_&r!b&mW&hsOYJ^YZ1XZ]J^]^1X^rJ^rsKfs#OJ^#O#PL`#P#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`!!o<%lOJ^#_KmZ&r!b&hsOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#_LeW&r!bO#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`! r;=`<%lL}<%lOJ^{MUZ&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l<%lOL}{M|V&hsOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`{NfRO;'SL};'S;=`No;=`OL}{Nv[&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lL}<%lOL}{! oP;=`<%lL}#_! y[&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lJ^<%lOL}#_!!rP;=`<%lJ^#c!!zW&r!bO#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!(q;=`<%l!#d<%lOE^!P!#m]&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!$mX&jS&hsOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P!%a]&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!&Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!&a]&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwxL}x#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!']RO;'S!#d;'S;=`!'f;=`O!#d!P!'o^&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%l!#d<%lO!#d!P!(nP;=`<%l!#d#c!(z^&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%lE^<%lO!#d#c!)yP;=`<%lE^#c!*V]&r!b&jS&hsOr%Trs!+Osw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c!+ZZ&nW&r!b&jS&lsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#s!,XaU!T&r!b&jS&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!-gaU!T&r!b&jSOY!+|YZ%TZ]!+|]^%T^r!+|rs!.lsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!.uaU!T&r!b&jSOY!+|YZ%TZ]!+|]^%T^r!+|rs!/zsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#k!0T_U!T&r!b&jSOY!/zYZ(VZ]!/z]^(V^w!/zwx!1Sx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!1Z_U!T&r!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!2Yx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!2a_U!T&r!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!3`x#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#g!3gZU!T&r!bOY!3`YZ*oZ]!3`]^*o^#o!3`#o#p!4Y#p#q!3`#q#r!4Y#r;'S!3`;'S;=`!4t<%lO!3`!T!4_TU!TOY!4YZ]!4Y^;'S!4Y;'S;=`!4n<%lO!4Y!T!4qP;=`<%l!4Y#g!4wP;=`<%l!3`#k!5R[U!T&r!bOY!/zYZ(VZ]!/z]^(V^#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!9s;=`<%l+x<%lO!/z!X!6OZU!T&jSOY!5wYZ+xZ]!5w]^+x^w!5wwx!6qx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!6vZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!7ix#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!7nZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!4Yx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!8fWU!TOY!5wYZ+xZ]!5w]^+x^;'S!5w;'S;=`!9O;=`<%l+x<%lO!5w!X!9TW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!5w<%lO+x!X!9pP;=`<%l!5w#k!9xW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!/z<%lO+x#k!:eP;=`<%l!/z#s!:qaU!T&r!b&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!;vx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!<PaU!T&r!b&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!=Ux#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#o!=__U!T&r!b&mWOY!=UYZ1XZ]!=U]^1X^r!=Urs!>^s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!>e_U!T&r!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!?ds#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!?k_U!T&r!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!3`s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!@q[U!T&r!bOY!=UYZ1XZ]!=U]^1X^#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!Ec;=`<%l4`<%lO!=U!]!AnZU!T&mWOY!AgYZ4`Z]!Ag]^4`^r!Agrs!Bas#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!BfZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!CXs#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!C^ZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!4Ys#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!DUWU!TOY!AgYZ4`Z]!Ag]^4`^;'S!Ag;'S;=`!Dn;=`<%l4`<%lO!Ag!]!DsW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!Ag<%lO4`!]!E`P;=`<%l!Ag#o!EhW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!=U<%lO4`#o!FTP;=`<%l!=U#s!F_[U!T&r!bOY!+|YZ%TZ]!+|]^%T^#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Mq;=`<%l8^<%lO!+|!a!G^]U!T&jS&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!H^]U!T&jSOY!GTYZ8^Z]!GT]^8^^r!GTrs!IVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!I^]U!T&jSOY!GTYZ8^Z]!GT]^8^^r!GTrs!5wsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!J^]U!T&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!KVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!K^]U!T&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!Agx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!L[WU!TOY!GTYZ8^Z]!GT]^8^^;'S!GT;'S;=`!Lt;=`<%l8^<%lO!GT!a!L{Y&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!GT<%lO8^!a!MnP;=`<%l!GT#s!MxY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!+|<%lO8^#s!NkP;=`<%l!+|#b!Ny_&PQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b#!T]!{r&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b##X_%yQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#$aa&r!b&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#8Ux#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#%qa&r!b&jS&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#'Pa&r!b&jS&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#(Usw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#(_a&r!b&jS&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#)dsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#Z#)m_&r!b&jS&hsOY#)dYZ(VZ]#)d]^(V^w#)dwx#*lx#O#)d#O#P#+f#P#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#/u<%lO#)d#Z#*sZ&r!b&hsOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#Z#+kW&r!bO#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#.x;=`<%l#,T<%lO#)dw#,[Z&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r<%lO#,Tw#-SV&hsOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xw#-lRO;'S#,T;'S;=`#-u;=`O#,Tw#-|[&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#,T<%lO#,Tw#.uP;=`<%l#,T#Z#/P[&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#)d<%lO#,T#Z#/xP;=`<%l#)d#c#0U]&r!b&mW&hsOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#1SW&r!bO#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#6y;=`<%l#1l<%lO#%f!P#1u]&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#2u]&jS&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#3nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#3u]&jS&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#,Tsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#4uX&mW&hsOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P#5eRO;'S#1l;'S;=`#5n;=`O#1l!P#5w^&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#1l<%lO#1l!P#6vP;=`<%l#1l#c#7S^&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#%f<%lO#1l#c#8RP;=`<%l#%f#c#8_]&r!b&mW&hsOr%Trs&Vsw%Twx#9Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#9cZ&kS&r!b&mW&isOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#c#:a]js&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#;e]iR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#<iaXs&r!b&jS&mWOr%Trs&Vsw%Twx/Xxz%Tz{#=n{!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#=y_cR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#?T_%|s&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#@_]|R&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s#Ac`%}s&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`!a#Be!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#O#Bp]'R`&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Cta!hQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P#Dy!P!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#ES_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P#FR!P#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#F^]!us&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Gbi!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#GV#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#IYc&r!b&jS&mWOr%Trs&Vsw%Twx/Xx{%T{|#Je|}%T}!O#Je!O!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Jn_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Kxe!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#Km#S#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Mf]!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Nja&OR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!P%T!P!Q$ o!Q!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$ z_&QQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$#Uw!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!d%T!d!e$(w!e!g%T!g!h#IP!h!l%T!l!m#MZ!m!q%T!q!r$+m!r!z%T!z!{$.]!{#O%T#O#P7o#P#R%T#R#S$&w#S#U%T#U#V$(w#V#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#c%T#c#d$+m#d#l%T#l#m$.]#m#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$%x_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$'Sk!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S$&w#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$)Qb&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$*eb!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$+va&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$-Wa!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$.fe&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$0Se!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$1p_}!T&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`$2o!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q$2z]&YR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$4O]#js&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$5SaoR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!^%T!^!_$6X!_!`Av!`!aAv!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$6d_%zQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$7n_&Xs&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$8x`oR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`!a$9z!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$:V_%{Q&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$;c_aQ$QP&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$<oe&r!b&jS&mW&g`&SsOr%Trs&Vsw%Twx/Xx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$>TP;=`<%l$<b#s$>ei&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g$Fl#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$@]a&r!b&jS&hsOYE^YZ%TZ]E^]^%T^rE^rs$AbswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#c$Ak]&r!b&jS&hsOr%Trs$Bdsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$BmZ&r!b&jS&lsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$Cia&r!b&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx$Dnx#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c$Dw]&r!b&mW&hsOr%Trs&Vsw%Twx$Epx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_$EyZ&r!b&mW&isOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s$Fye&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$Hii&r!b&jS&mW&g`&SsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!t$<b!t!u%!S!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g%!S#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$Ja]&r!b&jS&ssOr%Trs$KYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$Ka]&r!b&jSOr%Trs$LYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$LcZ&r!b&jS&usOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$M_]&r!b&mW&osOr%Trs&Vsw%Twx$NWx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$N_]&r!b&mWOr%Trs&Vsw%Twx% Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_% aZ&r!b&mW&tsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s%!ae&r!b&jS&mW&g`&SsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s%$Pm&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!h$<b!h!i%!S!i!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#U$<b#U#V$Fl#V#Y$<b#Y#Z%!S#Z#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c%&V]!Zs&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%'Z]!YR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b%(__%xQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a%)gX!_#T&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#c%*__%wR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%+gX!^!e&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#a%,_]&Rq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T",tokenizers:[N,M,D,W,z,Q,F,0,1,2,3,4,5,6],topRules:{Script:[0,7]},specialized:[{term:234,get:e=>q[e]||-1}],tokenPrec:7372});var V=i(1450),Y=i(7102);const X=new r.hr,Z=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function G(e){return(t,i,r)=>{if(r)return!1;let n=t.node.getChild("VariableName");return n&&i(n,e),!0}}const $={FunctionDefinition:G("function"),ClassDefinition:G("class"),ForStatement(e,t,i){if(i)for(let r=e.node.firstChild;r;r=r.nextSibling)if("VariableName"==r.name)t(r,"variable");else if("in"==r.name)break},ImportStatement(e,t){var i,r;let{node:n}=e,s="from"==(null===(i=n.firstChild)||void 0===i?void 0:i.name);for(let o=n.getChild("import");o;o=o.nextSibling)"VariableName"==o.name&&"as"!=(null===(r=o.nextSibling)||void 0===r?void 0:r.name)&&t(o,s?"variable":"namespace")},AssignStatement(e,t){for(let i=e.node.firstChild;i;i=i.nextSibling)if("VariableName"==i.name)t(i,"variable");else if(":"==i.name||"AssignOp"==i.name)break},ParamList(e,t){for(let i=null,r=e.node.firstChild;r;r=r.nextSibling)"VariableName"!=r.name||i&&/\*|AssignOp/.test(i.name)||t(r,"variable"),i=r},CapturePattern:G("variable"),AsPattern:G("variable"),__proto__:null};function K(e,t){let i=X.get(t);if(i)return i;let n=[],s=!0;function o(t,i){let r=e.sliceString(t.from,t.to);n.push({label:r,type:i})}return t.cursor(r.vj.IncludeAnonymous).iterate((t=>{if(t.name){let e=$[t.name];if(e&&e(t,o,s)||!s&&Z.has(t.name))return!1;s=!1}else if(t.to-t.from>8192){for(let i of K(e,t.node))n.push(i);return!1}})),X.set(t,n),n}const J=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,ee=["String","FormatString","Comment","PropertyName"];function te(e){let t=(0,V.qz)(e.state).resolveInner(e.pos,-1);if(ee.indexOf(t.name)>-1)return null;let i="VariableName"==t.name||t.to-t.from<20&&J.test(e.state.sliceDoc(t.from,t.to));if(!i&&!e.explicit)return null;let r=[];for(let n=t;n;n=n.parent)Z.has(n.name)&&(r=r.concat(K(e.state.doc,n)));return{options:r,from:i?t.from:e.pos,validFor:J}}const ie=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map((e=>({label:e,type:"constant"}))).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map((e=>({label:e,type:"type"})))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map((e=>({label:e,type:"class"})))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map((e=>({label:e,type:"function"})))),re=[(0,Y.Gn)("def ${name}(${params}):\n\t${}",{label:"def",detail:"function",type:"keyword"}),(0,Y.Gn)("for ${name} in ${collection}:\n\t${}",{label:"for",detail:"loop",type:"keyword"}),(0,Y.Gn)("while ${}:\n\t${}",{label:"while",detail:"loop",type:"keyword"}),(0,Y.Gn)("try:\n\t${}\nexcept ${error}:\n\t${}",{label:"try",detail:"/ except block",type:"keyword"}),(0,Y.Gn)("if ${}:\n\t\n",{label:"if",detail:"block",type:"keyword"}),(0,Y.Gn)("if ${}:\n\t${}\nelse:\n\t${}",{label:"if",detail:"/ else block",type:"keyword"}),(0,Y.Gn)("class ${name}:\n\tdef __init__(self, ${params}):\n\t\t\t${}",{label:"class",detail:"definition",type:"keyword"}),(0,Y.Gn)("import ${module}",{label:"import",detail:"statement",type:"keyword"}),(0,Y.Gn)("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],ne=(0,Y.eC)(ee,(0,Y.Mb)(ie.concat(re)));function se(e,t){let i=e.baseIndentFor(t),r=e.lineAt(e.pos,-1),n=r.from+r.text.length;return/^\s*($|#)/.test(r.text)&&e.node.to<n+100&&!/\S/.test(e.state.sliceDoc(n,e.node.to))&&e.lineIndent(e.pos,-1)<=i||/^\s*(else:|elif |except |finally:)/.test(e.textAfter)&&e.lineIndent(e.pos,-1)>i?null:i+e.unit}const oe=V.qp.define({name:"python",parser:H.configure({props:[V.uj.add({Body:e=>{var t;return null!==(t=se(e,e.node))&&void 0!==t?t:e.continue()},IfStatement:e=>/^\s*(else:|elif )/.test(e.textAfter)?e.baseIndent:e.continue(),TryStatement:e=>/^\s*(except |finally:|else:)/.test(e.textAfter)?e.baseIndent:e.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":(0,V.vw)({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":(0,V.vw)({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":(0,V.vw)({closing:"]"}),"String FormatString":()=>null,Script:e=>{if(e.pos+/\s*/.exec(e.textAfter)[0].length>=e.node.to){let t=null;for(let i=e.node,r=i.to;i=i.lastChild,i&&i.to==r;)"Body"==i.type.name&&(t=i);if(t){let i=se(e,t);if(null!=i)return i}}return e.continue()}}),V.x0.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":V.Dv,Body:(e,t)=>({from:e.from+1,to:e.to-(e.to==t.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});function ae(){return new V.ri(oe,[oe.data.of({autocomplete:te}),oe.data.of({autocomplete:ne})])}},1450:(e,t,i)=>{"use strict";i.d(t,{Dv:()=>q,Gn:()=>R,K0:()=>P,Qf:()=>fe,R_:()=>ye,SS:()=>A,Um:()=>Me,c:()=>E,e7:()=>ie,mi:()=>ue,n$:()=>Ae,nF:()=>ve,nY:()=>Q,qp:()=>p,qz:()=>m,ri:()=>k,uj:()=>D,vw:()=>j,x0:()=>U,y1:()=>T});var r,n=i(4499),s=i(6580),o=i(7184),a=i(4200),l=i(5745);const c=new n.md;function h(e){return s.r$.define({combine:e?t=>t.concat(e):void 0})}const u=new n.md;class d{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.data=e,this.name=r,s.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(s.yy.prototype,"tree",{get(){return m(this)}}),this.parser=t,this.extension=[x.of(this),s.yy.languageData.of(((e,t,i)=>{let r=f(e,t,i),n=r.type.prop(c);if(!n)return[];let s=e.facet(n),o=r.type.prop(u);if(o){let n=r.resolve(t-r.from,i);for(let t of o)if(t.test(n,e)){let i=e.facet(t.facet);return"replace"==t.type?i:i.concat(s)}}return s}))].concat(i)}isActiveAt(e,t){return f(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1).type.prop(c)==this.data}findRegions(e){let t=e.facet(x);if((null===t||void 0===t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(e,t)=>{if(e.prop(c)==this.data)return void i.push({from:t,to:t+e.length});let s=e.prop(n.md.mounted);if(s){if(s.tree.prop(c)==this.data){if(s.overlay)for(let e of s.overlay)i.push({from:e.from+t,to:e.to+t});else i.push({from:t,to:t+e.length});return}if(s.overlay){let e=i.length;if(r(s.tree,s.overlay[0].from+t),i.length>e)return}}for(let i=0;i<e.children.length;i++){let s=e.children[i];s instanceof n.mp&&r(s,e.positions[i]+t)}};return r(m(e),0),i}get allowsNesting(){return!0}}function f(e,t,i){let r=e.facet(x),s=m(e).topNode;if(!r||r.allowsNesting)for(let o=s;o;o=o.enter(t,i,n.vj.ExcludeBuffers))o.type.isTop&&(s=o);return s}d.setState=s.Py.define();class p extends d{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=h(e.languageData);return new p(t,e.parser.configure({props:[c.add((e=>e.isTop?t:void 0))]}),e.name)}configure(e,t){return new p(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function m(e){let t=e.field(d.state,!1);return t?t.tree:n.mp.empty}class g{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let v=null;class _{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=n,this.viewport=s,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new _(e,t,[],n.mp.empty,0,i,[],null)}startParse(){return this.parser.startParse(new g(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=n.mp.empty&&this.isDone(null!==t&&void 0!==t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var i;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(n.i9.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(i=this.parse.stoppedAt)&&void 0!==i?i:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!==t&&void 0!==t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(n.i9.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=v;v=this;try{return e()}finally{v=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=b(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,i,r,n)=>t.push({fromA:e,toA:i,fromB:r,toB:n}))),i=n.i9.applyChanges(i,t),r=n.mp.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let t of this.skipped){let i=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);i<r&&a.push({from:i,to:r})}}}return new _(this.parser,t,i,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:t,to:r}=this.skipped[i];t<e.to&&r>e.from&&(this.fragments=b(this.fragments,t,r),this.skipped.splice(i--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends n._b{createParse(t,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let t=v;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new n.mp(n.Jq.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return v}}function b(e,t,i){return n.i9.applyChanges(e,[{fromA:t,toA:i,fromB:t,toB:i}])}class y{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new y(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=_.create(e.facet(x).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new y(i)}}d.state=s.QQ.define({create:y.init,update(e,t){for(let i of t.effects)if(i.is(d.setState))return i.value;return t.startState.facet(x)!=t.state.facet(x)?y.init(t.state):e.apply(t)}});let O=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(O=e=>{let t=-1,i=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(i):cancelIdleCallback(t)});const w="undefined"!=typeof navigator&&(null===(r=navigator.scheduling)||void 0===r?void 0:r.isInputPending)?()=>navigator.scheduling.isInputPending():null,S=o.lg.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(d.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(d.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=O(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,n=i.field(d.state);if(n.tree==n.context.tree&&n.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!w?Math.max(25,e.timeRemaining()-5):1e9),o=n.context.treeLen<r&&i.doc.length>r+1e3,a=n.context.work((()=>w&&w()||Date.now()>s),r+(o?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(n.context.takeTree(),this.view.dispatch({effects:d.setState.of(new y(n.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(n.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>(0,o.OO)(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),x=s.r$.define({combine:e=>e.length?e[0]:null,enables:e=>[d.state,S,o.tk.contentAttributes.compute([e],(t=>{let i=t.facet(e);return i&&i.name?{"data-language":i.name}:{}}))]});class k{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.language=e,this.support=t,this.extension=[e,t]}}const C=s.r$.define(),E=s.r$.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some((e=>e!=t[0])))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function T(e){let t=e.facet(E);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function A(e,t){let i="",r=e.tabSize,n=e.facet(E)[0];if("\t"==n){for(;t>=r;)i+="\t",t-=r;n=" "}for(let s=0;s<t;s++)i+=n;return i}function P(e,t){e instanceof s.yy&&(e=new R(e));for(let r of e.state.facet(C)){let i=r(e,t);if(void 0!==i)return i}let i=m(e.state);return i.length>=t?function(e,t,i){let r=t.resolveStack(i),n=r.node.enterUnfinishedNodesBefore(i);if(n!=r.node){let e=[];for(let t=n;t!=r.node;t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)r={node:e[t],next:r}}return M(r,e,i)}(e,i,t):null}class R{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state=e,this.options=t,this.unit=T(e)}lineAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:n}=this.options;return null!=r&&r>=i.from&&r<=i.to?n&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{text:i,from:r}=this.lineAt(e,t),n=this.countColumn(i,e-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(n+=s-this.countColumn(i,i.search(/\S|$/))),n}countColumn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return(0,s.IS)(e,this.state.tabSize,t)}lineIndent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{text:i,from:r}=this.lineAt(e,t),n=this.options.overrideIndentation;if(n){let e=n(r);if(e>-1)return e}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const D=new n.md;function M(e,t,i){for(let r=e;r;r=r.next){let e=L(r.node);if(e)return e(B.create(t,i,r))}return 0}function L(e){let t=e.type.prop(D);if(t)return t;let i,r=e.firstChild;if(r&&(i=r.type.prop(n.md.closedBy))){let t=e.lastChild,r=t&&i.indexOf(t.name)>-1;return e=>W(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?I:null}function I(){return 0}class B extends R{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new B(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(N(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return M(this.context.next,this.base,this.pos)}}function N(e,t){for(let i=t;i;i=i.parent)if(e==i)return!0;return!1}function j(e){let{closing:t,align:i=!0,units:r=1}=e;return e=>W(e,i,r,t)}function W(e,t,i,r,n){let s=e.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||n==e.pos+o,l=t?function(e){let t=e.node,i=t.childAfter(t.from),r=t.lastChild;if(!i)return null;let n=e.options.simulateBreak,s=e.state.doc.lineAt(i.from),o=null==n||n<=s.from?s.to:Math.min(s.to,n);for(let a=i.to;;){let e=t.childAfter(a);if(!e||e==r)return null;if(!e.type.isSkipped)return e.from<o?i:null;a=e.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*i)}const z=200;function Q(){return s.yy.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let i=e.newDoc,{head:r}=e.newSelection.main,n=i.lineAt(r);if(r>n.from+z)return e;let s=i.sliceString(n.from,r);if(!t.some((e=>e.test(s))))return e;let{state:o}=e,a=-1,l=[];for(let{head:c}of o.selection.ranges){let e=o.doc.lineAt(c);if(e.from==a)continue;a=e.from;let t=P(o,e.from);if(null==t)continue;let i=/^\s*/.exec(e.text)[0],r=A(o,t);i!=r&&l.push({from:e.from,to:e.from+i.length,insert:r})}return l.length?[e,{changes:l,sequential:!0}]:e}))}const F=s.r$.define(),U=new n.md;function q(e){let t=e.firstChild,i=e.lastChild;return t&&t.to<i.from?{from:t.to,to:i.type.isError?e.to:i.from}:null}function H(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function V(e,t,i){for(let r of e.facet(F)){let n=r(e,t,i);if(n)return n}return function(e,t,i){let r=m(e);if(r.length<i)return null;let n=null;for(let s=r.resolveStack(i,1);s;s=s.next){let o=s.node;if(o.to<=i||o.from>i)continue;if(n&&o.from<t)break;let a=o.type.prop(U);if(a&&(o.to<r.length-50||r.length==e.doc.length||!H(o))){let r=a(o,e);r&&r.from<=i&&r.from>=t&&r.to>i&&(n=r)}}return n}(e,t,i)}function Y(e,t){let i=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return i>=r?void 0:{from:i,to:r}}const X=s.Py.define({map:Y}),Z=s.Py.define({map:Y});function G(e){let t=[];for(let{head:i}of e.state.selection.ranges)t.some((e=>e.from<=i&&e.to>=i))||t.push(e.lineBlockAt(i));return t}const $=s.QQ.define({create:()=>o.p.none,update(e,t){e=e.map(t.changes);for(let i of t.effects)if(i.is(X)&&!J(e,i.value.from,i.value.to)){let{preparePlaceholder:r}=t.state.facet(ne),n=r?o.p.replace({widget:new le(r(t.state,i.value))}):ae;e=e.update({add:[n.range(i.value.from,i.value.to)]})}else i.is(Z)&&(e=e.update({filter:(e,t)=>i.value.from!=e||i.value.to!=t,filterFrom:i.value.from,filterTo:i.value.to}));if(t.selection){let i=!1,{head:r}=t.selection.main;e.between(r,r,((e,t)=>{e<r&&t>r&&(i=!0)})),i&&(e=e.update({filterFrom:r,filterTo:r,filter:(e,t)=>t<=r||e>=r}))}return e},provide:e=>o.tk.decorations.from(e),toJSON(e,t){let i=[];return e.between(0,t.doc.length,((e,t)=>{i.push(e,t)})),i},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let i=0;i<e.length;){let r=e[i++],n=e[i++];if("number"!=typeof r||"number"!=typeof n)throw new RangeError("Invalid JSON for fold state");t.push(ae.range(r,n))}return o.p.set(t,!0)}});function K(e,t,i){var r;let n=null;return null===(r=e.field($,!1))||void 0===r||r.between(t,i,((e,t)=>{(!n||n.from>e)&&(n={from:e,to:t})})),n}function J(e,t,i){let r=!1;return e.between(t,t,((e,n)=>{e==t&&n==i&&(r=!0)})),r}function ee(e,t){return e.field($,!1)?t:t.concat(s.Py.appendConfig.of(se()))}function te(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.state.doc.lineAt(t.from).number,n=e.state.doc.lineAt(t.to).number;return o.tk.announce.of("".concat(e.state.phrase(i?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(e.state.phrase("to")," ").concat(n,"."))}const ie=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of G(e)){let i=V(e.state,t.from,t.to);if(i)return e.dispatch({effects:ee(e.state,[X.of(i),te(e,i)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field($,!1))return!1;let t=[];for(let i of G(e)){let r=K(e.state,i.from,i.to);r&&t.push(Z.of(r),te(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,i=[];for(let r=0;r<t.doc.length;){let n=e.lineBlockAt(r),s=V(t,n.from,n.to);s&&i.push(X.of(s)),r=(s?e.lineBlockAt(s.to):n).to+1}return i.length&&e.dispatch({effects:ee(e.state,i)}),!!i.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field($,!1);if(!t||!t.size)return!1;let i=[];return t.between(0,e.state.doc.length,((e,t)=>{i.push(Z.of({from:e,to:t}))})),e.dispatch({effects:i}),!0}}],re={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},ne=s.r$.define({combine:e=>(0,s.BO)(e,re)});function se(e){let t=[$,de];return e&&t.push(ne.of(e)),t}function oe(e,t){let{state:i}=e,r=i.facet(ne),n=t=>{let i=e.lineBlockAt(e.posAtDOM(t.target)),r=K(e.state,i.from,i.to);r&&e.dispatch({effects:Z.of(r)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,n,t);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",i.phrase("folded code")),s.title=i.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=n,s}const ae=o.p.replace({widget:new class extends o.l9{toDOM(e){return oe(e,null)}}});class le extends o.l9{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return oe(e,this.value)}}const ce={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class he extends o.SJ{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign(Object.assign({},ce),e),i=new he(t,!0),r=new he(t,!1),n=o.lg.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(x)!=e.state.facet(x)||e.startState.field($,!1)!=e.state.field($,!1)||m(e.startState)!=m(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new s.f_;for(let n of e.viewportLineBlocks){let s=K(e.state,n.from,n.to)?r:V(e.state,n.from,n.to)?i:null;s&&t.add(n.from,n.from,s)}return t.finish()}}),{domEventHandlers:a}=t;return[n,(0,o.v5)({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(n))||void 0===t?void 0:t.markers)||s.Xs.empty},initialSpacer:()=>new he(t,!1),domEventHandlers:Object.assign(Object.assign({},a),{click:(e,t,i)=>{if(a.click&&a.click(e,t,i))return!0;let r=K(e.state,t.from,t.to);if(r)return e.dispatch({effects:Z.of(r)}),!0;let n=V(e.state,t.from,t.to);return!!n&&(e.dispatch({effects:X.of(n)}),!0)}})}),se()]}const de=o.tk.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class fe{constructor(e,t){let i;function r(e){let t=l.V.newName();return(i||(i=Object.create(null)))["."+t]=e,t}this.specs=e;const n="string"==typeof t.all?t.all:t.all?r(t.all):void 0,s=t.scope;this.scope=s instanceof d?e=>e.prop(c)==s.data:s?e=>e==s:void 0,this.style=(0,a.QR)(e.map((e=>({tag:e.tag,class:e.class||r(Object.assign({},e,{tag:null}))}))),{all:n}).style,this.module=i?new l.V(i):null,this.themeType=t.themeType}static define(e,t){return new fe(e,t||{})}}const pe=s.r$.define(),me=s.r$.define({combine:e=>e.length?[e[0]]:null});function ge(e){let t=e.facet(pe);return t.length?t:e.facet(me)}function ve(e,t){let i,r=[be];return e instanceof fe&&(e.module&&r.push(o.tk.styleModule.of(e.module)),i=e.themeType),(null===t||void 0===t?void 0:t.fallback)?r.push(me.of(e)):i?r.push(pe.computeN([o.tk.darkTheme],(t=>t.facet(o.tk.darkTheme)==("dark"==i)?[e]:[]))):r.push(pe.of(e)),r}class _e{constructor(e){this.markCache=Object.create(null),this.tree=m(e.state),this.decorations=this.buildDeco(e,ge(e.state))}update(e){let t=m(e.state),i=ge(e.state),r=i!=ge(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return o.p.none;let i=new s.f_;for(let{from:r,to:n}of e.visibleRanges)(0,a.bW)(this.tree,t,((e,t,r)=>{i.add(e,t,this.markCache[r]||(this.markCache[r]=o.p.mark({class:r})))}),r,n);return i.finish()}}const be=s.Wl.high(o.lg.fromClass(_e,{decorations:e=>e.decorations})),ye=fe.define([{tag:a.pJ.meta,color:"#404740"},{tag:a.pJ.link,textDecoration:"underline"},{tag:a.pJ.heading,textDecoration:"underline",fontWeight:"bold"},{tag:a.pJ.emphasis,fontStyle:"italic"},{tag:a.pJ.strong,fontWeight:"bold"},{tag:a.pJ.strikethrough,textDecoration:"line-through"},{tag:a.pJ.keyword,color:"#708"},{tag:[a.pJ.atom,a.pJ.bool,a.pJ.url,a.pJ.contentSeparator,a.pJ.labelName],color:"#219"},{tag:[a.pJ.literal,a.pJ.inserted],color:"#164"},{tag:[a.pJ.string,a.pJ.deleted],color:"#a11"},{tag:[a.pJ.regexp,a.pJ.escape,a.pJ.special(a.pJ.string)],color:"#e40"},{tag:a.pJ.definition(a.pJ.variableName),color:"#00f"},{tag:a.pJ.local(a.pJ.variableName),color:"#30a"},{tag:[a.pJ.typeName,a.pJ.namespace],color:"#085"},{tag:a.pJ.className,color:"#167"},{tag:[a.pJ.special(a.pJ.variableName),a.pJ.macroName],color:"#256"},{tag:a.pJ.definition(a.pJ.propertyName),color:"#00c"},{tag:a.pJ.comment,color:"#940"},{tag:a.pJ.invalid,color:"#f00"}]),Oe=o.tk.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),we=1e4,Se="()[]{}",xe=s.r$.define({combine:e=>(0,s.BO)(e,{afterCursor:!0,brackets:Se,maxScanDistance:we,renderMatch:Ee})}),ke=o.p.mark({class:"cm-matchingBracket"}),Ce=o.p.mark({class:"cm-nonmatchingBracket"});function Ee(e){let t=[],i=e.matched?ke:Ce;return t.push(i.range(e.start.from,e.start.to)),e.end&&t.push(i.range(e.end.from,e.end.to)),t}const Te=[s.QQ.define({create:()=>o.p.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let i=[],r=t.state.facet(xe);for(let n of t.state.selection.ranges){if(!n.empty)continue;let e=Me(t.state,n.head,-1,r)||n.head>0&&Me(t.state,n.head-1,1,r)||r.afterCursor&&(Me(t.state,n.head,1,r)||n.head<t.state.doc.length&&Me(t.state,n.head+1,-1,r));e&&(i=i.concat(r.renderMatch(e,t.state)))}return o.p.set(i,!0)},provide:e=>o.tk.decorations.from(e)}),Oe];function Ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xe.of(e),Te]}const Pe=new n.md;function Re(e,t,i){let r=e.prop(t<0?n.md.openedBy:n.md.closedBy);if(r)return r;if(1==e.name.length){let r=i.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[i[r+t]]}return null}function De(e){let t=e.type.prop(Pe);return t?t(e.node):e}function Me(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=r.maxScanDistance||we,s=r.brackets||Se,o=m(e),a=o.resolveInner(t,i);for(let l=a;l;l=l.parent){let r=Re(l.type,i,s);if(r&&l.from<l.to){let n=De(l);if(n&&(i>0?t>=n.from&&t<n.to:t>n.from&&t<=n.to))return Le(e,t,i,l,n,r,s)}}return function(e,t,i,r,n,s,o){let a=i<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=o.indexOf(a);if(l<0||l%2==0!=i>0)return null;let c={from:i<0?t-1:t,to:i>0?t+1:t},h=e.doc.iterRange(t,i>0?e.doc.length:0),u=0;for(let d=0;!h.next().done&&d<=s;){let e=h.value;i<0&&(d+=e.length);let s=t+d*i;for(let t=i>0?0:e.length-1,a=i>0?e.length:-1;t!=a;t+=i){let a=o.indexOf(e[t]);if(!(a<0||r.resolveInner(s+t,1).type!=n))if(a%2==0==i>0)u++;else{if(1==u)return{start:c,end:{from:s+t,to:s+t+1},matched:a>>1==l>>1};u--}}i>0&&(d+=e.length)}return h.done?{start:c,matched:!1}:null}(e,t,i,o,a.type,n,s)}function Le(e,t,i,r,n,s,o){let a=r.parent,l={from:n.from,to:n.to},c=0,h=null===a||void 0===a?void 0:a.cursor();if(h&&(i<0?h.childBefore(r.from):h.childAfter(r.to)))do{if(i<0?h.to<=r.from:h.from>=r.to){if(0==c&&s.indexOf(h.type.name)>-1&&h.from<h.to){let e=De(h);return{start:l,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}if(Re(h.type,i,o))c++;else if(Re(h.type,-i,o)){if(0==c){let e=De(h);return{start:l,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}c--}}}while(i<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}const Ie=Object.create(null),Be=[n.Jq.none],Ne=[],je=Object.create(null);for(let[Qe,Fe]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])je[Qe]=ze(Ie,Fe);function We(e,t){Ne.indexOf(e)>-1||(Ne.push(e),console.warn(t))}function ze(e,t){let i=[];for(let n of t.split(" ")){let t=[];for(let i of n.split(".")){let r=e[i]||a.pJ[i];r?"function"==typeof r?t.length?t=t.map(r):We(i,"Modifier ".concat(i," used at start of tag")):t.length?We(i,"Tag ".concat(i," used as modifier")):t=Array.isArray(r)?r:[r]:We(i,"Unknown highlighting tag ".concat(i))}for(let e of t)i.push(e)}if(!i.length)return 0;let r=t.replace(/ /g,"_"),s=n.Jq.define({id:Be.length,name:r,props:[(0,a.Gv)({[r]:i})]});return Be.push(s),s.id}},6580:(e,t,i)=>{"use strict";i.d(t,{BO:()=>Ee,D0:()=>we,Gz:()=>He,IS:()=>qe,Py:()=>pe,QQ:()=>H,Wl:()=>$,Xs:()=>De,YW:()=>me,as:()=>E,bg:()=>w,cp:()=>g,f_:()=>Me,gc:()=>k,gm:()=>O,jT:()=>I,n0:()=>C,nZ:()=>S,q6:()=>ue,r$:()=>j,uU:()=>Te,xv:()=>r,yy:()=>Ce});class r{lineAt(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}replace(e,t,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),s.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,i=[];return this.decompose(e,t,i,0),s.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new l(this),n=new l(e);for(let s=t,o=t;;){if(r.next(s),n.next(s),s=0,r.lineBreak!=n.lineBreak||r.done!=n.done||r.value!=n.value)return!1;if(o+=r.value.length,r.done||o>=i)return!0}}iter(){return new l(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}iterRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new c(this,e,t)}iterLines(e,t){let i;if(null==e)i=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new h(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new n(e):s.from(n.split(e,[])):r.empty}}class n extends r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){let t=-1;for(let i of e)t+=i.length+1;return t}(e);super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let n=0;;n++){let s=this.text[n],o=r+s.length;if((t?i:o)>=e)return new u(r,o,i,s);r=o+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new n(a(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=i.pop(),t=o(s.text,e.text.slice(),0,s.length);if(t.length<=32)i.push(new n(t,e.length+s.length));else{let e=t.length>>1;i.push(new n(t.slice(0,e)),new n(t.slice(e)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof n))return super.replace(e,t,i);let r=o(this.text,o(i.text,a(this.text,0,e)),t),l=this.length+i.length-(t-e);return r.length<=32?new n(r,l):s.from(n.split(r,[]),l)}sliceString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="";for(let n=0,s=0;n<=t&&s<this.text.length;s++){let o=this.text[s],a=n+o.length;n>e&&s&&(r+=i),e<a&&t>n&&(r+=o.slice(Math.max(0,e-n),t-n)),n=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,32==i.length&&(t.push(new n(i,r)),i=[],r=-1);return r>-1&&t.push(new n(i,r)),t}}class s extends r{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let n=0;;n++){let s=this.children[n],o=r+s.length,a=i+s.lines-1;if((t?a:o)>=e)return s.lineInner(e,t,i,r);r=o+1,i=a+1}}decompose(e,t,i,r){for(let n=0,s=0;s<=t&&n<this.children.length;n++){let o=this.children[n],a=s+o.length;if(e<=a&&t>=s){let n=r&((s<=e?1:0)|(a>=t?2:0));s>=e&&a<=t&&!n?i.push(o):o.decompose(e-s,t-s,i,n)}s=a+1}}replace(e,t,i){if(i.lines<this.lines)for(let r=0,n=0;r<this.children.length;r++){let o=this.children[r],a=n+o.length;if(e>=n&&t<=a){let l=o.replace(e-n,t-n,i),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let n=this.children.slice();return n[r]=l,new s(n,this.length-(t-e)+i.length)}return super.replace(n,a,l)}n=a+1}return super.replace(e,t,i)}sliceString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="";for(let n=0,s=0;n<this.children.length&&s<=t;n++){let o=this.children[n],a=s+o.length;s>e&&n&&(r+=i),e<a&&t>s&&(r+=o.sliceString(e-s,t-s,i)),s=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof s))return 0;let i=0,[r,n,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,n+=t){if(r==o||n==a)return i;let s=this.children[r],l=e.children[n];if(s!=l)return i+s.scanIdentical(l,t);i+=s.length+1}}static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.reduce(((e,t)=>e+t.length+1),-1),i=0;for(let n of e)i+=n.lines;if(i<32){let i=[];for(let t of e)t.flatten(i);return new n(i,t)}let r=Math.max(32,i>>5),o=r<<1,a=r>>1,l=[],c=0,h=-1,u=[];function d(e){let t;if(e.lines>o&&e instanceof s)for(let i of e.children)d(i);else e.lines>a&&(c>a||!c)?(f(),l.push(e)):e instanceof n&&c&&(t=u[u.length-1])instanceof n&&e.lines+t.lines<=32?(c+=e.lines,h+=e.length+1,u[u.length-1]=new n(t.text.concat(e.text),t.length+1+e.length)):(c+e.lines>r&&f(),c+=e.lines,h+=e.length+1,u.push(e))}function f(){0!=c&&(l.push(1==u.length?u[0]:s.from(u,h)),h=-1,c=u.length=0)}for(let n of e)d(n);return f(),1==l.length?l[0]:new s(l,t)}}function o(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9;for(let n=0,s=0,o=!0;s<e.length&&n<=r;s++){let a=e[s],l=n+a.length;l>=i&&(l>r&&(a=a.slice(0,r-n)),n<i&&(a=a.slice(i-n)),o?(t[t.length-1]+=a,o=!1):t.push(a)),n=l+1}return t}function a(e,t,i){return o(e,[""],t,i)}r.empty=new n([""],0);class l{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof n?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof n?r.text.length:r.children.length;if(o==(t>0?a:0)){if(0==i)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(t>0?0:1)){if(this.offsets[i]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof n){let n=r.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,n.length>Math.max(0,e))return this.value=0==e?n:t>0?n.slice(e):n.slice(0,n.length-e),this;e-=n.length}else{let s=r.children[o+(t<0?-1:0)];e>s.length?(e-=s.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(s),this.offsets.push(t>0?1:(s instanceof n?s.text.length:s.children.length)<<1))}}}next(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class c{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new l(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class h{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{done:t,lineBreak:i,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(r.prototype[Symbol.iterator]=function(){return this.iter()},l.prototype[Symbol.iterator]=c.prototype[Symbol.iterator]=h.prototype[Symbol.iterator]=function(){return this});class u{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}let d="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let Ye=1;Ye<d.length;Ye++)d[Ye]+=d[Ye-1];function f(e){for(let t=1;t<d.length;t+=2)if(d[t]>e)return d[t-1]<=e;return!1}function p(e){return e>=127462&&e<=127487}const m=8205;function g(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?v:_)(e,t,!(arguments.length>3&&void 0!==arguments[3])||arguments[3])}function v(e,t,i){if(t==e.length)return t;t&&b(e.charCodeAt(t))&&y(e.charCodeAt(t-1))&&t--;let r=O(e,t);for(t+=S(r);t<e.length;){let n=O(e,t);if(r==m||n==m||i&&f(n))t+=S(n),r=n;else{if(!p(n))break;{let i=0,r=t-2;for(;r>=0&&p(O(e,r));)i++,r-=2;if(i%2==0)break;t+=2}}}return t}function _(e,t,i){for(;t>0;){let r=v(e,t-2,i);if(r<t)return r;t--}return 0}function b(e){return e>=56320&&e<57344}function y(e){return e>=55296&&e<56320}function O(e,t){let i=e.charCodeAt(t);if(!y(i)||t+1==e.length)return i;let r=e.charCodeAt(t+1);return b(r)?r-56320+(i-55296<<10)+65536:i}function w(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function S(e){return e<65536?1:2}const x=/\r\n?|\n/;var k=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(k||(k={}));class C{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let n=this.sections[t++],s=this.sections[t++];s<0?(e(i,r,n),r+=n):r+=s,i+=n}}iterChangedRanges(e){P(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new C(e)}composeDesc(e){return this.empty?e:e.empty?this:D(this,e)}mapDesc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:R(this,e,t)}mapPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Simple,r=0,n=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],a=this.sections[s++],l=r+o;if(a<0){if(l>e)return n+(e-r);n+=o}else{if(i!=k.Simple&&l>=e&&(i==k.TrackDel&&r<e&&l>e||i==k.TrackBefore&&r<e||i==k.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!o)return e==r||t<0?n:n+a;n+=a}r=l}if(e>r)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(r));return n}touchesRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;for(let i=0,r=0;i<this.sections.length&&r<=t;){let n=r+this.sections[i++];if(this.sections[i++]>=0&&r<=t&&n>=e)return!(r<e&&n>t)||"cover";r=n}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new C(e)}static create(e){return new C(e)}}class E extends C{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return P(this,((t,i,r,n,s)=>e=e.replace(r,r+(i-t),s)),!1),e}mapDesc(e){return R(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],!0)}invert(e){let t=this.sections.slice(),i=[];for(let n=0,s=0;n<t.length;n+=2){let o=t[n],a=t[n+1];if(a>=0){t[n]=a,t[n+1]=o;let l=n>>1;for(;i.length<l;)i.push(r.empty);i.push(o?e.slice(s,s+o):r.empty)}s+=o}return new E(t,i)}compose(e){return this.empty?e:e.empty?this:D(this,e,!0)}map(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:R(this,e,t,!0)}iterChanges(e){P(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}get desc(){return C.create(this.sections)}filter(e){let t=[],i=[],r=[],n=new M(this);e:for(let s=0,o=0;;){let a=s==e.length?1e9:e[s++];for(;o<a||o==a&&0==n.len;){if(n.done)break e;let e=Math.min(n.len,a-o);T(r,e,-1);let s=-1==n.ins?-1:0==n.off?n.ins:0;T(t,e,s),s>0&&A(i,t,n.text),n.forward(e),o+=e}let l=e[s++];for(;o<l;){if(n.done)break e;let e=Math.min(n.len,l-o);T(t,e,-1),T(r,e,-1==n.ins?-1:0==n.off?n.ins:0),n.forward(e),o+=e}}return{changes:new E(t,i),filtered:C.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):0==r?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let n=[],s=[],o=0,a=null;function l(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!n.length)return;o<t&&T(n,t-o,-1);let e=new E(n,s);a=a?a.compose(e.map(a)):e,n=[],s=[],o=0}return function e(c){if(Array.isArray(c))for(let t of c)e(t);else if(c instanceof E){if(c.length!=t)throw new RangeError("Mismatched change set length (got ".concat(c.length,", expected ").concat(t,")"));l(),a=a?a.compose(c.map(a)):c}else{let{from:e,to:a=e,insert:h}=c;if(e>a||e<0||a>t)throw new RangeError("Invalid change range ".concat(e," to ").concat(a," (in doc of length ").concat(t,")"));let u=h?"string"==typeof h?r.of(h.split(i||x)):h:r.empty,d=u.length;if(e==a&&0==d)return;e<o&&l(),e>o&&T(n,e-o,-1),T(n,a-e,d),A(s,n,u),o=a}}(e),l(!a),a}static empty(e){return new E(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let n=0;n<e.length;n++){let s=e[n];if("number"==typeof s)t.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)t.push(s[0],0);else{for(;i.length<n;)i.push(r.empty);i[n]=r.of(s.slice(1)),t.push(s[0],i[n].length)}}}return new E(t,i)}static createSet(e,t){return new E(e,t)}}function T(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0==t&&i<=0)return;let n=e.length-2;n>=0&&i<=0&&i==e[n+1]?e[n]+=t:0==t&&0==e[n]?e[n+1]+=i:r?(e[n]+=t,e[n+1]+=i):e.push(t,i)}function A(e,t,i){if(0==i.length)return;let n=t.length-2>>1;if(n<e.length)e[e.length-1]=e[e.length-1].append(i);else{for(;e.length<n;)e.push(r.empty);e.push(i)}}function P(e,t,i){let n=e.inserted;for(let s=0,o=0,a=0;a<e.sections.length;){let l=e.sections[a++],c=e.sections[a++];if(c<0)s+=l,o+=l;else{let h=s,u=o,d=r.empty;for(;h+=l,u+=c,c&&n&&(d=d.append(n[a-2>>1])),!(i||a==e.sections.length||e.sections[a+1]<0);)l=e.sections[a++],c=e.sections[a++];t(s,h,o,u,d),s=h,o=u}}}function R(e,t,i){let r=[],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?[]:null,s=new M(e),o=new M(t);for(let a=-1;;)if(-1==s.ins&&-1==o.ins){let e=Math.min(s.len,o.len);T(r,e,-1),s.forward(e),o.forward(e)}else if(o.ins>=0&&(s.ins<0||a==s.i||0==s.off&&(o.len<s.len||o.len==s.len&&!i))){let e=o.len;for(T(r,o.ins,-1);e;){let t=Math.min(s.len,e);s.ins>=0&&a<s.i&&s.len<=t&&(T(r,0,s.ins),n&&A(n,r,s.text),a=s.i),s.forward(t),e-=t}o.next()}else{if(!(s.ins>=0)){if(s.done&&o.done)return n?E.createSet(r,n):C.create(r);throw new Error("Mismatched change set lengths")}{let e=0,t=s.len;for(;t;)if(-1==o.ins){let i=Math.min(t,o.len);e+=i,t-=i,o.forward(i)}else{if(!(0==o.ins&&o.len<t))break;t-=o.len,o.next()}T(r,e,a<s.i?s.ins:0),n&&a<s.i&&A(n,r,s.text),a=s.i,s.forward(s.len-t)}}}function D(e,t){let i=[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[]:null,n=new M(e),s=new M(t);for(let o=!1;;){if(n.done&&s.done)return r?E.createSet(i,r):C.create(i);if(0==n.ins)T(i,n.len,0,o),n.next();else if(0!=s.len||s.done){if(n.done||s.done)throw new Error("Mismatched change set lengths");{let e=Math.min(n.len2,s.len),t=i.length;if(-1==n.ins){let t=-1==s.ins?-1:s.off?0:s.ins;T(i,e,t,o),r&&t&&A(r,i,s.text)}else-1==s.ins?(T(i,n.off?0:n.len,e,o),r&&A(r,i,n.textBit(e))):(T(i,n.off?0:n.len,s.off?0:s.ins,o),r&&!s.off&&A(r,i,s.text));o=(n.ins>e||s.ins>=0&&s.len>e)&&(o||i.length>t),n.forward2(e),s.forward(e)}}else T(i,0,s.ins,o),r&&A(r,i,s.text),s.next()}}class M{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?r.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?r.empty:t[i].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class L{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return 7==e?null:e}get goalColumn(){let e=this.flags>>6;return 16777215==e?void 0:e}map(e){let t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.empty?t=i=e.mapPos(this.from,r):(t=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),t==this.from&&i==this.to?this:new L(t,i,this.flags)}extend(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e<=this.anchor&&t>=this.anchor)return I.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return I.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return I.range(e.anchor,e.head)}static create(e,t,i){return new L(e,t,i)}}class I{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e.empty?this:I.create(this.ranges.map((i=>i.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new I([this.main],0)}addRange(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,i=this.ranges.slice();return i[t]=e,I.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new I(e.ranges.map((e=>L.fromJSON(e))),e.main)}static single(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new I([I.range(e,t)],0)}static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==e.length)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let n=e[r];if(n.empty?n.from<=i:n.from<i)return I.normalized(e.slice(),t);i=n.to}return new I(e,t)}static cursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return L.create(e,e,(0==t?0:t<0?8:16)|(null==i?7:Math.min(6,i))|(null!==r&&void 0!==r?r:16777215)<<6)}static range(e,t,i,r){let n=(null!==i&&void 0!==i?i:16777215)<<6|(null==r?7:Math.min(6,r));return t<e?L.create(t,e,48|n):L.create(e,t,(t>e?8:0)|n)}static normalized(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(i);for(let r=1;r<e.length;r++){let i=e[r],n=e[r-1];if(i.empty?i.from<=n.to:i.from<n.to){let s=n.from,o=Math.max(i.to,n.to);r<=t&&t--,e.splice(--r,2,i.anchor>i.head?I.range(o,s):I.range(s,o))}}return new I(e,t)}}function B(e,t){for(let i of e.ranges)if(i.to>t)throw new RangeError("Selection points outside of document")}let N=0;class j{constructor(e,t,i,r,n){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=N++,this.default=e([]),this.extensions="function"==typeof n?n(this):n}get reader(){return this}static define(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new j(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:W),!!e.static,e.enables)}of(e){return new z([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new z(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new z(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(i=>t(i.field(e))))}}function W(e,t){return e==t||e.length==t.length&&e.every(((e,i)=>e===t[i]))}class z{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=N++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,n=this.id,s=e[n]>>1,o=2==this.type,a=!1,l=!1,c=[];for(let h of this.dependencies)"doc"==h?a=!0:"selection"==h?l=!0:0==(1&(null!==(t=e[h.id])&&void 0!==t?t:1))&&c.push(e[h.id]);return{create:e=>(e.values[s]=i(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||F(e,c)){let t=i(e);if(o?!Q(t,e.values[s],r):!r(t,e.values[s]))return e.values[s]=t,1}return 0},reconfigure:(e,t)=>{let a,l=t.config.address[n];if(null!=l){let n=re(t,l);if(this.dependencies.every((i=>i instanceof j?t.facet(i)===e.facet(i):!(i instanceof H)||t.field(i,!1)==e.field(i,!1)))||(o?Q(a=i(e),n,r):r(a=i(e),n)))return e.values[s]=n,0}else a=i(e);return e.values[s]=a,1}}}}function Q(e,t,i){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1;return!0}function F(e,t){let i=!1;for(let r of t)1&ie(e,r)&&(i=!0);return i}function U(e,t,i){let r=i.map((t=>e[t.id])),n=i.map((e=>e.type)),s=r.filter((e=>!(1&e))),o=e[t.id]>>1;function a(e){let i=[];for(let t=0;t<r.length;t++){let s=re(e,r[t]);if(2==n[t])for(let e of s)i.push(e);else i.push(s)}return t.combine(i)}return{create(e){for(let t of r)ie(e,t);return e.values[o]=a(e),1},update(e,i){if(!F(e,s))return 0;let r=a(e);return t.compare(r,e.values[o])?0:(e.values[o]=r,1)},reconfigure(e,n){let s=F(e,r),l=n.config.facets[t.id],c=n.facet(t);if(l&&!s&&W(i,l))return e.values[o]=c,0;let h=a(e);return t.compare(h,c)?(e.values[o]=c,0):(e.values[o]=h,1)}}}const q=j.define({static:!0});class H{constructor(e,t,i,r,n){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=n,this.provides=void 0}static define(e){let t=new H(N++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(q).find((e=>e.field==this));return((null===t||void 0===t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,i)=>{let r=e.values[t],n=this.updateF(r,i);return this.compareF(r,n)?0:(e.values[t]=n,1)},reconfigure:(e,i)=>null!=i.config.address[this.id]?(e.values[t]=i.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,q.of({field:this,create:e})]}get extension(){return this}}const V=4,Y=3,X=2,Z=1;function G(e){return t=>new K(t,e)}const $={highest:G(0),high:G(Z),default:G(X),low:G(Y),lowest:G(V)};class K{constructor(e,t){this.inner=e,this.prec=t}}class J{of(e){return new ee(this,e)}reconfigure(e){return J.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class ee{constructor(e,t){this.compartment=e,this.inner=t}}class te{constructor(e,t,i,r,n,s){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=n,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],n=Object.create(null),s=new Map;for(let u of function(e,t,i){let r=[[],[],[],[],[]],n=new Map;function s(e,o){let a=n.get(e);if(null!=a){if(a<=o)return;let t=r[a].indexOf(e);t>-1&&r[a].splice(t,1),e instanceof ee&&i.delete(e.compartment)}if(n.set(e,o),Array.isArray(e))for(let t of e)s(t,o);else if(e instanceof ee){if(i.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(e.compartment)||e.inner;i.set(e.compartment,r),s(r,o)}else if(e instanceof K)s(e.inner,e.prec);else if(e instanceof H)r[o].push(e),e.provides&&s(e.provides,o);else if(e instanceof z)r[o].push(e),e.facet.extensions&&s(e.facet.extensions,X);else{let t=e.extension;if(!t)throw new Error("Unrecognized extension value in extension set (".concat(e,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));s(t,o)}}return s(e,X),r.reduce(((e,t)=>e.concat(t)))}(e,t,s))u instanceof H?r.push(u):(n[u.facet.id]||(n[u.facet.id]=[])).push(u);let o=Object.create(null),a=[],l=[];for(let u of r)o[u.id]=l.length<<1,l.push((e=>u.slot(e)));let c=null===i||void 0===i?void 0:i.config.facets;for(let u in n){let e=n[u],t=e[0].facet,r=c&&c[u]||[];if(e.every((e=>0==e.type)))if(o[t.id]=a.length<<1|1,W(r,e))a.push(i.facet(t));else{let r=t.combine(e.map((e=>e.value)));a.push(i&&t.compare(r,i.facet(t))?i.facet(t):r)}else{for(let t of e)0==t.type?(o[t.id]=a.length<<1|1,a.push(t.value)):(o[t.id]=l.length<<1,l.push((e=>t.dynamicSlot(e))));o[t.id]=l.length<<1,l.push((i=>U(i,t,e)))}}let h=l.map((e=>e(o)));return new te(e,s,h,o,a,n)}}function ie(e,t){if(1&t)return 2;let i=t>>1,r=e.status[i];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[i]=4;let n=e.computeSlot(e,e.config.dynamicSlots[i]);return e.status[i]=2|n}function re(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const ne=j.define(),se=j.define({combine:e=>e.some((e=>e)),static:!0}),oe=j.define({combine:e=>e.length?e[0]:void 0,static:!0}),ae=j.define(),le=j.define(),ce=j.define(),he=j.define({combine:e=>!!e.length&&e[0]});class ue{constructor(e,t){this.type=e,this.value=t}static define(){return new de}}class de{of(e){return new ue(this,e)}}class fe{constructor(e){this.map=e}of(e){return new pe(this,e)}}class pe{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new pe(this.type,t)}is(e){return this.type==e}static define(){return new fe((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let e=r.map(t);e&&i.push(e)}return i}}pe.reconfigure=pe.define(),pe.appendConfig=pe.define();class me{constructor(e,t,i,r,n,s){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=n,this.scrollIntoView=s,this._doc=null,this._state=null,i&&B(i,t.newLength),n.some((e=>e.type==me.time))||(this.annotations=n.concat(me.time.of(Date.now())))}static create(e,t,i,r,n,s){return new me(e,t,i,r,n,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(me.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function ge(e,t){let i=[];for(let r=0,n=0;;){let s,o;if(r<e.length&&(n==t.length||t[n]>=e[r]))s=e[r++],o=e[r++];else{if(!(n<t.length))return i;s=t[n++],o=t[n++]}!i.length||i[i.length-1]<s?i.push(s,o):i[i.length-1]<o&&(i[i.length-1]=o)}}function ve(e,t,i){var r;let n,s,o;return i?(n=t.changes,s=E.empty(t.changes.length),o=e.changes.compose(t.changes)):(n=t.changes.map(e.changes),s=e.changes.mapDesc(t.changes,!0),o=e.changes.compose(n)),{changes:o,selection:t.selection?t.selection.map(s):null===(r=e.selection)||void 0===r?void 0:r.map(n),effects:pe.mapEffects(e.effects,n).concat(pe.mapEffects(t.effects,s)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function _e(e,t,i){let r=t.selection,n=Oe(t.annotations);return t.userEvent&&(n=n.concat(me.userEvent.of(t.userEvent))),{changes:t.changes instanceof E?t.changes:E.of(t.changes||[],i,e.facet(oe)),selection:r&&(r instanceof I?r:I.single(r.anchor,r.head)),effects:Oe(t.effects),annotations:n,scrollIntoView:!!t.scrollIntoView}}function be(e,t,i){let r=_e(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(i=!1);for(let s=1;s<t.length;s++){!1===t[s].filter&&(i=!1);let n=!!t[s].sequential;r=ve(r,_e(e,t[s],n?r.changes.newLength:e.doc.length),n)}let n=me.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,i=t.facet(ce),r=e;for(let n=i.length-1;n>=0;n--){let s=i[n](e);s&&Object.keys(s).length&&(r=ve(r,_e(t,s,e.changes.newLength),!0))}return r==e?e:me.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(i?function(e){let t=e.startState,i=!0;for(let n of t.facet(ae)){let t=n(e);if(!1===t){i=!1;break}Array.isArray(t)&&(i=!0===i?t:ge(i,t))}if(!0!==i){let r,n;if(!1===i)n=e.changes.invertedDesc,r=E.empty(t.doc.length);else{let t=e.changes.filter(i);r=t.changes,n=t.filtered.mapDesc(t.changes).invertedDesc}e=me.create(t,r,e.selection&&e.selection.map(n),pe.mapEffects(e.effects,n),e.annotations,e.scrollIntoView)}let r=t.facet(le);for(let n=r.length-1;n>=0;n--){let i=r[n](e);e=i instanceof me?i:Array.isArray(i)&&1==i.length&&i[0]instanceof me?i[0]:be(t,Oe(i),!1)}return e}(n):n)}me.time=ue.define(),me.userEvent=ue.define(),me.addToHistory=ue.define(),me.remote=ue.define();const ye=[];function Oe(e){return null==e?ye:Array.isArray(e)?e:[e]}var we=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(we||(we={}));const Se=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let xe;try{xe=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Ve){}function ke(e){return t=>{if(!/\S/.test(t))return we.Space;if(function(e){if(xe)return xe.test(e);for(let t=0;t<e.length;t++){let i=e[t];if(/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||Se.test(i)))return!0}return!1}(t))return we.Word;for(let i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return we.Word;return we.Other}}class Ce{constructor(e,t,i,r,n,s){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=n,s&&(s._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)ie(this,o<<1);this.computeSlot=null}field(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.config.address[e.id];if(null!=i)return ie(this,i),re(this,i);if(t)throw new RangeError("Field is not present in this state")}update(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return be(this,t,!0)}applyTransaction(e){let t,i=this.config,{base:r,compartments:n}=i;for(let s of e.effects)s.is(J.reconfigure)?(i&&(n=new Map,i.compartments.forEach(((e,t)=>n.set(t,e))),i=null),n.set(s.value.compartment,s.value.extension)):s.is(pe.reconfigure)?(i=null,r=s.value):s.is(pe.appendConfig)&&(i=null,r=Oe(r).concat(s.value));if(i)t=e.startState.values.slice();else{i=te.resolve(r,n,this),t=new Ce(i,this.doc,this.selection,i.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values}new Ce(i,e.newDoc,e.newSelection,t,((t,i)=>i.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:I.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),n=[i.range],s=Oe(i.effects);for(let o=1;o<t.ranges.length;o++){let i=e(t.ranges[o]),a=this.changes(i.changes),l=a.map(r);for(let e=0;e<o;e++)n[e]=n[e].map(l);let c=r.mapDesc(a,!0);n.push(i.range.map(c)),r=r.compose(l),s=pe.mapEffects(s,l).concat(pe.mapEffects(Oe(i.effects),c))}return{changes:r,selection:I.create(n,t.mainIndex),effects:s}}changes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e instanceof E?e:E.of(e,this.doc.length,this.facet(Ce.lineSeparator))}toText(e){return r.of(e.split(this.facet(Ce.lineSeparator)||x))}sliceDoc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(ie(this,t),re(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof H&&null!=this.config.address[r.id]&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i)for(let n in i)if(Object.prototype.hasOwnProperty.call(e,n)){let t=i[n],s=e[n];r.push(t.init((e=>t.spec.fromJSON(s,e))))}return Ce.create({doc:e.doc,selection:I.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=te.resolve(e.extensions||[],new Map),i=e.doc instanceof r?e.doc:r.of((e.doc||"").split(t.staticFacet(Ce.lineSeparator)||x)),n=e.selection?e.selection instanceof I?e.selection:I.single(e.selection.anchor,e.selection.head):I.single(0);return B(n,i.length),t.staticFacet(se)||(n=n.asSingle()),new Ce(t,i,n,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Ce.tabSize)}get lineBreak(){return this.facet(Ce.lineSeparator)||"\n"}get readOnly(){return this.facet(he)}phrase(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];for(let n of this.facet(Ce.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return i.length&&(e=e.replace(/\$(\$|\d*)/g,((e,t)=>{if("$"==t)return"$";let r=+(t||1);return!r||r>i.length?e:i[r-1]}))),e}languageDataAt(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=[];for(let n of this.facet(ne))for(let s of n(this,t,i))Object.prototype.hasOwnProperty.call(s,e)&&r.push(s[e]);return r}charCategorizer(e){return ke(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),n=this.charCategorizer(e),s=e-i,o=e-i;for(;s>0;){let e=g(t,s,!1);if(n(t.slice(e,s))!=we.Word)break;s=e}for(;o<r;){let e=g(t,o);if(n(t.slice(o,e))!=we.Word)break;o=e}return s==o?null:I.range(s+i,o+i)}}function Ee(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};for(let n of e)for(let e of Object.keys(n)){let t=n[e],s=r[e];if(void 0===s)r[e]=t;else if(s===t||void 0===t);else{if(!Object.hasOwnProperty.call(i,e))throw new Error("Config merge conflict for field "+e);r[e]=i[e](s,t)}}for(let n in t)void 0===r[n]&&(r[n]=t[n]);return r}Ce.allowMultipleSelections=se,Ce.tabSize=j.define({combine:e=>e.length?e[0]:4}),Ce.lineSeparator=oe,Ce.readOnly=he,Ce.phrases=j.define({compare(e,t){let i=Object.keys(e),r=Object.keys(t);return i.length==r.length&&i.every((i=>e[i]==t[i]))}}),Ce.languageData=ne,Ce.changeFilter=ae,Ce.transactionFilter=le,Ce.transactionExtender=ce,J.reconfigure=pe.define();class Te{eq(e){return this==e}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Ae.create(e,t,this)}}Te.prototype.startSide=Te.prototype.endSide=0,Te.prototype.point=!1,Te.prototype.mapMode=k.TrackDel;class Ae{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new Ae(e,t,i)}}function Pe(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Re{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=i?this.to:this.from;for(let s=r,o=n.length;;){if(s==o)return s;let r=s+o>>1,a=n[r]-e||(i?this.value[r].endSide:this.value[r].startSide)-t;if(r==s)return a>=0?s:o;a>=0?o=r:s=r+1}}between(e,t,i,r){for(let n=this.findIndex(t,-1e9,!0),s=this.findIndex(i,1e9,!1,n);n<s;n++)if(!1===r(this.from[n]+e,this.to[n]+e,this.value[n]))return!1}map(e,t){let i=[],r=[],n=[],s=-1,o=-1;for(let a=0;a<this.value.length;a++){let l,c,h=this.value[a],u=this.from[a]+e,d=this.to[a]+e;if(u==d){let e=t.mapPos(u,h.startSide,h.mapMode);if(null==e)continue;if(l=c=e,h.startSide!=h.endSide&&(c=t.mapPos(u,h.endSide),c<l))continue}else if(l=t.mapPos(u,h.startSide),c=t.mapPos(d,h.endSide),l>c||l==c&&h.startSide>0&&h.endSide<=0)continue;(c-l||h.endSide-h.startSide)<0||(s<0&&(s=l),h.point&&(o=Math.max(o,c-l)),i.push(h),r.push(l-s),n.push(c-s))}return{mapped:i.length?new Re(r,n,i,o):null,pos:s}}}class De{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new De(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:n=this.length}=e,s=e.filter;if(0==t.length&&!s)return this;if(i&&(t=t.slice().sort(Pe)),this.isEmpty)return t.length?De.of(t):this;let o=new Ie(this,null,-1).goto(0),a=0,l=[],c=new Me;for(;o.value||a<t.length;)if(a<t.length&&(o.from-t[a].from||o.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(o.chunkIndex)<t[a].from)&&(!s||r>this.chunkEnd(o.chunkIndex)||n<this.chunkPos[o.chunkIndex])&&c.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||r>o.to||n<o.from||s(o.from,o.to,o.value))&&(c.addInner(o.from,o.to,o.value)||l.push(Ae.create(o.from,o.to,o.value))),o.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?De.empty:this.nextLayer.update({add:l,filter:s,filterFrom:r,filterTo:n}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let s=0;s<this.chunk.length;s++){let n=this.chunkPos[s],o=this.chunk[s],a=e.touchesRange(n,n+o.length);if(!1===a)r=Math.max(r,o.maxPoint),t.push(o),i.push(e.mapPos(n));else if(!0===a){let{mapped:s,pos:a}=o.map(n,e);s&&(r=Math.max(r,s.maxPoint),t.push(s),i.push(a))}}let n=this.nextLayer.map(e);return 0==t.length?n:new De(i,t,n||De.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let n=this.chunkPos[r],s=this.chunk[r];if(t>=n&&e<=n+s.length&&!1===s.between(n,e-n,t-n,i))return}this.nextLayer.between(e,t,i)}}iter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Be.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Be.from(e).goto(t)}static compare(e,t,i,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=n)),o=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=n)),a=Le(s,o,i),l=new je(s,a,n),c=new je(o,a,n);i.iterGaps(((e,t,i)=>We(l,e,c,t,i,r))),i.empty&&0==i.length&&We(l,0,c,0,0,r)}static eq(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;null==r&&(r=999999999);let n=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),s=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(n.length!=s.length)return!1;if(!n.length)return!0;let o=Le(n,s),a=new je(n,o,0).goto(i),l=new je(s,o,0).goto(i);for(;;){if(a.to!=l.to||!ze(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}static spans(e,t,i,r){let n=new je(e,null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1).goto(t),s=t,o=n.openStart;for(;;){let e=Math.min(n.to,i);if(n.point){let i=n.activeForPoint(n.to),a=n.pointFrom<t?i.length+1:Math.min(i.length,o);r.point(s,e,n.point,i,a,n.pointRank),o=Math.min(n.openEnd(e),i.length)}else e>s&&(r.span(s,e,n.active,o),o=n.openEnd(e));if(n.to>i)return o+(n.point&&n.to>i?1:0);s=n.to,n.next()}}static of(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=new Me;for(let r of e instanceof Ae?[e]:t?function(e){if(e.length>1)for(let t=e[0],i=1;i<e.length;i++){let r=e[i];if(Pe(t,r)>0)return e.slice().sort(Pe);t=r}return e}(e):e)i.add(r.from,r.to,r.value);return i.finish()}}De.empty=new De([],[],null,-1),De.empty.nextLayer=De.empty;class Me{finishChunk(e){this.chunks.push(new Re(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Me)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(De.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=De.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Le(e,t,i){let r=new Map;for(let s of e)for(let e=0;e<s.chunk.length;e++)s.chunk[e].maxPoint<=0&&r.set(s.chunk[e],s.chunkPos[e]);let n=new Set;for(let s of t)for(let e=0;e<s.chunk.length;e++){let t=r.get(s.chunk[e]);null==t||(i?i.mapPos(t):t)!=s.chunkPos[e]||(null===i||void 0===i?void 0:i.touchesRange(t,t+s.chunk[e].length))||n.add(s.chunk[e])}return n}class Ie{constructor(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Be{constructor(e){this.heap=e}static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=[];for(let n=0;n<e.length;n++)for(let s=e[n];!s.isEmpty;s=s.nextLayer)s.maxPoint>=i&&r.push(new Ie(s,t,i,n));return 1==r.length?r[0]:new Be(r)}get startSide(){return this.value?this.value.startSide:0}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Ne(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Ne(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Ne(this.heap,0)}}}function Ne(e,t){for(let i=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let n=e[r];if(r+1<e.length&&n.compare(e[r+1])>=0&&(n=e[r+1],r++),i.compare(n)<0)break;e[r]=i,e[t]=n,t=r}}class je{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Be.from(e,t,i)}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Qe(this.active,e),Qe(this.activeTo,e),Qe(this.activeRank,e),this.minActive=Ue(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:n}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=n;)t++;Fe(this.active,t,i),Fe(this.activeTo,t,r),Fe(this.activeRank,t,n),e&&Fe(e,t,this.cursor.from),this.minActive=Ue(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Qe(i,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(i),this.cursor.next()}}}if(i){this.openStart=0;for(let t=i.length-1;t>=0&&i[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function We(e,t,i,r,n,s){e.goto(t),i.goto(r);let o=r+n,a=r,l=r-t;for(;;){let t=e.to+l-i.to||e.endSide-i.endSide,r=t<0?e.to+l:i.to,n=Math.min(r,o);if(e.point||i.point?e.point&&i.point&&(e.point==i.point||e.point.eq(i.point))&&ze(e.activeForPoint(e.to),i.activeForPoint(i.to))||s.comparePoint(a,n,e.point,i.point):n>a&&!ze(e.active,i.active)&&s.compareRange(a,n,e.active,i.active),r>o)break;a=r,t<=0&&e.next(),t>=0&&i.next()}}function ze(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!=t[i]&&!e[i].eq(t[i]))return!1;return!0}function Qe(e,t){for(let i=t,r=e.length-1;i<r;i++)e[i]=e[i+1];e.pop()}function Fe(e,t,i){for(let r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=i}function Ue(e,t){let i=-1,r=1e9;for(let n=0;n<t.length;n++)(t[n]-r||e[n].endSide-e[i].endSide)<0&&(i=n,r=t[n]);return i}function qe(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0;for(let n=0;n<i;)9==e.charCodeAt(n)?(r+=t-r%t,n++):(r++,n=g(e,n));return r}function He(e,t,i,r){for(let n=0,s=0;;){if(s>=t)return n;if(n==e.length)break;s+=9==e.charCodeAt(n)?i-s%i:1,n=g(e,n)}return!0===r?-1:e.length}},7184:(e,t,i)=>{"use strict";i.d(t,{p:()=>he,Nm:()=>Ye,tk:()=>Xi,SJ:()=>On,lg:()=>Le,l9:()=>le,S2:()=>Gr,Uw:()=>vr,qr:()=>Er,Sd:()=>gn,gB:()=>fn,v5:()=>kn,ZO:()=>Wr,HQ:()=>Un,AE:()=>Ir,bF:()=>dn,$f:()=>ir,Eu:()=>Wn,OO:()=>Pe,W$:()=>Ur,Zs:()=>Yr,$1:()=>sr,mH:()=>yn,hJ:()=>on});for(var r=i(6580),n=i(5745),s={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),c=0;c<10;c++)s[48+c]=s[96+c]=String(c);for(c=1;c<=24;c++)s[c+111]="F"+c;for(c=65;c<=90;c++)s[c]=String.fromCharCode(c+32),o[c]=String.fromCharCode(c);for(var h in s)o.hasOwnProperty(h)||(o[h]=s[h]);function u(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function d(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function f(e,t){if(!t.anchorNode)return!1;try{return d(e,t.anchorNode)}catch(i){return!1}}function p(e){return 3==e.nodeType?k(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function m(e,t,i,r){return!!i&&(v(e,t,i,r,-1)||v(e,t,i,r,1))}function g(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function v(e,t,i,r,n){for(;;){if(e==i&&t==r)return!0;if(t==(n<0?0:_(e))){if("DIV"==e.nodeName)return!1;let i=e.parentNode;if(!i||1!=i.nodeType)return!1;t=g(e)+(n<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(n<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=n<0?_(e):0}}}function _(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function b(e,t){let i=t?e.left:e.right;return{left:i,right:i,top:e.top,bottom:e.bottom}}function y(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class O{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?_(t):0),i,Math.min(e.focusOffset,i?_(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let w,S=null;function x(e){if(e.setActive)return e.setActive();if(S)return e.focus(S);let t=[];for(let i=e;i&&(t.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(e.focus(null==S?{get preventScroll(){return S={preventScroll:!0},!0}}:void 0),!S){S=!1;for(let e=0;e<t.length;){let i=t[e++],r=t[e++],n=t[e++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=n&&(i.scrollLeft=n)}}}function k(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=w||(w=document.createRange());return r.setEnd(e,i),r.setStart(e,t),r}function C(e,t,i){let r={key:t,code:t,keyCode:i,which:i,cancelable:!0},n=new KeyboardEvent("keydown",r);n.synthetic=!0,e.dispatchEvent(n);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,e.dispatchEvent(s),n.defaultPrevented||s.defaultPrevented}function E(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function T(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}class A{constructor(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.node=e,this.offset=t,this.precise=i}static before(e,t){return new A(e.parentNode,g(e),t)}static after(e,t){return new A(e.parentNode,g(e)+1,t)}}const P=[];class R{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let i,r=this.dom,n=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(i=n?n.nextSibling:r.firstChild)){let e=R.get(i);(!e||!e.parent&&e.canReuseDOM(s))&&s.reuseDOM(i)}s.sync(e,t),s.flags&=-8}if(i=n?n.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&i!=s.dom&&(t.written=!0),s.dom.parentNode==r)for(;i&&i!=s.dom;)i=D(i);else r.insertBefore(s.dom,i);n=s.dom}for(i=n?n.nextSibling:r.firstChild,i&&t&&t.node==r&&(t.written=!0);i;)i=D(i)}else if(1&this.flags)for(let i of this.children)7&i.flags&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=0==_(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}i=r<0?e:e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!R.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,n=0;;r++){let e=this.children[r];if(e.dom==i)return n;n+=e.length+e.breakAfter}}domBoundsAround(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=-1,n=-1,s=-1,o=-1;for(let a=0,l=i,c=i;a<this.children.length;a++){let i=this.children[a],h=l+i.length;if(l<e&&h>t)return i.domBoundsAround(e,t,l);if(h>=e&&-1==r&&(r=a,n=l),l>t&&i.dom.parentNode==this.dom){s=a,o=c;break}c=h,l=h+i.breakAfter}return{from:n,to:o<0?i+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;this.markDirty();for(let r=e;r<t;r++){let e=this.children[r];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;return new M(this.children,e,this.children.length)}childPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,r,n,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){this.parent=null}}function D(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}R.prototype.breakAfter=0;class M{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function L(e,t,i,r,n,s,o,a,l){let{children:c}=e,h=c.length?c[t]:null,u=s.length?s[s.length-1]:null,d=u?u.breakAfter:o;if(!(t==r&&h&&!o&&!d&&s.length<2&&h.merge(i,n,s.length?u:null,0==i,a,l))){if(r<c.length){let e=c[r];e&&(n<e.length||e.breakAfter&&(null===u||void 0===u?void 0:u.breakAfter))?(t==r&&(e=e.split(n),n=0),!d&&u&&e.merge(0,n,u,!0,0,l)?s[s.length-1]=e:((n||e.children.length&&!e.children[0].length)&&e.merge(0,n,null,!1,0,l),s.push(e))):(null===e||void 0===e?void 0:e.breakAfter)&&(u?u.breakAfter=1:o=1),r++}for(h&&(h.breakAfter=o,i>0&&(!o&&s.length&&h.merge(i,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(i<h.length||h.children.length&&0==h.children[h.children.length-1].length)&&h.merge(i,h.length,null,!1,a,0),t++));t<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else{if(!c[t].become(s[0]))break;t++,s.shift(),a=s.length?0:l}!s.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,a,l)&&t--,(t<r||s.length)&&e.replaceChildren(t,r,s)}}function I(e,t,i,r,n,s){let o=e.childCursor(),{i:a,off:l}=o.findPos(i,1),{i:c,off:h}=o.findPos(t,-1),u=t-i;for(let d of r)u+=d.length;e.length+=u,L(e,c,h,a,l,r,0,n,s)}let B="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},N="undefined"!=typeof document?document:{documentElement:{style:{}}};const j=/Edge\/(\d+)/.exec(B.userAgent),W=/MSIE \d/.test(B.userAgent),z=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(B.userAgent),Q=!!(W||z||j),F=!Q&&/gecko\/(\d+)/i.test(B.userAgent),U=!Q&&/Chrome\/(\d+)/.exec(B.userAgent),q="webkitFontSmoothing"in N.documentElement.style,H=!Q&&/Apple Computer/.test(B.vendor),V=H&&(/Mobile\/\w+/.test(B.userAgent)||B.maxTouchPoints>2);var Y={mac:V||/Mac/.test(B.platform),windows:/Win/.test(B.platform),linux:/Linux|X11/.test(B.platform),ie:Q,ie_version:W?N.documentMode||6:z?+z[1]:j?+j[1]:0,gecko:F,gecko_version:F?+(/Firefox\/(\d+)/.exec(B.userAgent)||[0,0])[1]:0,chrome:!!U,chrome_version:U?+U[1]:0,ios:V,android:/Android\b/.test(B.userAgent),webkit:q,safari:H,webkit_version:q?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=N.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class X extends R{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,i){return!(8&this.flags||i&&(!(i instanceof X)||this.length-(t-e)+i.length>256||8&i.flags))&&(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new X(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new A(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,i){let r=e.nodeValue.length;t>r&&(t=r);let n=t,s=t,o=0;0==t&&i<0||t==r&&i>=0?Y.chrome||Y.gecko||(t?(n--,o=1):s<r&&(s++,o=-1)):i<0?n--:s<r&&s++;let a=k(e,n,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:i>=0)?0:a.length-1];Y.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l);return o?b(l,o<0):l||null}(this.dom,e,t)}}class Z extends R{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(E(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,r,n,s){return(!i||!(!(i instanceof Z&&i.mark.eq(this.mark))||e&&n<=0||t<this.length&&s<=0))&&(I(this,e,t,i?i.children:[],n-1,s-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,n=0;for(let o of this.children){let s=i+o.length;s>e&&t.push(i<e?o.split(e-i):o),r<0&&i>=e&&(r=n),i=s,n++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Z(this.mark,t,s)}domAtPos(e){return K(this,e)}coordsAt(e,t){return ee(this,e,t)}}class G extends R{static create(e,t,i){return new G(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=G.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,n,s){return!(i&&(!(i instanceof G&&this.widget.compare(i.widget))||e>0&&n<=0||t<this.length&&s<=0))&&(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof G&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return r.xv.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):r.xv.empty}domAtPos(e){return(this.length?0==e:this.side>0)?A.before(this.dom):A.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let r=this.dom.getClientRects(),n=null;if(!r.length)return null;let s=this.side?this.side<0:e>0;for(let o=s?r.length-1:0;n=r[o],!(e>0?0==o:o==r.length-1||n.top<n.bottom);o+=s?-1:1);return b(n,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class $ extends R{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof $&&e.side==this.side}split(){return new $(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?A.before(this.dom):A.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return r.xv.empty}get isHidden(){return!0}}function K(e,t){let i=e.dom,{children:r}=e,n=0;for(let s=0;n<r.length;n++){let e=r[n],o=s+e.length;if(!(o==s&&e.getSide()<=0)){if(t>s&&t<o&&e.dom.parentNode==i)return e.domAtPos(t-s);if(t<=s)break;s=o}}for(let s=n;s>0;s--){let e=r[s-1];if(e.dom.parentNode==i)return e.domAtPos(e.length)}for(let s=n;s<r.length;s++){let e=r[s];if(e.dom.parentNode==i)return e.domAtPos(0)}return new A(i,0)}function J(e,t,i){let r,{children:n}=e;i>0&&t instanceof Z&&n.length&&(r=n[n.length-1])instanceof Z&&r.mark.eq(t.mark)?J(r,t.children[0],i-1):(n.push(t),t.setParent(e)),e.length+=t.length}function ee(e,t,i){let r=null,n=-1,s=null,o=-1;!function e(t,a){for(let l=0,c=0;l<t.children.length&&c<=a;l++){let h=t.children[l],u=c+h.length;u>=a&&(h.children.length?e(h,a-c):(!s||s.isHidden&&i>0)&&(u>a||c==u&&h.getSide()>0)?(s=h,o=a-c):(c<a||c==u&&h.getSide()<0&&!h.isHidden)&&(r=h,n=a-c)),c=u}}(e,t);let a=(i<0?r:s)||r||s;return a?a.coordsAt(Math.max(0,a==r?n:o),i):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let i=p(t);return i[i.length-1]||null}(e)}function te(e,t){for(let i in e)"class"==i&&t.class?t.class+=" "+e.class:"style"==i&&t.style?t.style+=";"+e.style:t[i]=e[i];return t}X.prototype.children=G.prototype.children=$.prototype.children=P;const ie=Object.create(null);function re(e,t,i){if(e==t)return!0;e||(e=ie),t||(t=ie);let r=Object.keys(e),n=Object.keys(t);if(r.length-(i&&r.indexOf(i)>-1?1:0)!=n.length-(i&&n.indexOf(i)>-1?1:0))return!1;for(let s of r)if(s!=i&&(-1==n.indexOf(s)||e[s]!==t[s]))return!1;return!0}function ne(e,t,i){let r=!1;if(t)for(let n in t)i&&n in i||(r=!0,"style"==n?e.style.cssText="":e.removeAttribute(n));if(i)for(let n in i)t&&t[n]==i[n]||(r=!0,"style"==n?e.style.cssText=i[n]:e.setAttribute(n,i[n]));return r}function se(e){let t=Object.create(null);for(let i=0;i<e.attributes.length;i++){let r=e.attributes[i];t[r.name]=r.value}return t}class oe extends R{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,n,s){if(i){if(!(i instanceof oe))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),I(this,e,t,i?i.children:[],n,s),!0}split(e){let t=new oe;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let n=i;n<this.children.length;n++)t.append(this.children[n],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){re(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){J(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=te(t,this.attrs||{})),i&&(this.attrs=te({class:i},this.attrs||{}))}domAtPos(e){return K(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?4&this.flags&&(E(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(ne(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&R.get(r)instanceof Z;)r=r.lastChild;if(!r||!this.length||"BR"!=r.nodeName&&0==(null===(i=R.get(r))||void 0===i?void 0:i.isEditable)&&(!Y.ios||!this.children.some((e=>e instanceof X)))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let i of this.children){if(!(i instanceof X)||/[^ -~]/.test(i.text))return null;let r=p(i.dom);if(1!=r.length)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let i=ee(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=i.bottom-i.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let r=(t-e.textHeight)/2;return{top:i.top+r,bottom:i.bottom-r,left:i.left,right:i.left}}}return i}become(e){return!1}covers(){return!0}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let n=e.children[i],s=r+n.length;if(s>=t){if(n instanceof oe)return n;if(s>t)break}r=s+n.breakAfter}return null}}class ae extends R{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,n,s){return!(i&&(!(i instanceof ae&&this.widget.compare(i.widget))||e>0&&n<=0||t<this.length&&s<=0))&&(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?A.before(this.dom):A.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new ae(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return P}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):r.xv.empty}domBoundsAround(){return null}become(e){return e instanceof ae&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t!=i&&(e<0?t<0:i>0)}}class le{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}destroy(e){}}var ce=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(ce||(ce={}));class he extends r.uU{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new ue(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new fe(e,t,t,i,e.widget||null,!1)}static replace(e){let t,i,r=!!e.block;if(e.isBlockGap)t=-5e8,i=4e8;else{let{start:n,end:s}=pe(e,r);t=(n?r?-3e8:-1:5e8)-1,i=1+(s?r?2e8:1:-6e8)}return new fe(e,t,i,r,e.widget||null,!0)}static line(e){return new de(e)}static set(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.Xs.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}he.none=r.Xs.empty;class ue extends he{constructor(e){let{start:t,end:i}=pe(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof ue&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(i=e.attrs)||void 0===i?void 0:i.class))&&re(this.attrs,e.attrs,"class")}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}ue.prototype.point=!1;class de extends he{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof de&&this.spec.class==e.spec.class&&re(this.spec.attributes,e.spec.attributes)}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}de.prototype.mapMode=r.gc.TrackBefore,de.prototype.point=!0;class fe extends he{constructor(e,t,i,n,s,o){super(t,i,s,e),this.block=n,this.isReplace=o,this.mapMode=n?t<=0?r.gc.TrackBefore:r.gc.TrackAfter:r.gc.TrackDel}get type(){return this.startSide!=this.endSide?ce.WidgetRange:this.startSide<=0?ce.WidgetBefore:ce.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof fe&&(t=this.widget,i=e.widget,t==i||!!(t&&i&&t.compare(i)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,i}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function pe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{inclusiveStart:i,inclusiveEnd:r}=e;return null==i&&(i=e.inclusive),null==r&&(r=e.inclusive),{start:null!==i&&void 0!==i?i:t,end:null!==r&&void 0!==r?r:t}}function me(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=i.length-1;n>=0&&i[n]+r>=e?i[n]=Math.max(i[n],t):i.push(e,t)}fe.prototype.point=!0;class ge{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ae&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new oe),this.atCursorPos=!0),this.curLine}flushBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bufferMarks;this.pendingBuffer&&(this.curLine.append(ve(new $(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof ae||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:i,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(i){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(ve(new X(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,n,s){if(this.disallowBlockEffectsFor[s]&&i instanceof fe){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(i instanceof fe)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ae(i.widget||new _e("div"),o,i));else{let s=G.create(i.widget||new _e("span"),o,o?0:i.startSide),a=this.atCursorPos&&!s.isEditable&&n<=r.length&&(e<t||i.startSide>0),l=!s.isEditable&&(e<t||n>r.length||i.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),a&&(c.append(ve(new $(1),r),n),n=r.length+Math.max(0,n-r.length)),c.append(ve(s,r),n),this.atCursorPos=l,this.pendingBuffer=l?e<t||n>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=n)}static build(e,t,i,n,s){let o=new ge(e,t,i,s);return o.openEnd=r.Xs.spans(n,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function ve(e,t){for(let i of t)e=new Z(i,[e],e.length);return e}class _e extends le{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const be=r.r$.define(),ye=r.r$.define(),Oe=r.r$.define(),we=r.r$.define(),Se=r.r$.define(),xe=r.r$.define(),ke=r.r$.define(),Ce=r.r$.define({combine:e=>e.some((e=>e))}),Ee=r.r$.define({combine:e=>e.some((e=>e))});class Te{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=n,this.isSnapshot=s}map(e){return e.empty?this:new Te(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Te(r.jT.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ae=r.Py.define({map:(e,t)=>e.map(t)});function Pe(e,t,i){let r=e.facet(we);r.length?r[0](t):window.onerror?window.onerror(String(t),i,void 0,void 0,t):i?console.error(i+":",t):console.error(t)}const Re=r.r$.define({combine:e=>!e.length||e[0]});let De=0;const Me=r.r$.define();class Le{constructor(e,t,i,r,n){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=r,this.extension=n(this)}static define(e,t){const{eventHandlers:i,eventObservers:r,provide:n,decorations:s}=t||{};return new Le(De++,e,i,r,(e=>{let t=[Me.of(e)];return s&&t.push(je.of((t=>{let i=t.plugin(e);return i?s(i):he.none}))),n&&t.push(n(e)),t}))}static fromClass(e,t){return Le.define((t=>new e(t)),t)}}class Ie{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(Pe(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(i){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Pe(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(i){Pe(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Be=r.r$.define(),Ne=r.r$.define(),je=r.r$.define(),We=r.r$.define(),ze=r.r$.define();function Qe(e,t,i){let n=e.state.facet(ze);if(!n.length)return n;let s=n.map((t=>t instanceof Function?t(e):t)),o=[];return r.Xs.spans(s,t,i,{point(){},span(e,t,i,r){let n=o;for(let s=i.length-1;s>=0;s--,r--){let o,a=i[s].spec.bidiIsolate;if(null!=a)if(r>0&&n.length&&(o=n[n.length-1]).to==e&&o.direction==a)o.to=t,n=o.inner;else{let i={from:e,to:t,direction:a,inner:[]};n.push(i),n=i.inner}}}}),o}const Fe=r.r$.define();function Ue(e){let t=0,i=0,r=0,n=0;for(let s of e.state.facet(Fe)){let o=s(e);o&&(null!=o.left&&(t=Math.max(t,o.left)),null!=o.right&&(i=Math.max(i,o.right)),null!=o.top&&(r=Math.max(r,o.top)),null!=o.bottom&&(n=Math.max(n,o.bottom)))}return{left:t,right:i,top:r,bottom:n}}const qe=r.r$.define();class He{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new He(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(0==t.length)return e;let i=[];for(let r=0,n=0,s=0,o=0;;r++){let a=r==e.length?null:e[r],l=s-o,c=a?a.fromB:1e9;for(;n<t.length&&t[n]<c;){let e=t[n],r=t[n+1],s=Math.max(o,e),a=Math.min(c,r);if(s<=a&&new He(s+l,a+l,s,a).addToSet(i),r>c)break;n+=2}if(!a)return i;new He(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),s=a.toA,o=a.toB}}}class Ve{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=r.as.empty(this.startState.doc.length);for(let r of i)this.changes=this.changes.compose(r.changes);let n=[];this.changes.iterChangedRanges(((e,t,i,r)=>n.push(new He(e,t,i,r)))),this.changedRanges=n}static create(e,t,i){return new Ve(e,t,i)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Ye=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Ye||(Ye={}));const Xe=Ye.LTR,Ze=Ye.RTL;function Ge(e){let t=[];for(let i=0;i<e.length;i++)t.push(1<<+e[i]);return t}const $e=Ge("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ke=Ge("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Je=Object.create(null),et=[];for(let qn of["()","[]","{}"]){let e=qn.charCodeAt(0),t=qn.charCodeAt(1);Je[e]=t,Je[t]=-e}const tt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class it{get dir(){return this.level%2?Ze:Xe}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let n=-1;for(let s=0;s<e.length;s++){let o=e[s];if(o.from<=t&&o.to>=t){if(o.level==i)return s;(n<0||(0!=r?r<0?o.from<t:o.to>t:e[n].level>o.level))&&(n=s)}}if(n<0)throw new RangeError("Index out of range");return n}}function rt(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],n=t[i];if(r.from!=n.from||r.to!=n.to||r.direction!=n.direction||!rt(r.inner,n.inner))return!1}return!0}const nt=[];function st(e,t,i,r,n,s,o){let a=r%2?2:1;if(r%2==n%2)for(let l=t,c=0;l<i;){let t=!0,h=!1;if(c==s.length||l<s[c].from){let e=nt[l];e!=a&&(t=!1,h=16==e)}let u=t||1!=a?null:[],d=t?r:r+1,f=l;e:for(;;)if(c<s.length&&f==s[c].from){if(h)break e;let p=s[c];if(!t)for(let e=p.to,t=c+1;;){if(e==i)break e;if(!(t<s.length&&s[t].from==e)){if(nt[e]==a)break e;break}e=s[t++].to}if(c++,u)u.push(p);else{p.from>l&&o.push(new it(l,p.from,d)),ot(e,p.direction==Xe!=!(d%2)?r+1:r,n,p.inner,p.from,p.to,o),l=p.to}f=p.to}else{if(f==i||(t?nt[f]!=a:nt[f]==a))break;f++}u?st(e,l,f,r+1,n,u,o):l<f&&o.push(new it(l,f,d)),l=f}else for(let l=i,c=s.length;l>t;){let i=!0,h=!1;if(!c||l>s[c-1].to){let e=nt[l-1];e!=a&&(i=!1,h=16==e)}let u=i||1!=a?null:[],d=i?r:r+1,f=l;e:for(;;)if(c&&f==s[c-1].to){if(h)break e;let p=s[--c];if(!i)for(let e=p.from,i=c;;){if(e==t)break e;if(!i||s[i-1].to!=e){if(nt[e-1]==a)break e;break}e=s[--i].from}if(u)u.push(p);else{p.to<l&&o.push(new it(p.to,l,d)),ot(e,p.direction==Xe!=!(d%2)?r+1:r,n,p.inner,p.from,p.to,o),l=p.from}f=p.from}else{if(f==t||(i?nt[f-1]!=a:nt[f-1]==a))break;f--}u?st(e,f,l,r+1,n,u,o):f<l&&o.push(new it(f,l,d)),l=f}}function ot(e,t,i,r,n,s,o){let a=t%2?2:1;!function(e,t,i,r,n){for(let o=0;o<=r.length;o++){let a=o?r[o-1].to:t,l=o<r.length?r[o].from:i,c=o?256:n;for(let t=a,i=c,r=c;t<l;t++){let n=(s=e.charCodeAt(t))<=247?$e[s]:1424<=s&&s<=1524?2:1536<=s&&s<=1785?Ke[s-1536]:1774<=s&&s<=2220?4:8192<=s&&s<=8203?256:64336<=s&&s<=65023?4:8204==s?256:1;512==n?n=i:8==n&&4==r&&(n=16),nt[t]=4==n?2:n,7&n&&(r=n),i=n}for(let e=a,t=c,r=c;e<l;e++){let n=nt[e];if(128==n)e<l-1&&t==nt[e+1]&&24&t?n=nt[e]=t:nt[e]=256;else if(64==n){let n=e+1;for(;n<l&&64==nt[n];)n++;let s=e&&8==t||n<i&&8==nt[n]?1==r?1:8:256;for(let t=e;t<n;t++)nt[t]=s;e=n-1}else 8==n&&1==r&&(nt[e]=1);t=n,7&n&&(r=n)}}var s}(e,n,s,r,a),function(e,t,i,r,n){let s=1==n?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:t,h=o<r.length?r[o].from:i;for(let t,i,r,o=c;o<h;o++)if(i=Je[t=e.charCodeAt(o)])if(i<0){for(let e=a-3;e>=0;e-=3)if(et[e+1]==-i){let t=et[e+2],i=2&t?n:4&t?1&t?s:n:0;i&&(nt[o]=nt[et[e]]=i),a=e;break}}else{if(189==et.length)break;et[a++]=o,et[a++]=t,et[a++]=l}else if(2==(r=nt[o])||1==r){let e=r==n;l=e?0:1;for(let t=a-3;t>=0;t-=3){let i=et[t+2];if(2&i)break;if(e)et[t+2]|=2;else{if(4&i)break;et[t+2]|=4}}}}}(e,n,s,r,a),function(e,t,i,r){for(let n=0,s=r;n<=i.length;n++){let o=n?i[n-1].to:e,a=n<i.length?i[n].from:t;for(let l=o;l<a;){let o=nt[l];if(256==o){let o=l+1;for(;;)if(o==a){if(n==i.length)break;o=i[n++].to,a=n<i.length?i[n].from:t}else{if(256!=nt[o])break;o++}let c=1==s,h=c==(1==(o<t?nt[o]:r))?c?1:2:r;for(let t=o,r=n,s=r?i[r-1].to:e;t>l;)t==s&&(t=i[--r].from,s=r?i[r-1].to:e),nt[--t]=h;l=o}else s=o,l++}}}(n,s,r,a),st(e,n,s,t,i,r,o)}function at(e,t,i){if(!e)return[new it(0,0,t==Ze?1:0)];if(t==Xe&&!i.length&&!tt.test(e))return lt(e.length);if(i.length)for(;e.length>nt.length;)nt[nt.length]=256;let r=[],n=t==Xe?0:1;return ot(e,n,n,i,0,e.length,r),r}function lt(e){return[new it(0,e,0)]}let ct="";function ht(e,t,i,n,s){var o;let a=n.head-e.from,l=-1;if(0==a){if(!s||!e.length)return null;t[0].level!=i&&(a=t[0].side(!1,i),l=0)}else if(a==e.length){if(s)return null;let e=t[t.length-1];e.level!=i&&(a=e.side(!0,i),l=t.length-1)}l<0&&(l=it.find(t,a,null!==(o=n.bidiLevel)&&void 0!==o?o:-1,n.assoc));let c=t[l];a==c.side(s,i)&&(c=t[l+=s?1:-1],a=c.side(!s,i));let h=s==(c.dir==i),u=(0,r.cp)(e.text,a,h);if(ct=e.text.slice(Math.min(a,u),Math.max(a,u)),u!=c.side(s,i))return r.jT.cursor(u+e.from,h?-1:1,c.level);let d=l==(s?t.length-1:0)?null:t[l+(s?1:-1)];return d||c.level==i?d&&d.level<c.level?r.jT.cursor(d.side(!s,i)+e.from,s?1:-1,d.level):r.jT.cursor(u+e.from,s?-1:1,c.level):r.jT.cursor(s?e.to:e.from,s?-1:1,i)}class ut extends R{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new oe],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new He(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every((e=>{let{fromA:t,toA:i}=e;return i<this.minWidthFrom||t>this.minWidthTo}))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let n=-1;this.view.inputState.composing>=0&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?n=this.domChanged.newSel.head:function(e,t){let i=!1;t&&e.iterChangedRanges(((e,r)=>{e<t.to&&r>t.from&&(i=!0)}));return i}(e.changes,this.hasComposition)||e.selectionSet||(n=e.state.selection.main.head));let s=n>-1?function(e,t,i){let r=ft(e,i);if(!r)return null;let{node:n,from:s,to:o}=r,a=n.nodeValue;if(/[\n\r]/.test(a))return null;if(e.state.doc.sliceString(r.from,r.to)!=a)return null;let l=t.invertedDesc,c=new He(l.mapPos(s),l.mapPos(o),s,o),h=[];for(let u=n.parentNode;;u=u.parentNode){let t=R.get(u);if(t instanceof Z)h.push({node:u,deco:t.mark});else{if(t instanceof oe||"DIV"==u.nodeName&&u.parentNode==e.contentDOM)return{range:c,text:n,marks:h,line:u};if(u==e.contentDOM)return null;h.push({node:u,deco:new ue({inclusive:!0,attributes:se(u),tagName:u.tagName.toLowerCase()})})}}}(this.view,e.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:r}=this.hasComposition;i=new He(t,r,e.changes.mapPos(t,-1),e.changes.mapPos(r,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Y.ie||Y.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=function(e,t,i){let n=new mt;return r.Xs.compare(e,t,i,n),n.changes}(this.decorations,this.updateDeco(),e.changes);return i=He.extendWithRanges(i,o),!!(7&this.flags||0!=i.length)&&(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=Y.chrome||Y.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((e=>e.flags&=-9));let n=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof ae&&s.widget instanceof dt&&n.push(s.dom);r.updateGaps(n)}updateChildren(e,t,i){let r=i?i.range.addToSet(e.slice()):e,n=this.childCursor(t);for(let s=r.length-1;;s--){let e=s>=0?r[s]:null;if(!e)break;let t,o,a,l,{fromA:c,toA:h,fromB:u,toB:d}=e;if(i&&i.range.fromB<d&&i.range.toB>u){let e=ge.build(this.view.state.doc,u,i.range.fromB,this.decorations,this.dynamicDecorationMap),r=ge.build(this.view.state.doc,i.range.toB,d,this.decorations,this.dynamicDecorationMap);o=e.breakAtStart,a=e.openStart,l=r.openEnd;let n=this.compositionView(i);r.breakAtStart?n.breakAfter=1:r.content.length&&n.merge(n.length,n.length,r.content[0],!1,r.openStart,0)&&(n.breakAfter=r.content[0].breakAfter,r.content.shift()),e.content.length&&n.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),t=e.content.concat(n).concat(r.content)}else({content:t,breakAtStart:o,openStart:a,openEnd:l}=ge.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:f,off:p}=n.findPos(h,1),{i:m,off:g}=n.findPos(c,-1);L(this,m,g,f,p,t,o,a,l)}i&&this.fixCompositionDOM(i)}compositionView(e){let t=new X(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new Z(r,[t],t.length);let i=new oe;return i.append(t,0),i}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some((e=>7&e.flags))?1:0),this.markedForComposition.add(t);let i=R.get(e);i&&i!=t&&(i.dom=null),t.setDOM(e)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];t(e.line,r);for(let n=e.marks.length-1;n>=-1;n--)i=r.childPos(i.off,1),r=r.children[i.i],t(n>=0?e.marks[n].node:e.text,r)}updateSelection(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let t=this.view.root.activeElement,i=t==this.dom,r=!i&&f(this.dom,this.view.observer.selectionRange)&&!(t&&this.dom.contains(t));if(!(i||e||r))return;let n=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,o=this.moveToLine(this.domAtPos(s.anchor)),a=s.empty?o:this.moveToLine(this.domAtPos(s.head));if(Y.gecko&&s.empty&&!this.hasComposition&&(1==(l=o).node.nodeType&&l.node.firstChild&&(0==l.offset||"false"==l.node.childNodes[l.offset-1].contentEditable)&&(l.offset==l.node.childNodes.length||"false"==l.node.childNodes[l.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore((()=>o.node.insertBefore(e,o.node.childNodes[o.offset]||null))),o=a=new A(e,0),n=!0}var l;let c=this.view.observer.selectionRange;!n&&c.focusNode&&m(o.node,o.offset,c.anchorNode,c.anchorOffset)&&m(a.node,a.offset,c.focusNode,c.focusOffset)||(this.view.observer.ignore((()=>{Y.android&&Y.chrome&&this.dom.contains(c.focusNode)&&function(e,t){for(let i=e;i&&i!=t;i=i.assignedSlot||i.parentNode)if(1==i.nodeType&&"false"==i.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=u(this.view.root);if(e)if(s.empty){if(Y.gecko){let e=(i=o.node,n=o.offset,1!=i.nodeType?0:(n&&"false"==i.childNodes[n-1].contentEditable?1:0)|(n<i.childNodes.length&&"false"==i.childNodes[n].contentEditable?2:0));if(e&&3!=e){let t=pt(o.node,o.offset,1==e?1:-1);t&&(o=new A(t.node,t.offset))}}e.collapse(o.node,o.offset),null!=s.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=s.bidiLevel)}else if(e.extend){e.collapse(o.node,o.offset);try{e.extend(a.node,a.offset)}catch(l){}}else{let t=document.createRange();s.anchor>s.head&&([o,a]=[a,o]),t.setEnd(a.node,a.offset),t.setStart(o.node,o.offset),e.removeAllRanges(),e.addRange(t)}else;var i,n;r&&this.view.root.activeElement==this.dom&&(this.dom.blur(),t&&t.focus())})),this.view.observer.setSelectionRange(o,a)),this.impreciseAnchor=o.precise?null:new A(c.anchorNode,c.anchorOffset),this.impreciseHead=a.precise?null:new A(c.focusNode,c.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=u(e.root),{anchorNode:r,anchorOffset:n}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let s=oe.find(this,t.head);if(!s)return;let o=s.posAtStart;if(t.head==o||t.head==o+s.length)return;let a=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!a||!l||a.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);i.collapse(c.node,c.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&i.collapse(r,n)}moveToLine(e){let t,i=this.dom;if(e.node!=i)return e;for(let r=e.offset;!t&&r<i.childNodes.length;r++){let e=R.get(i.childNodes[r]);e instanceof oe&&(t=e.domAtPos(0))}for(let r=e.offset-1;!t&&r>=0;r--){let e=R.get(i.childNodes[r]);e instanceof oe&&(t=e.domAtPos(e.length))}return t?new A(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=R.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(i<e.length||e instanceof oe)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,r=0;for(let n=this.length,s=this.children.length-1;s>=0;s--){let o=this.children[s],a=n-o.breakAfter,l=a-o.length;if(a<e)break;l<=e&&(l<e||o.covers(-1))&&(a>e||o.covers(1))&&(!i||o instanceof oe&&!(i instanceof oe&&t>=0))&&(i=o,r=l),n=l}return i?i.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),n=this.children[t];if(!(n instanceof oe))return null;for(;n.children.length;){let{i:e,off:t}=n.childPos(i,1);for(;;e++){if(e==n.children.length)return null;if((n=n.children[e]).length)break}i=t}if(!(n instanceof X))return null;let s=(0,r.cp)(n.text,i);if(s==i)return null;let o=k(n.dom,i,s).getClientRects();for(let r=0;r<o.length;r++){let e=o[r];if(r==o.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,n=this.view.contentDOM.clientWidth,s=n>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==Ye.LTR;for(let l=0,c=0;c<this.children.length;c++){let e=this.children[c],h=l+e.length;if(h>r)break;if(l>=i){let i=e.dom.getBoundingClientRect();if(t.push(i.height),s){let t=e.dom.lastChild,r=t?p(t):[];if(r.length){let e=r[r.length-1],t=a?e.right-i.left:i.right-e.left;t>o&&(o=t,this.minWidth=n,this.minWidthFrom=l,this.minWidthTo=h)}}}l=h+e.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Ye.RTL:Ye.LTR}measureTextSize(){for(let n of this.children)if(n instanceof oe){let e=n.measureTextSize();if(e)return e}let e,t,i,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let n=p(r.firstChild)[0];e=r.getBoundingClientRect().height,t=n?n.width/27:7,i=n?n.height:e,r.remove()})),{lineHeight:e,charWidth:t,textHeight:i}}childCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,t=this.children.length;return t&&(e-=this.children[--t].length),new M(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let n=r==t.viewports.length?null:t.viewports[r],s=n?n.from-1:this.length;if(s>i){let r=(t.lineBlockAt(s).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(he.replace({widget:new dt(r),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!n)break;i=n.to+1}return he.set(e)}updateDeco(){let e=this.view.state.facet(je).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e));for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}let t,{range:i}=e,r=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1);if(!r)return;!i.empty&&(t=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let n=Ue(this.view),s={left:r.left-n.left,top:r.top-n.top,right:r.right+n.right,bottom:r.bottom+n.bottom},{offsetWidth:o,offsetHeight:a}=this.view.scrollDOM;!function(e,t,i,r,n,s,o,a){let l=e.ownerDocument,c=l.defaultView||window;for(let h=e,u=!1;h&&!u;)if(1==h.nodeType){let e,d=h==l.body,f=1,p=1;if(d)e=y(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(u=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let t=h.getBoundingClientRect();f=t.width/h.offsetWidth,p=t.height/h.offsetHeight,e={left:t.left,right:t.left+h.clientWidth*f,top:t.top,bottom:t.top+h.clientHeight*p}}let m=0,g=0;if("nearest"==n)t.top<e.top?(g=-(e.top-t.top+o),i>0&&t.bottom>e.bottom+g&&(g=t.bottom-e.bottom+g+o)):t.bottom>e.bottom&&(g=t.bottom-e.bottom+o,i<0&&t.top-g<e.top&&(g=-(e.top+g-t.top+o)));else{let r=t.bottom-t.top,s=e.bottom-e.top;g=("center"==n&&r<=s?t.top+r/2-s/2:"start"==n||"center"==n&&i<0?t.top-o:t.bottom-s+o)-e.top}if("nearest"==r?t.left<e.left?(m=-(e.left-t.left+s),i>0&&t.right>e.right+m&&(m=t.right-e.right+m+s)):t.right>e.right&&(m=t.right-e.right+s,i<0&&t.left<e.left+m&&(m=-(e.left+m-t.left+s))):m=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==a?t.left-s:t.right-(e.right-e.left)+s)-e.left,m||g)if(d)c.scrollBy(m,g);else{let e=0,i=0;if(g){let e=h.scrollTop;h.scrollTop+=g/p,i=(h.scrollTop-e)*p}if(m){let t=h.scrollLeft;h.scrollLeft+=m/f,e=(h.scrollLeft-t)*f}t={left:t.left-e,top:t.top-i,right:t.right-e,bottom:t.bottom-i},e&&Math.abs(e-m)<1&&(r="nearest"),i&&Math.abs(i-g)<1&&(n="nearest")}if(d)break;h=h.assignedSlot||h.parentNode}else{if(11!=h.nodeType)break;h=h.host}}(this.view.scrollDOM,s,i.head<i.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==Ye.LTR)}}class dt extends le{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function ft(e,t){let i=e.observer.selectionRange,r=i.focusNode&&pt(i.focusNode,i.focusOffset,0);if(!r)return null;let n=t-r.offset;return{from:n,to:n+r.node.nodeValue.length,node:r.node}}function pt(e,t,i){if(i<=0)for(let r=e,n=t;;){if(3==r.nodeType)return{node:r,offset:n};if(!(1==r.nodeType&&n>0))break;r=r.childNodes[n-1],n=_(r)}if(i>=0)for(let r=e,n=t;;){if(3==r.nodeType)return{node:r,offset:n};if(!(1==r.nodeType&&n<r.childNodes.length&&i>=0))break;r=r.childNodes[n],n=0}return null}let mt=class{constructor(){this.changes=[]}compareRange(e,t){me(e,t,this.changes)}comparePoint(e,t){me(e,t,this.changes)}};function gt(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function vt(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function _t(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function bt(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function yt(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Ot(e,t,i){let r,n,s,o,a,l,c,h,u=!1;for(let f=e.firstChild;f;f=f.nextSibling){let e=p(f);for(let d=0;d<e.length;d++){let p=e[d];n&&_t(n,p)&&(p=bt(yt(p,n.bottom),n.top));let m=gt(t,p),g=vt(i,p);if(0==m&&0==g)return 3==f.nodeType?wt(f,t,i):Ot(f,t,i);if(!r||o>g||o==g&&s>m){r=f,n=p,s=m,o=g;let a=g?i<p.top?-1:1:m?t<p.left?-1:1:0;u=!a||(a>0?d<e.length-1:d>0)}0==m?i>p.bottom&&(!c||c.bottom<p.bottom)?(a=f,c=p):i<p.top&&(!h||h.top>p.top)&&(l=f,h=p):c&&_t(c,p)?c=yt(c,p.bottom):h&&_t(h,p)&&(h=bt(h,p.top))}}if(c&&c.bottom>=i?(r=a,n=c):h&&h.top<=i&&(r=l,n=h),!r)return{node:e,offset:0};let d=Math.max(n.left,Math.min(n.right,t));return 3==r.nodeType?wt(r,d,i):u&&"false"!=r.contentEditable?Ot(r,d,i):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(n.left+n.right)/2?1:0)}}function wt(e,t,i){let r=e.nodeValue.length,n=-1,s=1e9,o=0;for(let a=0;a<r;a++){let r=k(e,a,a+1).getClientRects();for(let l=0;l<r.length;l++){let c=r[l];if(c.top==c.bottom)continue;o||(o=t-c.left);let h=(c.top>i?c.top-i:i-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&h<s){let i=t>=(c.left+c.right)/2,r=i;if(Y.chrome||Y.gecko){k(e,a).getBoundingClientRect().left==c.right&&(r=!i)}if(h<=0)return{node:e,offset:a+(r?1:0)};n=a+(r?1:0),s=h}}}return{node:e,offset:n>-1?n:o>0?e.nodeValue.length:0}}function St(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;var n,s;let o,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,{x:h,y:u}=t,d=u-l;if(d<0)return 0;if(d>c)return e.state.doc.length;for(let y=e.viewState.heightOracle.textHeight/2,O=!1;o=e.elementAtHeight(d),o.type!=ce.Text;)for(;d=r>0?o.bottom+y:o.top-y,!(d>=0&&d<=c);){if(O)return i?null:0;O=!0,r=-r}u=l+d;let f=o.from;if(f<e.viewport.from)return 0==e.viewport.from?0:i?null:xt(e,a,o,h,u);if(f>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:i?null:xt(e,a,o,h,u);let p=e.dom.ownerDocument,m=e.root.elementFromPoint?e.root:p,g=m.elementFromPoint(h,u);g&&!e.contentDOM.contains(g)&&(g=null),g||(h=Math.max(a.left+1,Math.min(a.right-1,h)),g=m.elementFromPoint(h,u),g&&!e.contentDOM.contains(g)&&(g=null));let v,_=-1;if(g&&0!=(null===(n=e.docView.nearest(g))||void 0===n?void 0:n.isEditable))if(p.caretPositionFromPoint){let e=p.caretPositionFromPoint(h,u);e&&({offsetNode:v,offset:_}=e)}else if(p.caretRangeFromPoint){let t=p.caretRangeFromPoint(h,u);t&&(({startContainer:v,startOffset:_}=t),(!e.contentDOM.contains(v)||Y.safari&&function(e,t,i){let r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(let n=e.nextSibling;n;n=n.nextSibling)if(1!=n.nodeType||"BR"!=n.nodeName)return!1;return k(e,r-1,r).getBoundingClientRect().left>i}(v,_,h)||Y.chrome&&function(e,t,i){if(0!=t)return!1;for(let n=e;;){let e=n.parentNode;if(!e||1!=e.nodeType||e.firstChild!=n)return!1;if(e.classList.contains("cm-line"))break;n=e}let r=1==e.nodeType?e.getBoundingClientRect():k(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return i-r.left>5}(v,_,h))&&(v=void 0))}if(!v||!e.docView.dom.contains(v)){let t=oe.find(e.docView,f);if(!t)return d>o.top+o.height/2?o.to:o.from;({node:v,offset:_}=Ot(t.dom,h,u))}let b=e.docView.nearest(v);if(!b)return null;if(b.isWidget&&1==(null===(s=b.dom)||void 0===s?void 0:s.nodeType)){let e=b.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?b.posAtStart:b.posAtEnd}return b.localPosFromDOM(v,_)+b.posAtStart}function xt(e,t,i,n,s){let o=Math.round((n-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&i.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;o+=Math.floor((s-i.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let a=e.state.sliceDoc(i.from,i.to);return i.from+(0,r.Gz)(a,o,e.state.tabSize)}function kt(e,t){let i=e.lineBlockAt(t);if(Array.isArray(i.type))for(let r of i.type)if(r.to>t||r.to==t&&(r.to==i.to||r.type==ce.Text))return r;return i}function Ct(e,t,i,n){let s=e.state.doc.lineAt(t.head),o=e.bidiSpans(s),a=e.textDirectionAt(s.from);for(let l=t,c=null;;){let t=ht(s,o,a,l,i),h=ct;if(!t){if(s.number==(i?e.state.doc.lines:1))return l;h="\n",s=e.state.doc.line(s.number+(i?1:-1)),o=e.bidiSpans(s),t=r.jT.cursor(i?s.from:s.to)}if(c){if(!c(h))return l}else{if(!n)return t;c=n(h)}l=t}}function Et(e,t,i){for(;;){let r=0;for(let n of e)n.between(t-1,t+1,((e,n,s)=>{if(t>e&&t<n){let s=r||i||(t-e<n-t?-1:1);t=s<0?e:n,r=s}}));if(!r)return t}}function Tt(e,t,i){let n=Et(e.state.facet(We).map((t=>t(e))),i.from,t.head>i.from?-1:1);return n==i.from?i:r.jT.cursor(n,n<i.from?1:-1)}class At{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Y.safari&&e.contentDOM.addEventListener("input",(()=>null)),Y.gecko&&function(e){ii.has(e)||(ii.add(e),e.addEventListener("copy",(()=>{})),e.addEventListener("cut",(()=>{})))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let i,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(i=R.get(r))&&i.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let e of i.observers)e(this.view,t);for(let e of i.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Rt(e),i=this.handlers,r=this.view.contentDOM;for(let n in t)if("scroll"!=n){let e=!t[n].handlers.length,s=i[n];s&&e!=!s.handlers.length&&(r.removeEventListener(n,this.handleEvent),s=null),s||r.addEventListener(n,this.handleEvent,{passive:e})}for(let n in i)"scroll"==n||t[n]||r.removeEventListener(n,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=e.keyCode&&Lt.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),Y.android&&Y.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!Y.ios||e.synthetic||e.altKey||e.metaKey||!((t=Dt.find((t=>t.keyCode==e.keyCode)))&&!e.ctrlKey||Mt.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(){let e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,C(this.view.contentDOM,e.key,e.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Y.safari&&!Y.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Pt(e,t){return(i,r)=>{try{return t.call(e,r,i)}catch(n){Pe(i.state,n)}}}function Rt(e){let t=Object.create(null);function i(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let r of e){let e=r.spec;if(e&&e.domEventHandlers)for(let t in e.domEventHandlers){let n=e.domEventHandlers[t];n&&i(t).handlers.push(Pt(r.value,n))}if(e&&e.domEventObservers)for(let t in e.domEventObservers){let n=e.domEventObservers[t];n&&i(t).observers.push(Pt(r.value,n))}}for(let r in Nt)i(r).handlers.push(Nt[r]);for(let r in jt)i(r).observers.push(jt[r]);return t}const Dt=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Mt="dthko",Lt=[16,17,18,20,91,92,224,225];function It(e){return.7*Math.max(0,e)+8}class Bt{constructor(e,t,i,n){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=function(e){let t=e.ownerDocument;for(let i=e.parentNode;i&&i!=t.body;)if(1==i.nodeType){if(i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth)return i;i=i.assignedSlot||i.parentNode}else{if(11!=i.nodeType)break;i=i.host}return null}(e.contentDOM),this.atoms=e.state.facet(We).map((t=>t(e)));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(r.yy.allowMultipleSelections)&&function(e,t){let i=e.state.facet(be);return i.length?i[0](t):Y.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:i}=e.state.selection;if(i.empty)return!1;let r=u(e.root);if(!r||0==r.rangeCount)return!0;let n=r.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let e=n[s];if(e.left<=t.clientX&&e.right>=t.clientX&&e.top<=t.clientY&&e.bottom>=t.clientY)return!0}return!1}(e,t)||1!=Gt(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){var t,i,r;if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(i=this.startEvent,r=e,Math.max(Math.abs(i.clientX-r.clientX),Math.abs(i.clientY-r.clientY))<10))return;this.select(this.lastEvent=e);let n=0,s=0,o=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},a=Ue(this.view);e.clientX-a.left<=o.left+6?n=-It(o.left-e.clientX):e.clientX+a.right>=o.right-6&&(n=It(e.clientX-o.right)),e.clientY-a.top<=o.top+6?s=-It(o.top-e.clientY):e.clientY+a.bottom>=o.bottom-6&&(s=It(e.clientY-o.bottom)),this.setScrollSpeed(n,s)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let n=e.ranges[i],s=null;if(n.empty){let e=Et(this.atoms,n.from,0);e!=n.from&&(s=r.jT.cursor(e,-1))}else{let e=Et(this.atoms,n.from,-1),t=Et(this.atoms,n.to,1);e==n.from&&t==n.to||(s=r.jT.range(n.from==n.anchor?e:t,n.from==n.head?e:t))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?r.jT.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection)||i.main.assoc!=t.state.selection.main.assoc&&!1===this.dragging)&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const Nt=Object.create(null),jt=Object.create(null),Wt=Y.ie&&Y.ie_version<15||Y.ios&&Y.webkit_version<604;function zt(e,t){let i,{state:n}=e,s=1,o=n.toText(t),a=o.lines==n.selection.ranges.length;if(null!=Kt&&n.selection.ranges.every((e=>e.empty))&&Kt==o.toString()){let e=-1;i=n.changeByRange((i=>{let l=n.doc.lineAt(i.from);if(l.from==e)return{range:i};e=l.from;let c=n.toText((a?o.line(s++).text:t)+n.lineBreak);return{changes:{from:l.from,insert:c},range:r.jT.cursor(i.from+c.length)}}))}else i=a?n.changeByRange((e=>{let t=o.line(s++);return{changes:{from:e.from,to:e.to,insert:t.text},range:r.jT.cursor(e.from+t.length)}})):n.replaceSelection(o);e.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}function Qt(e,t,i,n){if(1==n)return r.jT.cursor(t,i);if(2==n)return function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.charCategorizer(t),s=e.doc.lineAt(t),o=t-s.from;if(0==s.length)return r.jT.cursor(t);0==o?i=1:o==s.length&&(i=-1);let a=o,l=o;i<0?a=(0,r.cp)(s.text,o,!1):l=(0,r.cp)(s.text,o);let c=n(s.text.slice(a,l));for(;a>0;){let e=(0,r.cp)(s.text,a,!1);if(n(s.text.slice(e,a))!=c)break;a=e}for(;l<s.length;){let e=(0,r.cp)(s.text,l);if(n(s.text.slice(l,e))!=c)break;l=e}return r.jT.range(a+s.from,l+s.from)}(e.state,t,i);{let i=oe.find(e.docView,t),n=e.state.doc.lineAt(i?i.posAtEnd:t),s=i?i.posAtStart:n.from,o=i?i.posAtEnd:n.to;return o<e.state.doc.length&&o==n.to&&o++,r.jT.range(s,o)}}jt.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},Nt.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&(e.inputState.lastEscPress=Date.now()),!1),jt.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},jt.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},Nt.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let r of e.state.facet(Oe))if(i=r(e,t),i)break;if(i||0!=t.button||(i=function(e,t){let i=Ht(e,t),n=Gt(t),s=e.state.selection;return{update(e){e.docChanged&&(i.pos=e.changes.mapPos(i.pos),s=s.map(e.changes))},get(t,o,a){let l,c=Ht(e,t),h=Qt(e,c.pos,c.bias,n);if(i.pos!=c.pos&&!o){let t=Qt(e,i.pos,i.bias,n),s=Math.min(t.from,h.from),o=Math.max(t.to,h.to);h=s<h.from?r.jT.range(s,o):r.jT.range(o,s)}return o?s.replaceRange(s.main.extend(h.from,h.to)):a&&1==n&&s.ranges.length>1&&(l=function(e,t){for(let i=0;i<e.ranges.length;i++){let{from:n,to:s}=e.ranges[i];if(n<=t&&s>=t)return r.jT.create(e.ranges.slice(0,i).concat(e.ranges.slice(i+1)),e.mainIndex==i?0:e.mainIndex-(e.mainIndex>i?1:0))}return null}(s,c.pos))?l:a?s.addRange(h):r.jT.create([h])}}}(e,t)),i){let r=!e.hasFocus;e.inputState.startMouseSelection(new Bt(e,t,i,r)),r&&e.observer.ignore((()=>x(e.contentDOM)));let n=e.inputState.mouseSelection;if(n)return n.start(t),!1===n.dragging}return!1};let Ft=(e,t)=>e>=t.top&&e<=t.bottom,Ut=(e,t,i)=>Ft(t,i)&&e>=i.left&&e<=i.right;function qt(e,t,i,r){let n=oe.find(e.docView,t);if(!n)return 1;let s=t-n.posAtStart;if(0==s)return 1;if(s==n.length)return-1;let o=n.coordsAt(s,-1);if(o&&Ut(i,r,o))return-1;let a=n.coordsAt(s,1);return a&&Ut(i,r,a)?1:o&&Ft(r,o)?-1:1}function Ht(e,t){let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:i,bias:qt(e,i,t.clientX,t.clientY)}}const Vt=Y.ie&&Y.ie_version<=11;let Yt=null,Xt=0,Zt=0;function Gt(e){if(!Vt)return e.detail;let t=Yt,i=Zt;return Yt=e,Zt=Date.now(),Xt=!t||i>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Xt+1)%3:1}function $t(e,t,i,r){if(!i)return;let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:s}=e.inputState,o=r&&s&&function(e,t){let i=e.state.facet(ye);return i.length?i[0](t):Y.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:s.from,to:s.to}:null,a={from:n,insert:i},l=e.state.changes(o?[o,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:o?"move.drop":"input.drop"}),e.inputState.draggedContent=null}Nt.dragstart=(e,t)=>{let{selection:{main:i}}=e.state;if(t.target.draggable){let n=e.docView.nearest(t.target);if(n&&n.isWidget){let e=n.posAtStart,t=e+n.length;(e>=i.to||t<=i.from)&&(i=r.jT.range(e,t))}}let{inputState:n}=e;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=i,t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(i.from,i.to)),t.dataTransfer.effectAllowed="copyMove"),!1},Nt.dragend=e=>(e.inputState.draggedContent=null,!1),Nt.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let i=t.dataTransfer.files;if(i&&i.length){let r=Array(i.length),n=0,s=()=>{++n==i.length&&$t(e,t,r.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<i.length;e++){let t=new FileReader;t.onerror=s,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),s()},t.readAsText(i[e])}return!0}{let i=t.dataTransfer.getData("Text");if(i)return $t(e,t,i,!0),!0}return!1},Nt.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let i=Wt?null:t.clipboardData;return i?(zt(e,i.getData("text/plain")||i.getData("text/uri-text")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((()=>{e.focus(),i.remove(),zt(e,i.value)}),50)}(e),!1)};let Kt=null;Nt.copy=Nt.cut=(e,t)=>{let{text:i,ranges:r,linewise:n}=function(e){let t=[],i=[],r=!1;for(let n of e.selection.ranges)n.empty||(t.push(e.sliceDoc(n.from,n.to)),i.push(n));if(!t.length){let n=-1;for(let{from:r}of e.selection.ranges){let s=e.doc.lineAt(r);s.number>n&&(t.push(s.text),i.push({from:s.from,to:Math.min(e.doc.length,s.to+1)})),n=s.number}r=!0}return{text:t.join(e.lineBreak),ranges:i,linewise:r}}(e.state);if(!i&&!n)return!1;Kt=n?i:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=Wt?null:t.clipboardData;return s?(s.clearData(),s.setData("text/plain",i),!0):(function(e,t){let i=e.dom.parentNode;if(!i)return;let r=i.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((()=>{r.remove(),e.focus()}),50)}(e,i),!1)};const Jt=r.q6.define();function ei(e,t){let i=[];for(let r of e.facet(ke)){let n=r(e,t);n&&i.push(n)}return i?e.update({effects:i,annotations:Jt.of(!0)}):null}function ti(e){setTimeout((()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let i=ei(e.state,t);i?e.dispatch(i):e.update([])}}),10)}jt.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),ti(e)},jt.blur=e=>{e.observer.clearSelectionRange(),ti(e)},jt.compositionstart=jt.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},jt.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,Y.chrome&&Y.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((()=>e.observer.flush())):setTimeout((()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50)},jt.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},Nt.beforeinput=(e,t)=>{var i;let r;if(Y.chrome&&Y.android&&(r=Dt.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let t=(null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0;setTimeout((()=>{var i;((null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return!1};const ii=new Set;const ri=["pre-wrap","normal","pre-line","break-spaces"];class ni{constructor(e){this.lineWrapping=e,this.doc=r.xv.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return ri.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,i,r,n,s){let o=ri.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=n,a){this.heightSamples={};for(let e=0;e<s.length;e++){let t=s[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class si{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class oi{constructor(e,t,i,r,n){this.from=e,this.length=t,this.top=i,this.height=r,this._content=n}get type(){return"number"==typeof this._content?ce.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof fe?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new oi(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var ai=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(ai||(ai={}));const li=.001;class ci{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;this.length=e,this.height=t,this.flags=i}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>li&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return ci.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let n=this,s=i.doc;for(let o=r.length-1;o>=0;o--){let{fromA:a,toA:l,fromB:c,toB:h}=r[o],u=n.lineAt(a,ai.ByPosNoHeight,i.setDoc(t),0,0),d=u.to>=l?u:n.lineAt(l,ai.ByPosNoHeight,i,0,0);for(h+=d.to-l,l=d.to;o>0&&u.from<=r[o-1].toA;)a=r[o-1].fromA,c=r[o-1].fromB,o--,a<u.from&&(u=n.lineAt(a,ai.ByPosNoHeight,i,0,0));c+=u.from-a,a=u.from;let f=mi.build(i.setDoc(s),e,c,h);n=n.replace(a,l,f)}return n.updateHeight(i,0)}static empty(){return new ui(0,0)}static of(e){if(1==e.length)return e[0];let t=0,i=e.length,r=0,n=0;for(;;)if(t==i)if(r>2*n){let n=e[t-1];n.break?e.splice(--t,1,n.left,null,n.right):e.splice(--t,1,n.left,n.right),i+=1+n.break,r-=n.size}else{if(!(n>2*r))break;{let t=e[i];t.break?e.splice(i,1,t.left,null,t.right):e.splice(i,1,t.left,t.right),i+=2+t.break,n-=t.size}}else if(r<n){let i=e[t++];i&&(r+=i.size)}else{let t=e[--i];t&&(n+=t.size)}let s=0;return null==e[t-1]?(s=1,t--):null==e[t]&&(s=1,i++),new fi(ci.of(e.slice(0,t)),s,ci.of(e.slice(i)))}}ci.prototype.size=1;class hi extends ci{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,r){return new oi(r,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,r,n){return this.blockAt(0,i,r,n)}forEachLine(e,t,i,r,n,s){e<=n+this.length&&t>=n&&s(this.blockAt(0,i,r,n))}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>3?arguments[3]:void 0;return i&&i.from<=t&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return"block(".concat(this.length,")")}}class ui extends hi{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,r){return new oi(r,this.length,i,this.height,this.breaks)}replace(e,t,i){let r=i[0];return 1==i.length&&(r instanceof ui||r instanceof di&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof di?r=new ui(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):ci.of(i)}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}class di extends ci{constructor(e){super(e,0)}heightMetrics(e,t){let i,r=e.doc.lineAt(t).number,n=e.doc.lineAt(t+this.length).number,s=n-r+1,o=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*s);i=t/s,this.length>s+1&&(o=(this.height-t)/(this.length-s-1))}else i=this.height/s;return{firstLine:r,lastLine:n,perLine:i,perChar:o}}blockAt(e,t,i,r){let{firstLine:n,lastLine:s,perLine:o,perChar:a}=this.heightMetrics(t,r);if(t.lineWrapping){let n=r+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),s=t.doc.lineAt(n),l=o+s.length*a,c=Math.max(i,e-l/2);return new oi(s.from,s.length,c,l,0)}{let r=Math.max(0,Math.min(s-n,Math.floor((e-i)/o))),{from:a,length:l}=t.doc.line(n+r);return new oi(a,l,i+o*r,o,0)}}lineAt(e,t,i,r,n){if(t==ai.ByHeight)return this.blockAt(e,i,r,n);if(t==ai.ByPosNoHeight){let{from:t,to:r}=i.doc.lineAt(e);return new oi(t,r-t,0,0,0)}let{firstLine:s,perLine:o,perChar:a}=this.heightMetrics(i,n),l=i.doc.lineAt(e),c=o+l.length*a,h=l.number-s,u=r+o*h+a*(l.from-n-h);return new oi(l.from,l.length,Math.max(r,Math.min(u,r+this.height-c)),c,0)}forEachLine(e,t,i,r,n,s){e=Math.max(e,n),t=Math.min(t,n+this.length);let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,n);for(let c=e,h=r;c<=t;){let t=i.doc.lineAt(c);if(c==e){let i=t.number-o;h+=a*i+l*(e-n-i)}let r=a+l*t.length;s(new oi(t.from,t.length,h,r,0)),h+=r,c=t.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let e=i[i.length-1];e instanceof di?i[i.length-1]=new di(e.length+r):i.push(null,new di(r-1))}if(e>0){let t=i[0];t instanceof di?i[0]=new di(e+t.length):i.unshift(new di(e-1),null)}return ci.of(i)}decomposeLeft(e,t){t.push(new di(e-1),null)}decomposeRight(e,t){t.push(null,new di(this.length-e-1))}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,n=t+this.length;if(r&&r.from<=t+this.length&&r.more){let i=[],s=Math.max(t,r.from),o=-1;for(r.from>t&&i.push(new di(r.from-t-1).updateHeight(e,t));s<=n&&r.more;){let t=e.doc.lineAt(s).length;i.length&&i.push(null);let n=r.heights[r.index++];-1==o?o=n:Math.abs(n-o)>=li&&(o=-2);let a=new ui(t,n);a.outdated=!1,i.push(a),s+=t+1}s<=n&&i.push(null,new di(n-s).updateHeight(e,s));let a=ci.of(i);return(o<0||Math.abs(a.height-this.height)>=li||Math.abs(o-this.heightMetrics(e,t).perLine)>=li)&&(e.heightChanged=!0),a}return(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return"gap(".concat(this.length,")")}}class fi extends ci{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return 1&this.flags}blockAt(e,t,i,r){let n=i+this.left.height;return e<n?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,n,r+this.left.length+this.break)}lineAt(e,t,i,r,n){let s=r+this.left.height,o=n+this.left.length+this.break,a=t==ai.ByHeight?e<s:e<o,l=a?this.left.lineAt(e,t,i,r,n):this.right.lineAt(e,t,i,s,o);if(this.break||(a?l.to<o:l.from>o))return l;let c=t==ai.ByPosNoHeight?ai.ByPosNoHeight:ai.ByPos;return a?l.join(this.right.lineAt(o,c,i,s,o)):this.left.lineAt(o,c,i,r,n).join(l)}forEachLine(e,t,i,r,n,s){let o=r+this.left.height,a=n+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,r,n,s),t>=a&&this.right.forEachLine(e,t,i,o,a,s);else{let l=this.lineAt(a,ai.ByPos,i,r,n);e<l.from&&this.left.forEachLine(e,l.from-1,i,r,n,s),l.to>=e&&l.from<=t&&s(l),t>l.to&&this.right.forEachLine(l.to+1,t,i,o,a,s)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let n=[];e>0&&this.decomposeLeft(e,n);let s=n.length;for(let o of i)n.push(o);if(e>0&&pi(n,s-1),t<this.length){let e=n.length;this.decomposeRight(t,n),pi(n,e)}return ci.of(n)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?ci.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,{left:n,right:s}=this,o=t+n.length+this.break,a=null;return r&&r.from<=t+n.length&&r.more?a=n=n.updateHeight(e,t,i,r):n.updateHeight(e,t,i),r&&r.from<=o+s.length&&r.more?a=s=s.updateHeight(e,o,i,r):s.updateHeight(e,o,i),a?this.balanced(n,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function pi(e,t){let i,r;null==e[t]&&(i=e[t-1])instanceof di&&(r=e[t+1])instanceof di&&e.splice(t-1,3,new di(i.length+1+r.length))}class mi{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ui?i.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new ui(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,n=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let s=t-e;i.block?this.addBlock(new hi(s,r,i)):(s||n||r>=5)&&this.addLineDeco(r,n,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ui(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new di(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ui)return e;let t=new ui(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof ui||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new ui(0,-1));let i=e;for(let r of this.nodes)r instanceof ui&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,n){let s=new mi(i,e);return r.Xs.spans(t,i,n,s,0),s.finish(i)}}class gi{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&me(e,t,this.changes,5)}}function vi(e,t){let i=e.getBoundingClientRect(),r=e.ownerDocument,n=r.defaultView||window,s=Math.max(0,i.left),o=Math.min(n.innerWidth,i.right),a=Math.max(0,i.top),l=Math.min(n.innerHeight,i.bottom);for(let c=e.parentNode;c&&c!=r.body;)if(1==c.nodeType){let t=c,i=window.getComputedStyle(t);if((t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&"visible"!=i.overflow){let i=t.getBoundingClientRect();s=Math.max(s,i.left),o=Math.min(o,i.right),a=Math.max(a,i.top),l=c==e.parentNode?i.bottom:Math.min(l,i.bottom)}c="absolute"==i.position||"fixed"==i.position?t.offsetParent:t.parentNode}else{if(11!=c.nodeType)break;c=c.host}return{left:s-i.left,right:Math.max(s,o)-i.left,top:a-(i.top+t),bottom:Math.max(a,l)-(i.top+t)}}function _i(e,t){let i=e.getBoundingClientRect();return{left:0,right:i.right-i.left,top:t,bottom:i.bottom-(i.top+t)}}class bi{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],n=t[i];if(r.from!=n.from||r.to!=n.to||r.size!=n.size)return!1}return!0}draw(e,t){return he.replace({widget:new yi(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class yi extends le{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Oi{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Ci,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ye.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Ne).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new ni(t),this.stateDeco=e.facet(je).filter((e=>"function"!=typeof e)),this.heightMap=ci.empty().applyChanges(this.stateDeco,r.xv.empty,this.heightOracle.setDoc(e.doc),[new He(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=he.set(this.lineGaps.map((e=>e.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some((e=>{let{from:t,to:i}=e;return r>=t&&r<=i}))){let{from:t,to:i}=this.lineBlockAt(r);e.push(new wi(t,i))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?Ci:new Ei(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:Ti(e,this.scaler))}))}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(je).filter((e=>"function"!=typeof e));let n=e.changedRanges,s=He.extendWithRanges(n,function(e,t,i){let n=new gi;return r.Xs.compare(e,t,i,n,0),n.changes}(i,this.stateDeco,e?e.changes:r.as.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=!e.changes.empty||2&e.flags||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Ee)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection="rtl"==i.direction?Ye.RTL:Ye.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,h=0;if(a.width&&a.height){let e=a.width/t.offsetWidth,i=a.height/t.offsetHeight;(e>.995&&e<1.005||!isFinite(e)||Math.abs(a.width-t.offsetWidth)<1)&&(e=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(a.height-t.offsetHeight)<1)&&(i=1),this.scaleX==e&&this.scaleY==i||(this.scaleX=e,this.scaleY=i,c|=8,o=l=!0)}let u=(parseInt(i.paddingTop)||0)*this.scaleY,d=(parseInt(i.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==d||(this.paddingTop=u,this.paddingBottom=d,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=T(e.scrollDOM);let p=(this.printing?_i:vi)(t,this.paddingTop),m=p.top-this.pixelViewport.top,g=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let _=a.width;if(this.contentDOMWidth==_&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let t=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(t)&&(o=!0),o||n.lineWrapping&&Math.abs(_-this.contentDOMWidth)>n.charWidth){let{lineHeight:i,charWidth:r,textHeight:a}=e.docView.measureTextSize();o=i>0&&n.refresh(s,i,r,a,_/r,t),o&&(e.docView.minWidth=0,c|=8)}m>0&&g>0?h=Math.max(m,g):m<0&&g<0&&(h=Math.min(m,g)),n.heightChanged=!1;for(let i of this.viewports){let s=i.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(i);this.heightMap=(o?ci.empty().applyChanges(this.stateDeco,r.xv.empty,this.heightOracle,[new He(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,o,new si(i.from,s))}n.heightChanged&&(c|=2)}let b=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(2&c||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,n=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,a=new wi(r.lineAt(s-1e3*i,ai.ByHeight,n,0,0).from,r.lineAt(o+1e3*(1-i),ai.ByHeight,n,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let i,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=r.lineAt(e,ai.ByPos,n,0,0);i="center"==t.y?(o.top+o.bottom)/2-s/2:"start"==t.y||"nearest"==t.y&&e<a.from?o.top:o.bottom-s,a=new wi(r.lineAt(i-500,ai.ByHeight,n,0,0).from,r.lineAt(i+s+500,ai.ByHeight,n,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new wi(this.heightMap.lineAt(i,ai.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,ai.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate(e){let{from:t,to:i}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(t,ai.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(i,ai.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(0==t||n<=o-Math.max(10,Math.min(-r,250)))&&(i==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&n>o-2e3&&s<a+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new bi(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,s=n>>1,o=n<<1;if(this.defaultTextDirection!=Ye.LTR&&!i)return[];let a=[],l=(n,o,c,h)=>{if(o-n<s)return;let u=this.state.selection.main,d=[u.from];u.empty||d.push(u.to);for(let e of d)if(e>n&&e<o)return l(n,e-10,c,h),void l(e+10,o,c,h);let f=function(e,t){for(let i of e)if(t(i))return i;return}(e,(e=>e.from>=c.from&&e.to<=c.to&&Math.abs(e.from-n)<s&&Math.abs(e.to-o)<s&&!d.some((t=>e.from<t&&e.to>t))));if(!f){if(o<c.to&&t&&i&&t.visibleRanges.some((e=>e.from<=o&&e.to>=o))){let e=t.moveToLineBoundary(r.jT.cursor(o),!1,!0).head;e>n&&(o=e)}f=new bi(n,o,this.gapSize(c,n,o,h))}a.push(f)};for(let r of this.viewportLines){if(r.length<o)continue;let e=Si(r.from,r.to,this.stateDeco);if(e.total<o)continue;let t,s,a=this.scrollTarget?this.scrollTarget.range.head:null;if(i){let i,o,l=n/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=a){let t=ki(e,a),n=((this.visibleBottom-this.visibleTop)/2+l)/r.height;i=t-n,o=t+n}else i=(this.visibleTop-r.top-l)/r.height,o=(this.visibleBottom-r.top+l)/r.height;t=xi(e,i),s=xi(e,o)}else{let i,r,o=e.total*this.heightOracle.charWidth,l=n*this.heightOracle.charWidth;if(null!=a){let t=ki(e,a),n=((this.pixelViewport.right-this.pixelViewport.left)/2+l)/o;i=t-n,r=t+n}else i=(this.pixelViewport.left-l)/o,r=(this.pixelViewport.right+l)/o;t=xi(e,i),s=xi(e,r)}t>r.from&&l(r.from,t,r,e),s<r.to&&l(s,r.to,r,e)}return a}gapSize(e,t,i,r){let n=ki(r,i)-ki(r,t);return this.heightOracle.lineWrapping?e.height*n:r.total*this.heightOracle.charWidth*n}updateLineGaps(e){bi.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=he.set(e.map((e=>e.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];r.Xs.spans(e,this.viewport.from,this.viewport.to,{span(e,i){t.push({from:e,to:i})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,i)=>e.from!=t[i].from||e.to!=t[i].to));return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||Ti(this.heightMap.lineAt(e,ai.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Ti(this.heightMap.lineAt(this.scaler.fromDOM(e),ai.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Ti(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class wi{constructor(e,t){this.from=e,this.to=t}}function Si(e,t,i){let n=[],s=e,o=0;return r.Xs.spans(i,e,t,{span(){},point(e,t){e>s&&(n.push({from:s,to:e}),o+=e-s),s=t}},20),s<t&&(n.push({from:s,to:t}),o+=t-s),{total:o,ranges:n}}function xi(e,t){let{total:i,ranges:r}=e;if(t<=0)return r[0].from;if(t>=1)return r[r.length-1].to;let n=Math.floor(i*t);for(let s=0;;s++){let{from:e,to:t}=r[s],i=t-e;if(n<=i)return e+n;n-=i}}function ki(e,t){let i=0;for(let{from:r,to:n}of e.ranges){if(t<=n){i+=t-r;break}i+=n-r}return i/e.total}const Ci={toDOM:e=>e,fromDOM:e=>e,scale:1};class Ei{constructor(e,t,i){let r=0,n=0,s=0;this.viewports=i.map((i=>{let{from:n,to:s}=i,o=t.lineAt(n,ai.ByPos,e,0,0).top,a=t.lineAt(s,ai.ByPos,e,0,0).bottom;return r+=a-o,{from:n,to:s,top:o,bottom:a,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(t.height-r);for(let o of this.viewports)o.domTop=s+(o.top-n)*this.scale,s=o.domBottom=o.domTop+(o.bottom-o.top),n=o.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let n=t<this.viewports.length?this.viewports[t]:null;if(!n||e<n.top)return r+(e-i)*this.scale;if(e<=n.bottom)return n.domTop+(e-n.top);i=n.bottom,r=n.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let n=t<this.viewports.length?this.viewports[t]:null;if(!n||e<n.domTop)return i+(e-r)/this.scale;if(e<=n.domBottom)return n.top+(e-n.domTop);i=n.bottom,r=n.domBottom}}}function Ti(e,t){if(1==t.scale)return e;let i=t.toDOM(e.top),r=t.toDOM(e.bottom);return new oi(e.from,e.length,i,r-i,Array.isArray(e._content)?e._content.map((e=>Ti(e,t))):e._content)}const Ai=r.r$.define({combine:e=>e.join(" ")}),Pi=r.r$.define({combine:e=>e.indexOf(!0)>-1}),Ri=n.V.newName(),Di=n.V.newName(),Mi=n.V.newName(),Li={"&light":"."+Di,"&dark":"."+Mi};function Ii(e,t,i){return new n.V(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!i||!i[t])throw new RangeError("Unsupported selector: ".concat(t));return i[t]})):e+" "+t})}const Bi=Ii("."+Ri,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Li),Ni="\uffff";class ji{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(r.yy.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ni}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let e=this.text.length;this.readNode(r);let n=r.nextSibling;if(n==t)break;let s=R.get(r),o=R.get(n);(s&&o?s.breakAfter:(s?s.breakAfter:zi(r))||zi(n)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>e)&&this.lineBreak(),r=n}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let n,s=-1,o=1;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(n=r.exec(t))&&(s=n.index,o=n[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=R.get(e),i=t&&t.overrideDOMText;if(null!=i){this.findPointInside(e,i.length);for(let e=i.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(3==e.nodeType?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(Wi(e,i.node,i.offset)?t:0))}}function Wi(e,t,i){for(;;){if(!t||i<_(t))return!1;if(t==e)return!0;i=g(t)+1,t=t.parentNode}}function zi(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class Qi{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Fi{constructor(e,t,i,n){this.typeOver=n,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let t=s||o?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:i,anchorOffset:r,focusNode:n,focusOffset:s}=e.observer.selectionRange;i&&(t.push(new Qi(i,r)),n==i&&s==r||t.push(new Qi(n,s)));return t}(e),i=new ji(t,e.state);i.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=i.text,this.newSel=function(e,t){if(0==e.length)return null;let i=e[0].pos,n=2==e.length?e[1].pos:i;return i>-1&&n>-1?r.jT.single(i+t,n+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,i=s&&s.node==t.focusNode&&s.offset==t.focusOffset||!d(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),n=o&&o.node==t.anchorNode&&o.offset==t.anchorOffset||!d(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);this.newSel=r.jT.single(n,i)}}}function Ui(e,t){let i,{newSel:n}=t,s=e.state.selection.main,o=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:n,to:a}=t.bounds,l=s.from,c=null;(8===o||Y.android&&t.text.length<a-n)&&(l=s.to,c="end");let h=function(e,t,i,r){let n=Math.min(e.length,t.length),s=0;for(;s<n&&e.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==n&&e.length==t.length)return null;let o=e.length,a=t.length;for(;o>0&&a>0&&e.charCodeAt(o-1)==t.charCodeAt(a-1);)o--,a--;if("end"==r){i-=o+Math.max(0,s-Math.min(o,a))-s}if(o<s&&e.length<t.length){s-=i<=s&&i>=o?s-i:0,a=s+(a-o),o=s}else if(a<s){s-=i<=s&&i>=a?s-i:0,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}(e.state.doc.sliceString(n,a,Ni),t.text,l-n,c);h&&(Y.chrome&&13==o&&h.toB==h.from+2&&t.text.slice(h.from,h.toB)==Ni+Ni&&h.toB--,i={from:n+h.from,to:n+h.toA,insert:r.xv.of(t.text.slice(h.from,h.toB).split(Ni))})}else n&&(!e.hasFocus&&e.state.facet(Re)||n.main.eq(s))&&(n=null);if(!i&&!n)return!1;if(!i&&t.typeOver&&!s.empty&&n&&n.main.empty?i={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,s.to)}:i&&i.from>=s.from&&i.to<=s.to&&(i.from!=s.from||i.to!=s.to)&&s.to-s.from-(i.to-i.from)<=4?i={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,i.from).append(i.insert).append(e.state.doc.slice(i.to,s.to))}:(Y.mac||Y.android)&&i&&i.from==i.to&&i.from==s.head-1&&/^\. ?$/.test(i.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(n&&2==i.insert.length&&(n=r.jT.single(n.main.anchor-1,n.main.head-1)),i={from:s.from,to:s.to,insert:r.xv.of([" "])}):Y.chrome&&i&&i.from==i.to&&i.from==s.head&&"\n "==i.insert.toString()&&e.lineWrapping&&(n&&(n=r.jT.single(n.main.anchor-1,n.main.head-1)),i={from:s.from,to:s.to,insert:r.xv.of([" "])}),i){if(Y.ios&&e.inputState.flushIOSKey())return!0;if(Y.android&&(i.from==s.from&&i.to==s.to&&1==i.insert.length&&2==i.insert.lines&&C(e.contentDOM,"Enter",13)||(i.from==s.from-1&&i.to==s.to&&0==i.insert.length||8==o&&i.insert.length<i.to-i.from&&i.to>s.head)&&C(e.contentDOM,"Backspace",8)||i.from==s.from&&i.to==s.to+1&&0==i.insert.length&&C(e.contentDOM,"Delete",46)))return!0;let t,a=i.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let l=()=>t||(t=function(e,t,i){let n,s=e.state,o=s.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!i||i.main.empty&&i.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let i=o.from<t.from?s.sliceDoc(o.from,t.from):"",r=o.to>t.to?s.sliceDoc(t.to,o.to):"";n=s.replaceSelection(e.state.toText(i+t.insert.sliceString(0,void 0,e.state.lineBreak)+r))}else{let a=s.changes(t),l=i&&i.main.to<=a.newLength?i.main:void 0;if(s.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let c,h=e.state.sliceDoc(t.from,t.to),u=i&&ft(e,i.main.head);if(u){let e=t.insert.length-(t.to-t.from);c={from:u.from,to:u.to-e}}else c=e.state.doc.lineAt(o.head);let d=o.to-t.to,f=o.to-o.from;n=s.changeByRange((i=>{if(i.from==o.from&&i.to==o.to)return{changes:a,range:l||i.map(a)};let n=i.to-d,u=n-h.length;if(i.to-i.from!=f||e.state.sliceDoc(u,n)!=h||i.to>=c.from&&i.from<=c.to)return{range:i};let p=s.changes({from:u,to:n,insert:t.insert}),m=i.to-o.to;return{changes:p,range:l?r.jT.range(Math.max(0,l.anchor+m),Math.max(0,l.head+m)):i.map(p)}}))}else n={changes:a,selection:l&&s.selection.replaceRange(l)}}let a="input.type";(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1));return s.update(n,{userEvent:a,scrollIntoView:!0})}(e,i,n));return e.state.facet(xe).some((t=>t(e,i.from,i.to,a,l)))||e.dispatch(l()),!0}if(n&&!n.main.eq(s)){let t=!1,i="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),i=e.inputState.lastSelectionOrigin),e.dispatch({selection:n,scrollIntoView:t,userEvent:i}),!0}return!1}const qi={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Hi=Y.ie&&Y.ie_version<=11;class Vi{constructor(e){this.view=e,this.active=!1,this.selectionRange=new O,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(Y.ie&&Y.ie_version<=11||Y.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Hi&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,i)=>t!=e[i])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(Re)?i.root.activeElement!=this.dom:!f(i.dom,r))return;let n=r.anchorNode&&i.docView.nearest(r.anchorNode);n&&n.ignoreEvent(e)?t||(this.selectionChanged=!1):(Y.ie&&Y.ie_version<=11||Y.android&&Y.chrome)&&!i.state.selection.main.empty&&r.focusNode&&m(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Y.safari&&11==e.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){let t=null;function i(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",i,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",i,!0),!t)return null;let r=t.startContainer,n=t.startOffset,s=t.endContainer,o=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);m(a.node,a.offset,s,o)&&([r,n,s,o]=[s,o,r,n]);return{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:o}}(this.view)||u(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=f(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let i=t.focusNode,r=t.focusOffset;if(!i||t.anchorNode!=i||t.anchorOffset!=r)return!1;for(r=Math.min(r,_(i));;)if(r){if(1!=i.nodeType)return!1;let e=i.childNodes[r-1];"false"==e.contentEditable?r--:(i=e,r=_(i))}else{if(i==e)return!0;r=g(i),i=i.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(1==i.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,qi),Hi&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Hi&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;if(e){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&C(this.dom,e.key,e.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(i=this.delayedAndroidKey)||void 0===i?void 0:i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let n of e){let e=this.readMutation(n);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:i}=e):(t=Math.min(e.from,t),i=Math.max(e.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&f(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let n=new Fi(this.view,e,t,i);return this.view.docView.domChanged={newSel:n.newSel?n.newSel.main:null},n}flush(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,r=Ui(this.view,t);return this.view.state==i&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let i=Yi(t,e.previousSibling||e.target.previousSibling,-1),r=Yi(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(i=this.resizeScroll)||void 0===i||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Yi(e,t,i){for(;t;){let r=R.get(t);if(r&&r.parent==e)return r;let n=t.parentNode;t=n!=e.dom?n:i>0?t.nextSibling:t.previousSibling}return null}class Xi{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(e=>e.forEach((e=>t(e,this))))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new Oi(e.state||r.yy.create(e)),e.scrollTo&&e.scrollTo.is(Ae)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Me).map((e=>new Ie(e)));for(let i of this.plugins)i.update(this);this.observer=new Vi(this),this.inputState=new At(this),this.inputState.ensureHandlers(this.plugins),this.docView=new ut(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let n=1==t.length&&t[0]instanceof r.YW?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(n,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,i=!1,n=!1,s=this.state;for(let r of e){if(r.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=r.state}if(this.destroyed)return void(this.viewState.state=s);let o=this.hasFocus,a=0,l=null;e.some((e=>e.annotation(Jt)))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=ei(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(r.yy.phrases)!=this.state.facet(r.yy.phrases))return this.setState(s);t=Ve.create(this,s,e),t.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(u&&(u=u.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;u=new Te(e.empty?e:r.jT.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(Ae)&&(u=e.value.clip(this.state))}this.viewState.update(t,u),this.bidiCache=$i.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),i=this.docView.update(t),this.state.facet(qe)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(Ai)!=t.state.facet(Ai)&&(this.viewState.mustMeasureContent=!0),(i||n||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let r of this.state.facet(Se))try{r(t)}catch(d){Pe(this.state,d,"update listener")}(l||h)&&Promise.resolve().then((()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!Ui(this,h)&&c.force&&C(this.contentDOM,c.key,c.keyCode)}))}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new Oi(e),this.plugins=e.facet(Me).map((e=>new Ie(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new ut(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Me),i=e.state.facet(Me);if(t!=i){let r=[];for(let n of i){let i=t.indexOf(n);if(i<0)r.push(new Ie(n));else{let t=this.plugins[i];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:n,scrollAnchorHeight:s}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(s<0)if(T(i))n=-1,s=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(r);n=e.from,s=e.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];4&a||([this.measureRequests,l]=[l,this.measureRequests]);let c=l.map((e=>{try{return e.read(this)}catch(t){return Pe(this.state,t),Gi}})),h=Ve.create(this,this.state,[]),u=!1;h.flags|=a,t?t.flags|=a:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),u=this.docView.update(h));for(let e=0;e<l.length;e++)if(c[e]!=Gi)try{let t=l[e];t.write&&t.write(c[e],this)}catch(o){Pe(this.state,o)}if(u&&this.docView.updateSelection(!0),!h.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}{let e=(n<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(n).top)-s;if(e>1||e<-1){r+=e,i.scrollTop=r/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(Se))a(t)}get themeClasses(){return Ri+" "+(this.state.facet(Pi)?Mi:Di)+" "+this.state.facet(Ai)}updateAttrs(){let e=Ki(this,Be,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Re)?"true":"false",class:"cm-content",style:"".concat(Y.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Ki(this,Ne,t);let i=this.observer.ignore((()=>{let i=ne(this.contentDOM,this.contentAttrs,t),r=ne(this.dom,this.editorAttrs,e);return i||r}));return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let e of i.effects)if(e.is(Xi.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(qe);let e=this.state.facet(Xi.cspNonce);n.V.mount(this.root,this.styleModules.concat(Bi).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Tt(this,e,Ct(this,e,t,i))}moveByGroup(e,t){return Tt(this,e,Ct(this,e,t,(t=>function(e,t,i){let n=e.state.charCategorizer(t),s=n(i);return e=>{let t=n(e);return s==r.D0.Space&&(s=t),s==t}}(this,e.head,t))))}moveToLineBoundary(e,t){return function(e,t,i,n){let s=kt(e,t.head),o=n&&s.type==ce.Text&&(e.lineWrapping||s.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>s.from?t.head-1:t.head):null;if(o){let t=e.dom.getBoundingClientRect(),n=e.textDirectionAt(s.from),a=e.posAtCoords({x:i==(n==Ye.LTR)?t.right-1:t.left+1,y:(o.top+o.bottom)/2});if(null!=a)return r.jT.cursor(a,i?-1:1)}return r.jT.cursor(i?s.to:s.from,i?-1:1)}(this,e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}moveVertically(e,t,i){return Tt(this,e,function(e,t,i,n){let s=t.head,o=i?1:-1;if(s==(i?e.state.doc.length:0))return r.jT.cursor(s,t.assoc);let a,l=t.goalColumn,c=e.contentDOM.getBoundingClientRect(),h=e.coordsAtPos(s,t.assoc||-1),u=e.documentTop;if(h)null==l&&(l=h.left-c.left),a=o<0?h.top:h.bottom;else{let t=e.viewState.lineBlockAt(s);null==l&&(l=Math.min(c.right-c.left,e.defaultCharacterWidth*(s-t.from))),a=(o<0?t.top:t.bottom)+u}let d=c.left+l,f=null!==n&&void 0!==n?n:e.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let t=a+(f+p)*o,i=St(e,{x:d,y:t},!1,o);if(t<c.top||t>c.bottom||(o<0?i<s:i>s)){let n=e.docView.coordsForChar(i),s=!n||t<n.top?-1:1;return r.jT.cursor(i,s,void 0,l)}}}(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.posFromDOM(e,t)}posAtCoords(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.readMeasured(),St(this,e,t)}coordsAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),n=this.bidiSpans(r);return b(i,n[it.find(n,e-r.from,-1,t)].dir==Ye.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ce)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Zi)return lt(e.length);let t,i=this.textDirectionAt(e.from);for(let n of this.bidiCache)if(n.from==e.from&&n.dir==i&&(n.fresh||rt(n.isolates,t=Qe(this,e.from,e.to))))return n.order;t||(t=Qe(this,e.from,e.to));let r=at(e.text,i,t);return this.bidiCache.push(new $i(e.from,e.to,i,t,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Y.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{x(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ae.of(new Te("number"==typeof e?r.jT.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Ae.of(new Te(r.jT.cursor(i.from),"start","start",i.top-e,t,!0))}static domEventHandlers(e){return Le.define((()=>({})),{eventHandlers:e})}static domEventObservers(e){return Le.define((()=>({})),{eventObservers:e})}static theme(e,t){let i=n.V.newName(),r=[Ai.of(i),qe.of(Ii(".".concat(i),e))];return t&&t.dark&&r.push(Pi.of(!0)),r}static baseTheme(e){return r.Wl.lowest(qe.of(Ii("."+Ri,e,Li)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&R.get(i)||R.get(e);return(null===(t=null===r||void 0===r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}Xi.styleModule=qe,Xi.inputHandler=xe,Xi.focusChangeEffect=ke,Xi.perLineTextDirection=Ce,Xi.exceptionSink=we,Xi.updateListener=Se,Xi.editable=Re,Xi.mouseSelectionStyle=Oe,Xi.dragMovesSelection=ye,Xi.clickAddsSelectionRange=be,Xi.decorations=je,Xi.atomicRanges=We,Xi.bidiIsolatedRanges=ze,Xi.scrollMargins=Fe,Xi.darkTheme=Pi,Xi.cspNonce=r.r$.define({combine:e=>e.length?e[0]:""}),Xi.contentAttributes=Ne,Xi.editorAttributes=Be,Xi.lineWrapping=Xi.contentAttributes.of({class:"cm-lineWrapping"}),Xi.announce=r.Py.define();const Zi=4096,Gi={};class $i{constructor(e,t,i,r,n,s){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=n,this.order=s}static update(e,t){if(t.empty&&!e.some((e=>e.fresh)))return e;let i=[],r=e.length?e[e.length-1].dir:Ye.LTR;for(let n=Math.max(0,e.length-10);n<e.length;n++){let s=e[n];s.dir!=r||t.touchesRange(s.from,s.to)||i.push(new $i(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return i}}function Ki(e,t,i){for(let r=e.state.facet(t),n=r.length-1;n>=0;n--){let t=r[n],s="function"==typeof t?t(e):t;s&&te(s,i)}return i}const Ji=Y.mac?"mac":Y.windows?"win":Y.linux?"linux":"key";function er(e,t,i){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==i&&t.shiftKey&&(e="Shift-"+e),e}const tr=r.Wl.default(Xi.domEventHandlers({keydown:(e,t)=>lr(nr(t.state),e,t,"editor")})),ir=r.r$.define({enables:tr}),rr=new WeakMap;function nr(e){let t=e.facet(ir),i=rr.get(t);return i||rr.set(t,i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ji,i=Object.create(null),r=Object.create(null),n=(e,t)=>{let i=r[e];if(null==i)r[e]=t;else if(i!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},s=(e,r,s,o,a)=>{var l,c;let h=i[e]||(i[e]=Object.create(null)),u=r.split(/ (?!$)/).map((e=>function(e,t){const i=e.split(/-(?!$)/);let r,n,s,o,a=i[i.length-1];"Space"==a&&(a=" ");for(let l=0;l<i.length-1;++l){const e=i[l];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))r=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))s=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);"mac"==t?o=!0:n=!0}}return r&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),s&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<u.length;t++){let i=u.slice(0,t).join(" ");n(i,!0),h[i]||(h[i]={preventDefault:!0,stopPropagation:!1,run:[t=>{let r=or={view:t,prefix:i,scope:e};return setTimeout((()=>{or==r&&(or=null)}),ar),!0}]})}let d=u.join(" ");n(d,!1);let f=h[d]||(h[d]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=h._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});s&&f.run.push(s),o&&(f.preventDefault=!0),a&&(f.stopPropagation=!0)};for(let o of e){let e=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let t of e){let e=i[t]||(i[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let t in e)e[t].run.push(o.any)}let r=o[t]||o.key;if(r)for(let t of e)s(t,r,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(t,"Shift-"+r,o.shift,o.preventDefault,o.stopPropagation)}return i}(t.reduce(((e,t)=>e.concat(t)),[]))),i}function sr(e,t,i){return lr(nr(e.state),t,e,i)}let or=null;const ar=4e3;function lr(e,t,i,n){let c=function(e){var t=!(a&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||l&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?o:s)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),h=(0,r.gm)(c,0),u=(0,r.nZ)(h)==c.length&&" "!=c,d="",f=!1,p=!1,m=!1;or&&or.view==i&&or.scope==n&&(d=or.prefix+" ",Lt.indexOf(t.keyCode)<0&&(p=!0,or=null));let g,v,_=new Set,b=e=>{if(e){for(let r of e.run)if(!_.has(r)&&(_.add(r),r(i,t)))return e.stopPropagation&&(m=!0),!0;e.preventDefault&&(e.stopPropagation&&(m=!0),p=!0)}return!1},y=e[n];return y&&(b(y[d+er(c,t,!u)])?f=!0:u&&(t.altKey||t.metaKey||t.ctrlKey)&&!(Y.windows&&t.ctrlKey&&t.altKey)&&(g=s[t.keyCode])&&g!=c?(b(y[d+er(g,t,!0)])||t.shiftKey&&(v=o[t.keyCode])!=c&&v!=g&&b(y[d+er(v,t,!1)]))&&(f=!0):u&&t.shiftKey&&b(y[d+er(c,t,!0)])&&(f=!0),!f&&b(y._any)&&(f=!0)),p&&(f=!0),f&&m&&t.stopPropagation(),f}class cr{constructor(e,t,i,r,n){this.className=e,this.left=t,this.top=i,this.width=r,this.height=n}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let n=hr(e);return[new cr(t,r.left-n.left,r.top-n.top,null,r.bottom-r.top)]}return function(e,t,i){if(i.to<=e.viewport.from||i.from>=e.viewport.to)return[];let r=Math.max(i.from,e.viewport.from),n=Math.min(i.to,e.viewport.to),s=e.textDirection==Ye.LTR,o=e.contentDOM,a=o.getBoundingClientRect(),l=hr(e),c=o.querySelector(".cm-line"),h=c&&window.getComputedStyle(c),u=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),d=a.right-(h?parseInt(h.paddingRight):0),f=kt(e,r),p=kt(e,n),m=f.type==ce.Text?f:null,g=p.type==ce.Text?p:null;m&&(e.lineWrapping||f.widgetLineBreaks)&&(m=ur(e,r,m));g&&(e.lineWrapping||p.widgetLineBreaks)&&(g=ur(e,n,g));if(m&&g&&m.from==g.from)return _(b(i.from,i.to,m));{let t=m?b(i.from,null,m):y(f,!1),r=g?b(null,i.to,g):y(p,!0),n=[];return(m||f).to<(g||p).from-(m&&g?1:0)||f.widgetLineBreaks>1&&t.bottom+e.defaultLineHeight/2<r.top?n.push(v(u,t.bottom,d,r.top)):t.bottom<r.top&&e.elementAtHeight((t.bottom+r.top)/2).type==ce.Text&&(t.bottom=r.top=(t.bottom+r.top)/2),_(t).concat(n).concat(_(r))}function v(e,i,r,n){return new cr(t,e-l.left,i-l.top-.01,r-e,n-i+.01)}function _(e){let{top:t,bottom:i,horizontal:r}=e,n=[];for(let s=0;s<r.length;s+=2)n.push(v(r[s],t,r[s+1],i));return n}function b(t,i,r){let n=1e9,o=-1e9,a=[];function l(t,i,l,c,h){let f=e.coordsAtPos(t,t==r.to?-2:2),p=e.coordsAtPos(l,l==r.from?2:-2);f&&p&&(n=Math.min(f.top,p.top,n),o=Math.max(f.bottom,p.bottom,o),h==Ye.LTR?a.push(s&&i?u:f.left,s&&c?d:p.right):a.push(!s&&c?u:p.left,!s&&i?d:f.right))}let c=null!==t&&void 0!==t?t:r.from,h=null!==i&&void 0!==i?i:r.to;for(let s of e.visibleRanges)if(s.to>c&&s.from<h)for(let r=Math.max(s.from,c),n=Math.min(s.to,h);;){let s=e.state.doc.lineAt(r);for(let o of e.bidiSpans(s)){let e=o.from+s.from,a=o.to+s.from;if(e>=n)break;a>r&&l(Math.max(e,r),null==t&&e<=c,Math.min(a,n),null==i&&a>=h,o.dir)}if(r=s.to+1,r>=n)break}return 0==a.length&&l(c,null==t,h,null==i,e.textDirection),{top:n,bottom:o,horizontal:a}}function y(e,t){let i=a.top+(t?e.top:e.bottom);return{top:i,bottom:i,horizontal:[]}}}(e,t,i)}}function hr(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Ye.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function ur(e,t,i){let n=r.jT.cursor(t);return{from:Math.max(i.from,e.moveToLineBoundary(n,!1,!0).from),to:Math.min(i.to,e.moveToLineBoundary(n,!0,!0).from),type:ce.Text}}class dr{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(fr)!=e.state.facet(fr)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let t=0,i=e.facet(fr);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform="scale(".concat(1/e,", ").concat(1/t,")"))}draw(e){if(e.length!=this.drawn.length||e.some(((e,t)=>{return i=e,r=this.drawn[t],!(i.constructor==r.constructor&&i.eq(r));var i,r}))){let t=this.dom.firstChild,i=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[i].constructor&&r.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(r.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const fr=r.r$.define();function pr(e){return[Le.define((t=>new dr(t,e))),fr.of(e)]}const mr=!Y.ios,gr=r.r$.define({combine:e=>(0,r.BO)(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[gr.of(e),br,Or,Sr,Ee.of(!0)]}function _r(e){return e.startState.facet(gr)!=e.state.facet(gr)}const br=pr({above:!0,markers(e){let{state:t}=e,i=t.facet(gr),n=[];for(let s of t.selection.ranges){let o=s==t.selection.main;if(s.empty?!o||mr:i.drawRangeCursor){let t=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",i=s.empty?s:r.jT.cursor(s.head,s.head>s.anchor?-1:1);for(let r of cr.forRange(e,t,i))n.push(r)}}return n},update(e,t){e.transactions.some((e=>e.selection))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let i=_r(e);return i&&yr(e.state,t),e.docChanged||e.selectionSet||i},mount(e,t){yr(t.state,e)},class:"cm-cursorLayer"});function yr(e,t){t.style.animationDuration=e.facet(gr).cursorBlinkRate+"ms"}const Or=pr({above:!1,markers:e=>e.state.selection.ranges.map((t=>t.empty?[]:cr.forRange(e,"cm-selectionBackground",t))).reduce(((e,t)=>e.concat(t))),update:(e,t)=>e.docChanged||e.selectionSet||e.viewportChanged||_r(e),class:"cm-selectionLayer"}),wr={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};mr&&(wr[".cm-line"].caretColor="transparent !important");const Sr=r.Wl.highest(Xi.theme(wr)),xr=r.Py.define({map:(e,t)=>null==e?null:t.mapPos(e)}),kr=r.QQ.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(xr)?t.value:e),e))}),Cr=Le.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let i=e.state.field(kr);null==i?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(kr)!=i||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(kr),i=null!=t&&e.coordsAtPos(t);if(!i)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:i.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:i.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:i.bottom-i.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:i}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/i+"px",this.cursor.style.height=e.height/i+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(kr)!=e&&this.view.dispatch({effects:xr.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Er(){return[kr,Cr]}function Tr(e,t,i,r,n){t.lastIndex=0;for(let s,o=e.iterRange(i,r),a=i;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;s=t.exec(o.value);)n(a+s.index,s)}class Ar{constructor(e){const{regexp:t,decoration:i,decorate:r,boundary:n,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(e,t,i,n)=>r(n,i,i+e[0].length,e,t);else if("function"==typeof i)this.addMatch=(e,t,r,n)=>{let s=i(e,t,r);s&&n(r,r+e[0].length,s)};else{if(!i)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,r,n)=>n(r,r+e[0].length,i)}this.boundary=n,this.maxLength=s}createDeco(e){let t=new r.f_,i=t.add.bind(t);for(let{from:r,to:n}of function(e,t){let i=e.visibleRanges;if(1==i.length&&i[0].from==e.viewport.from&&i[0].to==e.viewport.to)return i;let r=[];for(let{from:n,to:s}of i)n=Math.max(e.state.doc.lineAt(n).from,n-t),s=Math.min(e.state.doc.lineAt(s).to,s+t),r.length&&r[r.length-1].to>=n?r[r.length-1].to=s:r.push({from:n,to:s});return r}(e,this.maxLength))Tr(e.state.doc,this.regexp,r,n,((t,r)=>this.addMatch(r,e,t,i)));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges(((t,n,s,o)=>{o>e.view.viewport.from&&s<e.view.viewport.to&&(i=Math.min(s,i),r=Math.max(o,r))})),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let n of e.visibleRanges){let s=Math.max(n.from,i),o=Math.min(n.to,r);if(o>s){let i=e.state.doc.lineAt(s),r=i.to<o?e.state.doc.lineAt(o):i,a=Math.max(n.from,i.from),l=Math.min(n.to,r.to);if(this.boundary){for(;s>i.from;s--)if(this.boundary.test(i.text[s-1-i.from])){a=s;break}for(;o<r.to;o++)if(this.boundary.test(r.text[o-r.from])){l=o;break}}let c,h=[],u=(e,t,i)=>h.push(i.range(e,t));if(i==r)for(this.regexp.lastIndex=a-i.from;(c=this.regexp.exec(i.text))&&c.index<l-i.from;)this.addMatch(c,e,c.index+i.from,u);else Tr(e.state.doc,this.regexp,a,l,((t,i)=>this.addMatch(i,e,t,u)));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:h})}}return t}}const Pr=null!=/x/.unicode?"gu":"g",Rr=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",Pr),Dr={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Mr=null;const Lr=r.r$.define({combine(e){let t=(0,r.BO)(e,{render:null,specialChars:Rr,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==Mr&&"undefined"!=typeof document&&document.body){let t=document.body.style;Mr=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return Mr||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,Pr)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Pr)),t}});function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Lr.of(e),Br||(Br=Le.fromClass(class{constructor(e){this.view=e,this.decorations=he.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Lr)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new Ar({regexp:e.specialChars,decoration:(t,i,n)=>{let{doc:s}=i.state,o=(0,r.gm)(t[0],0);if(9==o){let e=s.lineAt(n),t=i.state.tabSize,o=(0,r.IS)(e.text,t,n-e.from);return he.replace({widget:new jr((t-o%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=he.replace({widget:new Nr(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(Lr);e.startState.facet(Lr)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let Br=null;class Nr extends le{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"\u2022":10==e?"\u2424":String.fromCharCode(9216+e)}(this.code),i=e.state.phrase("Control character")+" "+(Dr[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let n=document.createElement("span");return n.textContent=t,n.title=i,n.setAttribute("aria-label",i),n.className="cm-specialChar",n}ignoreEvent(){return!1}}class jr extends le{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Wr(){return Qr}const zr=he.line({class:"cm-activeLine"}),Qr=Le.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,i=[];for(let r of e.state.selection.ranges){let n=e.lineBlockAt(r.head);n.from>t&&(i.push(zr.range(n.from)),t=n.from)}return he.set(i)}},{decorations:e=>e.decorations});class Fr extends le{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?p(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),r=b(t[0],"rtl"!=i.direction),n=parseInt(i.lineHeight);return r.bottom-r.top>1.5*n?{left:r.left,right:r.right,top:r.top,bottom:r.top+n}:r}ignoreEvent(){return!1}}function Ur(e){return Le.fromClass(class{constructor(t){this.view=t,this.placeholder=e?he.set([he.widget({widget:new Fr(e),side:1}).range(0)]):he.none}get decorations(){return this.view.state.doc.length?he.none:this.placeholder}},{decorations:e=>e.decorations})}const qr=2e3;function Hr(e,t){let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),n=e.state.doc.lineAt(i),s=i-n.from,o=s>qr?-1:s==n.length?function(e,t){let i=e.coordsAtPos(e.viewport.from);return i?Math.round(Math.abs((i.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):(0,r.IS)(n.text,e.state.tabSize,i-n.from);return{line:n.number,col:o,off:s}}function Vr(e,t){let i=Hr(e,t),n=e.state.selection;return i?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(i.line).from),r=e.state.doc.lineAt(t);i={line:r.number,col:i.col,off:Math.min(i.off,r.length)},n=n.map(e.changes)}},get(t,s,o){let a=Hr(e,t);if(!a)return n;let l=function(e,t,i){let n=Math.min(t.line,i.line),s=Math.max(t.line,i.line),o=[];if(t.off>qr||i.off>qr||t.col<0||i.col<0){let a=Math.min(t.off,i.off),l=Math.max(t.off,i.off);for(let t=n;t<=s;t++){let i=e.doc.line(t);i.length<=l&&o.push(r.jT.range(i.from+a,i.to+l))}}else{let a=Math.min(t.col,i.col),l=Math.max(t.col,i.col);for(let t=n;t<=s;t++){let i=e.doc.line(t),n=(0,r.Gz)(i.text,a,e.tabSize,!0);if(n<0)o.push(r.jT.cursor(i.to));else{let t=(0,r.Gz)(i.text,l,e.tabSize);o.push(r.jT.range(i.from+n,i.from+t))}}}return o}(e.state,i,a);return l.length?o?r.jT.create(l.concat(n.ranges)):r.jT.create(l):n}}:null}function Yr(e){let t=(null===e||void 0===e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return Xi.mouseSelectionStyle.of(((e,i)=>t(i)?Vr(e,i):null))}const Xr={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},Zr={style:"cursor: crosshair"};function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,i]=Xr[e.key||"Alt"],r=Le.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||i(e))},keyup(e){e.keyCode!=t&&i(e)||this.set(!1)},mousemove(e){this.set(i(e))}}});return[r,Xi.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?Zr:null}))]}const $r="-10000px";class Kr{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(i)}update(e,t){var i;let r=e.state.facet(this.facet),n=r.filter((e=>e));if(r===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let s=[],o=t?[]:null;for(let a=0;a<n.length;a++){let i=n[a],r=-1;if(i){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==i.create&&(r=e)}if(r<0)s[a]=this.createTooltipView(i),o&&(o[a]=!!i.above);else{let i=s[a]=this.tooltipViews[r];o&&(o[a]=t[r]),i.update&&i.update(e)}}}for(let a of this.tooltipViews)s.indexOf(a)<0&&(a.dom.remove(),null===(i=a.destroy)||void 0===i||i.call(a));return t&&(o.forEach(((e,i)=>t[i]=e)),t.length=o.length),this.input=r,this.tooltips=n,this.tooltipViews=s,!0}}function Jr(e){let{win:t}=e;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const en=r.r$.define({combine:e=>{var t,i,r;return{position:Y.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(i=e.find((e=>e.parent)))||void 0===i?void 0:i.parent)||null,tooltipSpace:(null===(r=e.find((e=>e.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||Jr}}}),tn=new WeakMap,rn=Le.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(en);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Kr(e,on,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let i=t||e.geometryChanged,r=e.state.facet(en);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;i=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=$r,t.dom.style.left="0px",this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),null===(e=i.destroy)||void 0===e||e.call(i);this.parent&&this.container.remove(),null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect(),t=1,i=1,r=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:e}=this.manager.tooltipViews[0];if(Y.gecko)r=e.offsetParent!=this.container.ownerDocument.body;else if(1!=this.view.scaleX||1!=this.view.scaleY)r=!0;else if(e.style.top==$r&&"0px"==e.style.left){let t=e.getBoundingClientRect();r=Math.abs(t.top+1e4)>1||Math.abs(t.left)>1}}if(r||"absolute"==this.position)if(this.parent){let e=this.parent.getBoundingClientRect();e.width&&e.height&&(t=e.width/this.parent.offsetWidth,i=e.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:i}=this.view.viewState);return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((e=>{let{dom:t}=e;return t.getBoundingClientRect()})),space:this.view.state.facet(en).tooltipSpace(this.view),scaleX:t,scaleY:i,makeAbsolute:r}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let e of this.manager.tooltipViews)e.dom.style.position="absolute"}let{editor:i,space:r,scaleX:n,scaleY:s}=e,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:h}=c,u=e.pos[a],d=e.size[a];if(!u||u.bottom<=Math.max(i.top,r.top)||u.top>=Math.min(i.bottom,r.bottom)||u.right<Math.max(i.left,r.left)-.1||u.left>Math.min(i.right,r.right)+.1){h.style.top=$r;continue}let f=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,m=d.right-d.left,g=null!==(t=tn.get(c))&&void 0!==t?t:d.bottom-d.top,v=c.offset||sn,_=this.view.textDirection==Ye.LTR,b=d.width>r.right-r.left?_?r.left:r.right-d.width:_?Math.min(u.left-(f?14:0)+v.x,r.right-m):Math.max(r.left,u.left-m+(f?14:0)-v.x),y=this.above[a];!l.strictSide&&(y?u.top-(d.bottom-d.top)-v.y<r.top:u.bottom+(d.bottom-d.top)+v.y>r.bottom)&&y==r.bottom-u.bottom>u.top-r.top&&(y=this.above[a]=!y);let O=(y?u.top-r.top:r.bottom-u.bottom)-p;if(O<g&&!1!==c.resize){if(O<this.view.defaultLineHeight){h.style.top=$r;continue}tn.set(c,g),h.style.height=(g=O)/s+"px"}else h.style.height&&(h.style.height="");let w=y?u.top-g-p-v.y:u.bottom+p+v.y,S=b+m;if(!0!==c.overlap)for(let e of o)e.left<S&&e.right>b&&e.top<w+g&&e.bottom>w&&(w=y?e.top-g-2-p:e.bottom+p+2);if("absolute"==this.position?(h.style.top=(w-e.parent.top)/s+"px",h.style.left=(b-e.parent.left)/n+"px"):(h.style.top=w/s+"px",h.style.left=b/n+"px"),f){let e=u.left+(_?v.x:-v.x)-(b+14-7);f.style.left=e/n+"px"}!0!==c.overlap&&o.push({left:b,top:w,right:S,bottom:w+g}),h.classList.toggle("cm-tooltip-above",y),h.classList.toggle("cm-tooltip-below",!y),c.positioned&&c.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=$r}},{eventObservers:{scroll(){this.maybeMeasure()}}}),nn=Xi.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),sn={x:0,y:0},on=r.r$.define({enables:[rn,nn]}),an=r.r$.define();class ln{static create(e){return new ln(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Kr(e,an,(e=>this.createHostedView(e)))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)null===(e=t.destroy)||void 0===e||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let r=i[e];if(void 0!==r)if(void 0===t)t=r;else if(t!==r)return}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const cn=on.compute([an],(e=>{let t=e.facet(an).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.filter((e=>null!=e.end)).map((e=>e.end))),create:ln.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class hn{constructor(e,t,i,r,n){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=n,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let r,n=1;if(i instanceof G)r=i.posAtStart;else{if(r=e.posAtCoords(t),null==r)return;let i=e.coordsAtPos(r);if(!i||t.y<i.top||t.y>i.bottom||t.x<i.left-e.defaultCharacterWidth||t.x>i.right+e.defaultCharacterWidth)return;let s=e.bidiSpans(e.state.doc.lineAt(r)).find((e=>e.from<=r&&e.to>=r)),o=s&&s.dir==Ye.RTL?-1:1;n=t.x<i.left?-o:o}let s=this.source(e,r,n);if(null===s||void 0===s?void 0:s.then){let t=this.pending={pos:r};s.then((i=>{this.pending==t&&(this.pending=null,i&&e.dispatch({effects:this.setHover.of(i)}))}),(t=>Pe(e.state,t,"hover tooltip")))}else s&&e.dispatch({effects:this.setHover.of(s)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!un(this.lastMove.target)||this.pending){let{pos:r}=i||this.pending,n=null!==(t=null===i||void 0===i?void 0:i.end)&&void 0!==t?t:r;(r==n?this.view.posAtCoords(this.lastMove)==r:function(e,t,i,r,n,s){let o=e.scrollDOM.getBoundingClientRect(),a=e.documentTop+e.documentPadding.top+e.contentHeight;if(o.left>r||o.right<r||o.top>n||Math.min(o.bottom,a)<n)return!1;let l=e.posAtCoords({x:r,y:n},!1);return l>=t&&l<=i}(this.view,r,n,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!un(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function un(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}function dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.Py.define(),n=r.QQ.define({create:()=>null,update(e,n){if(e&&(t.hideOnChange&&(n.docChanged||n.selection)||t.hideOn&&t.hideOn(n,e)))return null;if(e&&n.docChanged){let t=n.changes.mapPos(e.pos,-1,r.gc.TrackDel);if(null==t)return null;let i=Object.assign(Object.create(null),e);i.pos=t,null!=e.end&&(i.end=n.changes.mapPos(e.end)),e=i}for(let t of n.effects)t.is(i)&&(e=t.value),t.is(pn)&&(e=null);return e},provide:e=>an.from(e)});return[n,Le.define((r=>new hn(r,e,n,i,t.hoverTime||300))),cn]}function fn(e,t){let i=e.plugin(rn);if(!i)return null;let r=i.manager.tooltips.indexOf(t);return r<0?null:i.manager.tooltipViews[r]}const pn=r.Py.define();const mn=r.r$.define({combine(e){let t,i;for(let r of e)t=t||r.topContainer,i=i||r.bottomContainer;return{topContainer:t,bottomContainer:i}}});function gn(e,t){let i=e.plugin(vn),r=i?i.specs.indexOf(t):-1;return r>-1?i.panels[r]:null}const vn=Le.fromClass(class{constructor(e){this.input=e.state.facet(yn),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(mn);this.top=new _n(e,!0,t.topContainer),this.bottom=new _n(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let i of this.panels)i.dom.classList.add("cm-panel"),i.mount&&i.mount()}update(e){let t=e.state.facet(mn);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new _n(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new _n(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=e.state.facet(yn);if(i!=this.input){let t=i.filter((e=>e)),r=[],n=[],s=[],o=[];for(let i of t){let t,a=this.specs.indexOf(i);a<0?(t=i(e.view),o.push(t)):(t=this.panels[a],t.update&&t.update(e)),r.push(t),(t.top?n:s).push(t)}this.specs=t,this.panels=r,this.top.sync(n),this.bottom.sync(s);for(let e of o)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let r of this.panels)r.update&&r.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>Xi.scrollMargins.of((t=>{let i=t.plugin(e);return i&&{top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}}))});class _n{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=bn(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=bn(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function bn(e){let t=e.nextSibling;return e.remove(),t}const yn=r.r$.define({enables:vn});class On extends r.uU{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}On.prototype.elementClass="",On.prototype.toDOM=void 0,On.prototype.mapMode=r.gc.TrackBefore,On.prototype.startSide=On.prototype.endSide=-1,On.prototype.point=!0;const wn=r.r$.define(),Sn={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>r.Xs.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},xn=r.r$.define();function kn(e){return[En(),xn.of(Object.assign(Object.assign({},Sn),e))]}const Cn=r.r$.define({combine:e=>e.some((e=>e))});function En(e){let t=[Tn];return e&&!1===e.fixed&&t.push(Cn.of(!0)),t}const Tn=Le.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(xn).map((t=>new Dn(e,t)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!e.state.facet(Cn),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,i=e.view.viewport,r=Math.min(t.to,i.to)-Math.max(t.from,i.from);this.syncGutters(r<.8*(i.to-i.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Cn)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let i=r.Xs.iter(this.view.state.facet(wn),this.view.viewport.from),n=[],s=this.gutters.map((e=>new Rn(e,this.view.viewport,-this.view.documentPadding.top)));for(let r of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(r.type)){let e=!0;for(let t of r.type)if(t.type==ce.Text&&e){Pn(i,n,t.from);for(let e of s)e.line(this.view,t,n);e=!1}else if(t.widget)for(let e of s)e.widget(this.view,t)}else if(r.type==ce.Text){Pn(i,n,r.from);for(let e of s)e.line(this.view,r,n)}else if(r.widget)for(let e of s)e.widget(this.view,r);for(let r of s)r.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(xn),i=e.state.facet(xn),n=e.docChanged||e.heightChanged||e.viewportChanged||!r.Xs.eq(e.startState.facet(wn),e.state.facet(wn),e.view.viewport.from,e.view.viewport.to);if(t==i)for(let r of this.gutters)r.update(e)&&(n=!0);else{n=!0;let r=[];for(let n of i){let i=t.indexOf(n);i<0?r.push(new Dn(this.view,n)):(this.gutters[i].update(e),r.push(this.gutters[i]))}for(let e of this.gutters)e.dom.remove(),r.indexOf(e)<0&&e.destroy();for(let e of r)this.dom.appendChild(e.dom);this.gutters=r}return n}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>Xi.scrollMargins.of((t=>{let i=t.plugin(e);return i&&0!=i.gutters.length&&i.fixed?t.textDirection==Ye.LTR?{left:i.dom.offsetWidth*t.scaleX}:{right:i.dom.offsetWidth*t.scaleX}:null}))});function An(e){return Array.isArray(e)?e:[e]}function Pn(e,t,i){for(;e.value&&e.from<=i;)e.from==i&&t.push(e.value),e.next()}class Rn{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=r.Xs.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:r}=this,n=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==r.elements.length){let t=new Mn(e,s,n,i);r.elements.push(t),r.dom.appendChild(t.dom)}else r.elements[this.i].update(e,s,n,i);this.height=t.bottom,this.i++}line(e,t,i){let r=[];Pn(this.cursor,r,t.from),i.length&&(r=r.concat(i));let n=this.gutter.config.lineMarker(e,t,r);n&&r.unshift(n);let s=this.gutter;(0!=r.length||s.config.renderEmptyElements)&&this.addElement(e,t,r)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t);i&&this.addElement(e,t,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Dn{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,(r=>{let n,s=r.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let e=s.getBoundingClientRect();n=(e.top+e.bottom)/2}else n=r.clientY;let o=e.lineBlockAtHeight(n-e.documentTop);t.domEventHandlers[i](e,o,r)&&r.preventDefault()}));this.markers=An(t.markers(e)),t.initialSpacer&&(this.spacer=new Mn(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=An(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let i=e.view.viewport;return!r.Xs.eq(this.markers,t,i.from,i.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class Mn{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].compare(t[i]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let n=0,s=0;;){let o=s,a=n<t.length?t[n++]:null,l=!1;if(a){let e=a.elementClass;e&&(i+=" "+e);for(let t=s;t<this.markers.length;t++)if(this.markers[t].compare(a)){o=t,l=!0;break}}else o=this.markers.length;for(;s<o;){let e=this.markers[s++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!a)break;a.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),l&&s++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}const Ln=r.r$.define(),In=r.r$.define({combine:e=>(0,r.BO)(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let e=i[r],n=t[r];i[r]=e?(t,i,r)=>e(t,i,r)||n(t,i,r):n}return i}})});class Bn extends On{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Nn(e,t){return e.state.facet(In).formatNumber(t,e.state)}const jn=xn.compute([In],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Ln),lineMarker:(e,t,i)=>i.some((e=>e.toDOM))?null:new Bn(Nn(e,e.state.doc.lineAt(t.from).number)),widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(In)!=e.state.facet(In),initialSpacer:e=>new Bn(Nn(e,zn(e.state.doc.lines))),updateSpacer(e,t){let i=Nn(t.view,zn(t.view.state.doc.lines));return i==e.number?e:new Bn(i)},domEventHandlers:e.facet(In).domEventHandlers})));function Wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[In.of(e),En(),jn]}function zn(e){let t=9;for(;t<e;)t=10*t+9;return t}const Qn=new class extends On{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Fn=wn.compute(["selection"],(e=>{let t=[],i=-1;for(let r of e.selection.ranges){let n=e.doc.lineAt(r.head).from;n>i&&(i=n,t.push(Qn.range(n)))}return r.Xs.of(t)}));function Un(){return Fn}},4499:(e,t,i)=>{"use strict";i.d(t,{Jq:()=>c,L3:()=>r,Lj:()=>h,_b:()=>L,hr:()=>D,i9:()=>M,md:()=>o,mp:()=>p,vj:()=>f});const r=1024;let n=0;class s{constructor(e,t){this.from=e,this.to=t}}class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=n++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=c.match(e)),t=>{let i=e(t);return void 0===i?null:[this,i]}}}o.closedBy=new o({deserialize:e=>e.split(" ")}),o.openedBy=new o({deserialize:e=>e.split(" ")}),o.group=new o({deserialize:e=>e.split(" ")}),o.contextHash=new o({perNode:!0}),o.lookAhead=new o({perNode:!0}),o.mounted=new o({perNode:!0});class a{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[o.mounted.id]}}const l=Object.create(null);class c{constructor(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):l,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new c(e.name||"",t,e.id,i);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(o.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return e=>{for(let i=e.prop(o.group),r=-1;r<(i?i.length:0);r++){let n=t[r<0?e.name:i[r]];if(n)return n}}}}c.none=new c("",Object.create(null),0,8);class h{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(){let e=[];for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];for(let n of this.types){let t=null;for(let e of i){let i=e(n);i&&(t||(t=Object.assign({},n.props)),t[i[0].id]=i[1])}e.push(t?new c(n.name,t,n.id,n.flags):n)}return new h(e)}}const u=new WeakMap,d=new WeakMap;var f;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(f||(f={}));class p{constructor(e,t,i,r,n){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,n&&n.length){this.props=Object.create(null);for(let[e,t]of n)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=a.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let e=i.toString();e&&(t&&(t+=","),t+=e)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new E(this.topNode,e)}cursorAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=u.get(this)||this.topNode,r=new E(i);return r.moveTo(e,t),u.set(this,r._tree),r}get topNode(){return new y(this,0,0,null)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=_(u.get(this)||this.topNode,e,t,!1);return u.set(this,i),i}resolveInner(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=_(d.get(this)||this.topNode,e,t,!0);return d.set(this,i),i}resolveStack(e){return function(e,t,i){let r=e.resolveInner(t,i),n=null;for(let s=r instanceof y?r:r.context.parent;s;s=s.parent)if(s.index<0){let e=s.parent;(n||(n=[r])).push(e.resolve(t,i)),s=e}else{let e=a.get(s.tree);if(e&&e.overlay&&e.overlay[0].from<=t&&e.overlay[e.overlay.length-1].to>=t){let o=new y(e.tree,e.overlay[0].from+s.from,-1,s);(n||(n=[r])).push(_(o,t,i,!1))}}return n?k(n):r}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(e){let{enter:t,leave:i,from:r=0,to:n=this.length}=e,s=e.mode||0,o=(s&f.IncludeAnonymous)>0;for(let a=this.cursor(s|f.IncludeAnonymous);;){let e=!1;if(a.from<=n&&a.to>=r&&(!o&&a.type.isAnonymous||!1!==t(a))){if(a.firstChild())continue;e=!0}for(;e&&i&&(o||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:R(c.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,i)=>new p(this.type,e,t,i,this.propValues)),e.makeTree||((e,t,i)=>new p(c.none,e,t,i)))}static build(e){return function(e){var t;let{buffer:i,nodeSet:n,maxBufferLength:s=r,reused:a=[],minRepeatType:l=n.types.length}=e,c=Array.isArray(i)?new m(i,i.length):i,h=n.types,u=0,d=0;function f(e,t,i,r,o,p){let{id:m,start:S,end:x,size:k}=c,C=d;for(;k<0;){if(c.next(),-1==k){let t=a[m];return i.push(t),void r.push(S-e)}if(-3==k)return void(u=m);if(-4==k)return void(d=m);throw new RangeError("Unrecognized record size: ".concat(k))}let E,T,A=h[m],P=S-e;if(x-S<=s&&(T=O(c.pos-t,o))){let t=new Uint16Array(T.size-T.skip),i=c.pos-T.size,r=t.length;for(;c.pos>i;)r=w(T.start,t,r);E=new g(t,x-T.start,n),P=T.start-e}else{let e=c.pos-k;c.next();let t=[],i=[],r=m>=l?m:-1,n=0,o=x;for(;c.pos>e;)r>=0&&c.id==r&&c.size>=0?(c.end<=o-s&&(b(t,i,S,n,c.end,o,r,C),n=t.length,o=c.end),c.next()):p>2500?v(S,e,t,i):f(S,e,t,i,r,p+1);if(r>=0&&n>0&&n<t.length&&b(t,i,S,n,S,o,r,C),t.reverse(),i.reverse(),r>-1&&n>0){let e=_(A);E=R(A,t,i,0,t.length,0,x-S,e,e)}else E=y(A,t,i,x-S,C-x)}i.push(E),r.push(P)}function v(e,t,i,r){let o=[],a=0,l=-1;for(;c.pos>t;){let{id:e,start:t,end:i,size:r}=c;if(r>4)c.next();else{if(l>-1&&t<l)break;l<0&&(l=i-s),o.push(e,t,i),a++,c.next()}}if(a){let t=new Uint16Array(4*a),s=o[o.length-2];for(let e=o.length-3,i=0;e>=0;e-=3)t[i++]=o[e],t[i++]=o[e+1]-s,t[i++]=o[e+2]-s,t[i++]=i;i.push(new g(t,o[2]-s,n)),r.push(s-e)}}function _(e){return(t,i,r)=>{let n,s,a=0,l=t.length-1;if(l>=0&&(n=t[l])instanceof p){if(!l&&n.type==e&&n.length==r)return n;(s=n.prop(o.lookAhead))&&(a=i[l]+n.length+s)}return y(e,t,i,r,a)}}function b(e,t,i,r,s,o,a,l){let c=[],h=[];for(;e.length>r;)c.push(e.pop()),h.push(t.pop()+i-s);e.push(y(n.types[a],c,h,o-s,l-o)),t.push(s-i)}function y(e,t,i,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;if(u){let e=[o.contextHash,u];s=s?[e].concat(s):[e]}if(n>25){let e=[o.lookAhead,n];s=s?[e].concat(s):[e]}return new p(e,t,i,r,s)}function O(e,t){let i=c.fork(),r=0,n=0,o=0,a=i.end-s,h={size:0,start:0,skip:0};e:for(let s=i.pos-e;i.pos>s;){let e=i.size;if(i.id==t&&e>=0){h.size=r,h.start=n,h.skip=o,o+=4,r+=4,i.next();continue}let c=i.pos-e;if(e<0||c<s||i.start<a)break;let u=i.id>=l?4:0,d=i.start;for(i.next();i.pos>c;){if(i.size<0){if(-3!=i.size)break e;u+=4}else i.id>=l&&(u+=4);i.next()}n=d,r+=e,o+=u}return(t<0||r==e)&&(h.size=r,h.start=n,h.skip=o),h.size>4?h:void 0}function w(e,t,i){let{id:r,start:n,end:s,size:o}=c;if(c.next(),o>=0&&r<l){let a=i;if(o>4){let r=c.pos-(o-4);for(;c.pos>r;)i=w(e,t,i)}t[--i]=a,t[--i]=s-e,t[--i]=n-e,t[--i]=r}else-3==o?u=r:-4==o&&(d=r);return i}let S=[],x=[];for(;c.pos>0;)f(e.start||0,e.bufferStart||0,S,x,-1,0);let k=null!==(t=e.length)&&void 0!==t?t:S.length?x[0]+S[0].length:0;return new p(h[e.topID],S.reverse(),x.reverse(),k)}(e)}}p.empty=new p(c.none,[],[],0);class m{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new m(this.buffer,this.index)}}class g{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return c.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],n=r.name;if(/\W/.test(n)&&!r.isError&&(n=JSON.stringify(n)),i==(e+=4))return n;let s=[];for(;e<i;)s.push(this.childString(e)),e=this.buffer[e+3];return n+"("+s.join(",")+")"}findChild(e,t,i,r,n){let{buffer:s}=this,o=-1;for(let a=e;a!=t&&!(v(n,r,s[a+1],s[a+2])&&(o=a,i>0));a=s[a+3]);return o}slice(e,t,i){let r=this.buffer,n=new Uint16Array(t-e),s=0;for(let o=e,a=0;o<t;){n[a++]=r[o++],n[a++]=r[o++]-i;let t=n[a++]=r[o++]-i;n[a++]=r[o++]-e,s=Math.max(s,t)}return new g(n,s,this.set)}}function v(e,t,i,r){switch(e){case-2:return i<t;case-1:return r>=t&&i<t;case 0:return i<t&&r>t;case 1:return i<=t&&r>t;case 2:return r>t;case 4:return!0}}function _(e,t,i,r){for(var n;e.from==e.to||(i<1?e.from>=t:e.from>t)||(i>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof y&&e.index<0?null:e.parent;if(!t)return e;e=t}let s=r?0:f.IgnoreOverlays;if(r)for(let o=e,a=o.parent;a;o=a,a=o.parent)o instanceof y&&o.index<0&&(null===(n=a.enter(t,i,s))||void 0===n?void 0:n.from)!=o.from&&(e=a);for(;;){let r=e.enter(t,i,s);if(!r)return e;e=r}}class b{cursor(){return new E(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(e){let t=O(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return t.length?t[0]:null}getChildren(e){return O(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(e){return _(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(e){return _(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(e){return w(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(i=t,t=e.prevSibling):t=e}return i}get node(){return this}get next(){return this.parent}}class y extends b{constructor(e,t,i,r){super(),this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let s=this;;){for(let{children:o,positions:l}=s._tree,c=t>0?o.length:-1;e!=c;e+=t){let c=o[e],h=l[e]+s.from;if(v(r,i,h,h+c.length))if(c instanceof g){if(n&f.ExcludeBuffers)continue;let o=c.findChild(0,c.buffer.length,t,i-h,r);if(o>-1)return new x(new S(s,c,e,h),null,o)}else if(n&f.IncludeAnonymous||!c.type.isAnonymous||T(c)){let o;if(!(n&f.IgnoreMounts)&&(o=a.get(c))&&!o.overlay)return new y(o.tree,h,e,s);let l=new y(c,h,e,s);return n&f.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(t<0?c.children.length-1:0,t,i,r)}}if(n&f.IncludeAnonymous||!s.type.isAnonymous)return null;if(e=s.index>=0?s.index+t:t<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t){let i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(r&f.IgnoreOverlays)&&(i=a.get(this._tree))&&i.overlay){let r=e-this.from;for(let{from:e,to:n}of i.overlay)if((t>0?e<=r:e<r)&&(t<0?n>=r:n>r))return new y(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function O(e,t,i,r){let n=e.cursor(),s=[];if(!n.firstChild())return s;if(null!=i)for(;!n.type.is(i);)if(!n.nextSibling())return s;for(;;){if(null!=r&&n.type.is(r))return s;if(n.type.is(t)&&s.push(n.node),!n.nextSibling())return null==r?s:[]}}function w(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1;for(let r=e.parent;i>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[i]&&t[i]!=r.name)return!1;i--}}return!0}class S{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class x extends b{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,n=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return n<0?null:new x(this.context,this,n)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&f.ExcludeBuffers)return null;let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return r<0?null:new x(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new x(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new x(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,n=i.buffer[this.index+3];if(n>r){let s=i.buffer[this.index+1];e.push(i.slice(r,n,s)),t.push(0)}return new p(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function k(e){if(!e.length)return null;let t=0,i=e[0];for(let s=1;s<e.length;s++){let r=e[s];(r.from>i.from||r.to<i.to)&&(i=r,t=s)}let r=i instanceof y&&i.index<0?null:i.parent,n=e.slice();return r?n[t]=r:n.splice(t,1),new C(n,i)}class C{constructor(e,t){this.heads=e,this.node=t}get next(){return k(this.heads)}}class E{get name(){return this.type.name}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof y)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof y?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,n=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return!(n<0)&&(this.stack.push(this.index),this.yieldBuf(n))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(i&f.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&f.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&f.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let e=i<0?0:this.stack[i]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(e)}return i<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;({index:t,_parent:i}=i))if(t>-1)for(let r=t+e,n=e<0?-1:i._tree.children.length;r!=n;r+=e){let e=i._tree.children[r];if(this.mode&f.IncludeAnonymous||e instanceof g||!e.type.isAnonymous||T(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,e)}prev(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,e)}moveTo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,n=this.stack.length;n>=0;){for(let s=e;s;s=s._parent)if(s.index==r){if(r==this.index)return s;t=s,i=n+1;break e}r=this.stack[--n]}for(let r=i;r<this.stack.length;r++)t=new x(this.buffer,t,this.stack[r]);return this.bufferNode=new x(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return w(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,n=this.stack.length-1;r>=0;n--){if(n<0)return w(this.node,e,r);let s=i[t.buffer[this.stack[n]]];if(!s.isAnonymous){if(e[r]&&e[r]!=s.name)return!1;r--}}return!0}}function T(e){return e.children.some((e=>e instanceof g||!e.type.isAnonymous||T(e)))}const A=new WeakMap;function P(e,t){if(!e.isAnonymous||t instanceof g||t.type!=e)return 1;let i=A.get(t);if(null==i){i=1;for(let r of t.children){if(r.type!=e||!(r instanceof p)){i=1;break}i+=P(e,r)}A.set(t,i)}return i}function R(e,t,i,r,n,s,o,a,l){let c=0;for(let f=r;f<n;f++)c+=P(e,t[f]);let h=Math.ceil(1.5*c/8),u=[],d=[];return function t(i,r,n,o,a){for(let c=n;c<o;){let n=c,f=r[c],p=P(e,i[c]);for(c++;c<o;c++){let t=P(e,i[c]);if(p+t>=h)break;p+=t}if(c==n+1){if(p>h){let e=i[n];t(e.children,e.positions,0,e.children.length,r[n]+a);continue}u.push(i[n])}else{let t=r[c-1]+i[c-1].length-f;u.push(R(e,i,r,n,c,f,t,null,l))}d.push(f+a-s)}}(t,i,r,n,0),(a||l)(u,d,o)}class D{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof x?this.setBuffer(e.context.buffer,e.index,t):e instanceof y&&this.map.set(e.tree,t)}get(e){return e instanceof x?this.getBuffer(e.context.buffer,e.index):e instanceof y?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class M{constructor(e,t,i,r){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(n?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[new M(0,e.length,e,0,!1,i)];for(let n of t)n.to>e.length&&r.push(n);return r}static applyChanges(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!t.length)return e;let r=[],n=1,s=e.length?e[0]:null;for(let o=0,a=0,l=0;;o++){let c=o<t.length?t[o]:null,h=c?c.fromA:1e9;if(h-a>=i)for(;s&&s.from<h;){let t=s;if(a>=t.from||h<=t.to||l){let e=Math.max(t.from,a)-l,i=Math.min(t.to,h)-l;t=e>=i?null:new M(e,i,t.tree,t.offset+l,o>0,!!c)}if(t&&r.push(t),s.to>h)break;s=n<e.length?e[n++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return r}}class L{startParse(e,t,i){return"string"==typeof e&&(e=new I(e)),i=i?i.length?i.map((e=>new s(e.from,e.to))):[new s(0,0)]:[new s(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let e=r.advance();if(e)return e}}}class I{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new o({perNode:!0})},4200:(e,t,i)=>{"use strict";i.d(t,{Gv:()=>l,QR:()=>u,bW:()=>d,pJ:()=>A});var r=i(4499);let n=0;class s{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=n++}static define(e){if(null===e||void 0===e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new s([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new a;return t=>t.modified.indexOf(e)>-1?t:a.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let o=0;class a{constructor(){this.instances=[],this.id=o++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find((i=>{return i.base==e&&(r=t,n=i.modified,r.length==n.length&&r.every(((e,t)=>e==n[t])));var r,n}));if(i)return i;let r=[],n=new s(r,e,t);for(let s of t)s.instances.push(n);let o=function(e){let t=[[]];for(let i=0;i<e.length;i++)for(let r=0,n=t.length;r<n;r++)t.push(t[r].concat(e[i]));return t.sort(((e,t)=>t.length-e.length))}(t);for(let s of e.set)if(!s.modified.length)for(let e of o)r.push(a.get(s,e));return n}}function l(e){let t=Object.create(null);for(let i in e){let r=e[i];Array.isArray(r)||(r=[r]);for(let e of i.split(" "))if(e){let i=[],n=2,s=e;for(let t=0;;){if("..."==s&&t>0&&t+3==e.length){n=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!r)throw new RangeError("Invalid path: "+e);if(i.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let o=e[t++];if(t==e.length&&"!"==o){n=0;break}if("/"!=o)throw new RangeError("Invalid path: "+e);s=e.slice(t)}let o=i.length-1,a=i[o];if(!a)throw new RangeError("Invalid path: "+e);let l=new h(r,n,o>0?i.slice(0,o):null);t[a]=l.sort(t[a])}}return c.add(t)}const c=new r.md;class h{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function u(e,t){let i=Object.create(null);for(let s of e)if(Array.isArray(s.tag))for(let e of s.tag)i[e.id]=s.class;else i[s.tag.id]=s.class;let{scope:r,all:n=null}=t||{};return{style:e=>{let t=n;for(let r of e)for(let e of r.set){let r=i[e.id];if(r){t=t?t+" "+r:r;break}}return t},scope:r}}function d(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length,s=new f(r,Array.isArray(t)?t:[t],i);s.highlightRange(e.cursor(),r,n,"",s.highlighters),s.flush(n)}h.empty=new h([],2,null);class f{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,n,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(s=this.highlighters.filter((e=>!e.scope||e.scope(o))));let u=n,d=function(e){let t=e.type.prop(c);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||h.empty,f=function(e,t){let i=null;for(let r of e){let e=r.style(t);e&&(i=i?i+" "+e:e)}return i}(s,d.tags);if(f&&(u&&(u+=" "),u+=f,1==d.mode&&(n+=(n?" ":"")+f)),this.startSpan(Math.max(t,a),u),d.opaque)return;let p=e.tree&&e.tree.prop(r.md.mounted);if(p&&p.overlay){let r=e.node.enter(p.overlay[0].from+a,1),o=this.highlighters.filter((e=>!e.scope||e.scope(p.tree.type))),c=e.firstChild();for(let h=0,d=a;;h++){let f=h<p.overlay.length?p.overlay[h]:null,m=f?f.from+a:l,g=Math.max(t,d),v=Math.min(i,m);if(g<v&&c)for(;e.from<v&&(this.highlightRange(e,g,v,n,s),this.startSpan(Math.min(v,e.to),u),!(e.to>=m)&&e.nextSibling()););if(!f||m>i)break;d=f.to+a,d>t&&(this.highlightRange(r.cursor(),Math.max(t,f.from+a),Math.min(i,d),"",o),this.startSpan(Math.min(i,d),u))}c&&e.parent()}else if(e.firstChild()){p&&(n="");do{if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,n,s),this.startSpan(Math.min(i,e.to),u)}}while(e.nextSibling());e.parent()}}}const p=s.define,m=p(),g=p(),v=p(g),_=p(g),b=p(),y=p(b),O=p(b),w=p(),S=p(w),x=p(),k=p(),C=p(),E=p(C),T=p(),A={comment:m,lineComment:p(m),blockComment:p(m),docComment:p(m),name:g,variableName:p(g),typeName:v,tagName:p(v),propertyName:_,attributeName:p(_),className:p(g),labelName:p(g),namespace:p(g),macroName:p(g),literal:b,string:y,docString:p(y),character:p(y),attributeValue:p(y),number:O,integer:p(O),float:p(O),bool:p(b),regexp:p(b),escape:p(b),color:p(b),url:p(b),keyword:x,self:p(x),null:p(x),atom:p(x),unit:p(x),modifier:p(x),operatorKeyword:p(x),controlKeyword:p(x),definitionKeyword:p(x),moduleKeyword:p(x),operator:k,derefOperator:p(k),arithmeticOperator:p(k),logicOperator:p(k),bitwiseOperator:p(k),compareOperator:p(k),updateOperator:p(k),definitionOperator:p(k),typeOperator:p(k),controlOperator:p(k),punctuation:C,separator:p(C),bracket:E,angleBracket:p(E),squareBracket:p(E),paren:p(E),brace:p(E),content:w,heading:S,heading1:p(S),heading2:p(S),heading3:p(S),heading4:p(S),heading5:p(S),heading6:p(S),contentSeparator:p(w),list:p(w),quote:p(w),emphasis:p(w),strong:p(w),link:p(w),monospace:p(w),strikethrough:p(w),inserted:p(),deleted:p(),changed:p(),invalid:p(),meta:T,documentMeta:p(T),annotation:p(T),processingInstruction:p(T),definition:s.defineModifier(),constant:s.defineModifier(),function:s.defineModifier(),standard:s.defineModifier(),local:s.defineModifier(),special:s.defineModifier()};u([{tag:A.link,class:"tok-link"},{tag:A.heading,class:"tok-heading"},{tag:A.emphasis,class:"tok-emphasis"},{tag:A.strong,class:"tok-strong"},{tag:A.keyword,class:"tok-keyword"},{tag:A.atom,class:"tok-atom"},{tag:A.bool,class:"tok-bool"},{tag:A.url,class:"tok-url"},{tag:A.labelName,class:"tok-labelName"},{tag:A.inserted,class:"tok-inserted"},{tag:A.deleted,class:"tok-deleted"},{tag:A.literal,class:"tok-literal"},{tag:A.string,class:"tok-string"},{tag:A.number,class:"tok-number"},{tag:[A.regexp,A.escape,A.special(A.string)],class:"tok-string2"},{tag:A.variableName,class:"tok-variableName"},{tag:A.local(A.variableName),class:"tok-variableName tok-local"},{tag:A.definition(A.variableName),class:"tok-variableName tok-definition"},{tag:A.special(A.variableName),class:"tok-variableName2"},{tag:A.definition(A.propertyName),class:"tok-propertyName tok-definition"},{tag:A.typeName,class:"tok-typeName"},{tag:A.namespace,class:"tok-namespace"},{tag:A.className,class:"tok-className"},{tag:A.macroName,class:"tok-macroName"},{tag:A.propertyName,class:"tok-propertyName"},{tag:A.operator,class:"tok-operator"},{tag:A.comment,class:"tok-comment"},{tag:A.meta,class:"tok-meta"},{tag:A.invalid,class:"tok-invalid"},{tag:A.punctuation,class:"tok-punctuation"}])},5745:(e,t,i)=>{"use strict";i.d(t,{V:()=>o});const r="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),n="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class o{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function n(e,t,s,o){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return s.push(e[0]+";");for(let i in t){let o=t[i];if(/&/.test(i))n(i.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),o,s);else if(o&&"object"==typeof o){if(!l)throw new RangeError("The value of a property ("+i+") should be a primitive value.");n(r(i),o,a,c)}else null!=o&&a.push(i.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+o+";")}(a.length||c)&&s.push((!i||l||o?e:e.map(i)).join(", ")+" {"+a.join(" ")+"}")}for(let s in e)n(r(s),e[s],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=s[r]||1;return s[r]=e+1,"\u037c"+e.toString(36)}static mount(e,t,i){let r=e[n],s=i&&i.nonce;r?s&&r.setNonce(s):r=new l(e,s),r.mount(Array.isArray(t)?t:[t])}}let a=new Map;class l{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let t=a.get(i);if(t)return e.adoptedStyleSheets=[t.sheet,...e.adoptedStyleSheets],e[n]=t;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],a.set(i,this)}else{this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let r=e.head||e;r.insertBefore(this.styleTag,r.firstChild)}this.modules=[],e[n]=this}mount(e){let t=this.sheet,i=0,r=0;for(let n=0;n<e.length;n++){let s=e[n],o=this.modules.indexOf(s);if(o<r&&o>-1&&(this.modules.splice(o,1),r--,o=-1),-1==o){if(this.modules.splice(r++,0,s),t)for(let e=0;e<s.rules.length;e++)t.insertRule(s.rules[e],i++)}else{for(;r<o;)i+=this.modules[r++].rules.length;i+=s.rules.length,r++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}},2722:e=>{"use strict";e.exports={}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,i)=>(__webpack_require__.f[i](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+"."+{230:"4ead1f72",532:"fdfc0d70",787:"72831f36"}[e]+".chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="micropython:";__webpack_require__.l=(i,r,n,s)=>{if(e[i])e[i].push(r);else{var o,a;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+n){o=h;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",t+n),o.src=i),e[i]=[r];var u=(t,r)=>{o.onerror=o.onload=null,clearTimeout(d);var n=e[i];if(delete e[i],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(r))),t)return t(r)},d=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),a&&document.head.appendChild(o)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/",(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={179:0};__webpack_require__.f.j=(t,i)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var n=new Promise(((i,n)=>r=e[t]=[i,n]));i.push(r[2]=n);var s=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(s,(i=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var n=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",o.name="ChunkLoadError",o.type=n,o.request=s,r[1](o)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,n,s=i[0],o=i[1],a=i[2],l=0;if(s.some((t=>0!==e[t]))){for(r in o)__webpack_require__.o(o,r)&&(__webpack_require__.m[r]=o[r]);if(a)a(__webpack_require__)}for(t&&t(i);l<s.length;l++)n=s[l],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0},i=self.webpackChunkmicropython=self.webpackChunkmicropython||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(2791),t=__webpack_require__(1250),i=__webpack_require__(168),r=__webpack_require__(8924),n=__webpack_require__(5725),s=__webpack_require__(8595),o=__webpack_require__(1950),a=__webpack_require__(184);(0,e.createContext)({packages:{},timeout:0,lazy:!1,terminateOnCompletion:!1,sendInput:function(e,t){},workerAwaitingInputIds:[],getPrompt:function(e){}});var l;!function(e){e[e.complete=0]="complete",e[e.incomplete=1]="incomplete",e[e["syntax-error"]=2]="syntax-error"}(l||(l={}));var c,h,u,d,f,p,m,g=__webpack_require__(2978),v=__webpack_require__(6695);const _=g.zo.button(c||(c=(0,i.Z)(["\n  background-color: transparent;\n  border: none;\n  outline: none;\n  width: 4.5vh;\n  cursor: pointer;\n  z-index: 4;\n"]))),b=g.zo.div(h||(h=(0,i.Z)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: 3;\n  transform: translateX(100%);\n  transition: transform 0.4s ease-in-out;\n"]))),y=g.zo.div(u||(u=(0,i.Z)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  width: 35%;\n  height: 100vh;\n  background-color: black;\n  z-index: 2;\n  opacity: 0;\n  transition: opacity 0.4s ease-out;\n  box-shadow: 0px 0px 10px rgb(78 76 76 / 91%);\n  padding: 1rem 0rem  1rem 1.5rem;\n"]))),O=(g.zo.textarea(d||(d=(0,i.Z)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  /* top: 2vh; */\n  color: white;\n  font-size: 1.1rem;\n  font: \"Halcyon Regular\";\n  background-color: transparent;\n  border: none;\n  font-family: 'Source Code Pro', monospace;\n  padding-bottom: 2rem;\n  outline: none;\n  /* border: 2px solid red; */\n  /* text-transform: capitalize; */\n"]))),g.zo.div(f||(f=(0,i.Z)(["\n  background-color: transparent;\n  border: none;\n  outline: none;\n  width: 4.5vh;\n  cursor: pointer;\n  position: relative;\n  top: 40vh;\n  right: 6.8vh;\n"])))),w=(g.zo.div(p||(p=(0,i.Z)(["\n  display: flex;\n  margin-bottom: 0.6vh;\n  margin-left: 1rem;\n  div {\n    width: 7vh;\n  }\n"]))),g.zo.div(m||(m=(0,i.Z)(["\n  // position: absolute;\n  // right: 7vh;\n  // top: 12vh;\n  color: white;\n  z-index: 1000;\n  border-radius: 12px;\n  font-size: 1rem;\n  //  box-shadow: 0px 0px 10px rgb(78 76 76 / 91%);\n  // cursor: pointer;\n  display: flex;\n  justify-content: right;\n  align-items: center;\n  // margin-top: -4vh ;\n  font-family: 'Halcyon Regular';\n"]))));__webpack_require__(2989),__webpack_require__(2699);let S="";const x=function(){const t=(0,e.useRef)(),{messages:i,setMessages:r,isOverlayVisible:n,worker:s,refreshByte:o,setRefreshByte:l,device:c,isProjectRun:h,isNewUi:u,usb:d}=(0,e.useContext)(v.Z);JSON.parse(sessionStorage.getItem("zingEditar"));const f=()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)};return(0,e.useEffect)((()=>{const e=async e=>{if("read"===e.data.type){let t=e.data.value;S+=t,r(S),f(),S.length>2e4&&(S=S.slice(1e3))}};return s.addEventListener("message",e),()=>{s.removeEventListener("message",e)}}),[d]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(w,{children:[(0,a.jsx)("p",{style:{cursor:"pointer",border:"1px solid rgb(78 76 76 / 91%)",padding:".5rem",borderRadius:"12px"},onClick:()=>{r(""),localStorage.removeItem("consoleText"),S=""},children:"clear console"}),(0,a.jsx)("p",{style:{cursor:"pointer",border:"1px solid rgb(78 76 76 / 91%)",padding:".5rem",borderRadius:"12px",marginLeft:"4vh"},onClick:()=>{u?s.postMessage({type:"writeArray",value:[3]}):s.postMessage({type:"write",value:"MPX"});let e=localStorage.getItem("consoleText");e&&r((t=>e+t)),localStorage.removeItem("consoleText")},children:"stop program"})]}),(0,a.jsx)("textarea",{spellCheck:"false",ref:t,value:i,className:"response"})]})},k=()=>{const{isOverlayVisible:t,handleOverLay:i,messages:r,clearConsole:n}=(0,e.useContext)(v.Z);return(0,a.jsxs)(a.Fragment,{children:[!t&&(0,a.jsx)(_,{onClick:i,children:(0,a.jsx)("img",{style:{width:"100%",transform:"rotate(180deg)"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAABQCAYAAAAOYsW+AAAABHNCSVQICAgIfAhkiAAAA4ZJREFUaEPdmstPE0EYwL/Z7WIQAYXucvAVEjQcjJSWxMdfgOHgwWj0YOLFxJMRtC014iPRRLhx9KLhYCKJGDGR4Ak4KDFBSIyYaPRghALFSKjQFigdv2m7RpG+Zrcz0elhmza7v/me8+18Q7rG5iJAIARAQpTilX0nMKsQ5bW30dkPRRqk602IZno2/rEEFAaBkKcJTRsIHNy+YNc8soI3gQxSQjr8bn3M6gQKBTMexc9j1UGuXXbpH3knwANOstAf4oTQ+5Qot1ADwUInwA3+BaIQpgo5i/BnhcCtg1M0VAB0+D3GnXzhdoFTdKAPNcM437abRHNNwFZwWvSJEiAtrU36TDa47WATHq3Wj96sJbFM8KKA07Ben8c4LQPMjB7wNRl3N4MXU2LkQoIAtKDkgxvhRQWn7E3nSisd+y/uqw7/Di86OO1snf4mo10CmMYUbeteb0M5Lr+pIUTidHK75/PUXBAPprBONIfL21D1TrDELLrgBebzZglgulpa4dCZhwu0ccq6CULOtLv1R8LBuH72YGidEw8GCKKddwoHp9Zt9YgkMGmVA6bQKQvcIwWMZh6RAsaQ+iALvCgFLDxXF1QIbFGxasKxsp7xbTZTIZn195yq3lXmgOO15TA0HYH3CytcEK4qk4FP1VUk751ajsOrmUjyanXkJbEJNmGT31dgdC4K4dUEN58LbNp8/FsMxudjXPbnBpuiLqLUw9PL8Dm8VpD0lsEmjdl9GB0wFM3P/raBf7f/cDCSU/3/Pvjr0hqMBKPiVM1Cakikc7EUykKJxTPP4LKx8ATC7Dg6GxWXMpv3bEuqlElq18ipamnLol0SbnxOTon/KzBWmXKKPWnlrbSCHsG9spyrWw4Y9zjlgAGOiQdjD6MSdKd4MDoW28cWDpay3YTNklUoU5z+ev2HUImlbSkmVPVAu6t6UvT78R/NESGqxvZATFVK6q+4d3wxl1khYIR1YwhdKmhHwHIhgAkjrpTWXXWXzwsFYwid8HtqnggtfXDB/6v7IsLGfV63fpJgd5trD4TPxvRtpMo4JLSpieqd0hzK4TaXczrbpG0NJxmNa4qHVq773MbtfE1jXWLRhxPYcQwg9EEJVW7kasvb5dWYeqEPG8OBgMf4lK9qLSUQtp4mVAS6jAleYF4JxDxkhCed+uOa47m9h4w2OVaFG8UzoMBLX6MxYFWyTPf/BJKjZzNNquk7AAAAAElFTkSuQmCC"})}),t&&(0,a.jsxs)(y,{style:{opacity:"".concat(t?1:0)},children:[(0,a.jsx)(O,{onClick:i,children:(0,a.jsx)("img",{style:{width:"100%",transform:"rotate(180deg)"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAABQCAYAAAAOYsW+AAAABHNCSVQICAgIfAhkiAAAA31JREFUaEPdmktIVFEYgP9zH6OjqaVzr6VJRA+EIsc7Qukm2xUuI6hF0CZoFWnNjBPZAwrSncs2hYsgIyODxJYtWgSGELUohAhMUxeRlpqMc/pPM6PTbV7OnAd1ZjED8/jO//7n/If0jc0sAoFZADJLKT6z1wS+aER7FWz2DYOgRfpez9JMv41vfAcKo0DIk5hpjkQObP7Kax9ZwWkgo5SQnrBjjRW7gY2CGY/i45FukCsX/daHQjdQCPg3C/0hSgi9S4l2AzUwtdENFAxeA1GYpxo5jfCnG4EXD47TUAHQEw7Yt/KF8wLH6UDvm7Z9tquBLOXaAFdwQvRxD5COzhZrOhucOzgJX6qx2q7vJMuZ4ELACdhgKGCfVAFmRo+EWuzb6eAiJUYuxAhAB0o+6oYLBcftTWe8Vcbe83tq5lPhwsEJZ+sNt9jdCsB0WTPLdgSbKrD8xpcUiRPJ7U4oUHtOPpjCKjENf7Cp+q1kiVl0wXPM50cVgOmKt9KwmIdLtHHcujFCTnU71gPpYKyfAxhaZ+SDAabQzvXSwfG6rbcqApNONWAKvarAA0rAaOYXSsAYUu9Vgb8pAUvP1cIagRIdOyxcP1cz/vNdY3NT9b7qEmivK4Phjwsw+SOaqavlB95ebkDbtjJgz2w9nJgXC670aNBa6wUmaeoSBmZ2dKxScHylkLSpcPCuShPa68uhCqXNtLhKbHsNBK7bMZvncAEzVTJPddvx/wUnJWOqPlznhYZNZs745KJqN4U51xF0LhZKUpzLDWHxy0JKWjilbkB6AnFLz1Jl69Z1+wuxcTbPkl4kUjejpCzmjDPXB7jV438CjF2mmmZPWXurrKFH8KAq5+pXA8YzTjVggGPywTjDqALLJx+MjsXOsaWDlRw34bBkBco1X7jRWpAqsbIjxZiu7+/217xjBUWmxH8MR6SAcTywrGuexkvOlk/J8ikFjLB+DKELqTVbPBgTRlTz7r7sVMxJBWMIHQ8Hah+7OxShEmPB/2v6IsPGQ0HHOkFwup2uHxMkMX2zWG0flDrURPVOmoZ2qMvv+5yt8+QqsYrBNcVLK1dDjn0z3/66eIllX05g1zGA0Hseql3LNZbn5dWYemEIB8ORSMCeyFe1RSUQVk9jOgL99nihwLwSSPKSEd50Go6axjO+l4zSXKvCw99p0OBlqNkeKVayTN//BZL0QDNgO8J8AAAAAElFTkSuQmCC"})}),(0,a.jsx)(x,{})]}),t&&(0,a.jsx)(b,{})]})};var C=__webpack_require__(6690),E=__webpack_require__(2651);const T=function(){const{setCode:t,worker:i,sidebar_filesName:r,setSidebar_FilesName:n,setSubHeader_filesName:s,subHeader_filesName:o,workSpaceFile:l,setWorkSpaceFile:c,setIsChange:h}=(0,e.useContext)(v.Z),[u,d]=(0,e.useState)(!1),[f,p]=(0,e.useState)(""),[m,g]=(0,e.useState)(!1),[_,b]=(0,e.useState)(""),[y,O]=(0,e.useState)(!1),[w,S]=(0,e.useState)(""),[x,k]=(0,e.useState)(""),[T,A]=(0,e.useState)(""),P=(JSON.parse(sessionStorage.getItem("zingEditar")),(0,e.useRef)()),R=(0,e.useRef)(),D=(0,e.useRef)(null),M=(0,e.useRef)(null);return(0,e.useEffect)((()=>{const e=e=>{D.current&&!D.current.contains(e.target)&&M.current&&!M.current.contains(e.target)&&S("")};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]),(0,a.jsxs)("div",{className:"create-file-container",children:[(0,a.jsxs)("div",{className:"program-name",onClick:e=>(d(!u),void(P.current&&(P.current.scrollTop=0))),children:[(0,a.jsx)("p",{children:"Create File"}),(0,a.jsx)("img",{src:(0,C.Z)("addButton")})]}),(0,a.jsxs)("div",{className:"files-container",ref:P,children:[m&&(0,a.jsx)("div",{className:"newFilenameError",children:_}),(0,a.jsx)("div",{className:"input_fileName",style:u?{display:"flex"}:{display:"none"},children:(0,a.jsx)("form",{onSubmit:e=>(e=>{if(e.preventDefault(),!f.trim())return b("A file name must be provided!"),g(!0),void setTimeout((()=>g(!1)),600);if(f.trim().length>20)return b("File name can contain only 20 characters!"),g(!0),void setTimeout((()=>g(!1)),600);let t=f.trim();if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t))t+=".py";else if(!/^[a-zA-Z_][a-zA-Z0-9_]*(\.py)?$/.test(t))return b("This is not a valid python file name!"),g(!0),void setTimeout((()=>g(!1)),600);let i=!1;if(Object.keys(r).map((e=>{e===t&&(i=!0)})),i)return b("This file name already exists!"),g(!0),void setTimeout((()=>g(!1)),600);h(!0);let a={...r};a[t]={filename:t,code:""},n(a),c({filename:t,code:""}),s([...o,t]),p(""),d(!1)})(e),style:{width:"99.8%"},children:(0,a.jsx)("input",{className:y?"input_error_class":"input_text_class",spellCheck:"false",ref:R,value:f,onChange:e=>(e=>{let t=e.target.value;/^[a-zA-Z_][a-zA-Z0-9_]*(\.(p|py)(,py)?)?$/.test(t)?O(!1):O(!0),p(e.target.value)})(e)})})}),Object.keys(r).map(((t,u)=>(0,a.jsx)(e.Fragment,{children:x===t?(0,a.jsx)("form",{onSubmit:e=>((e,t)=>{if(e.preventDefault(),T.trim()===t)return A(""),k(""),void S("");if(!T.trim())return b("A file name must be provided!"),g(!0),void setTimeout((()=>g(!1)),600);if(T.trim().length>20)return b("File name can contain only 20 characters!"),g(!0),void setTimeout((()=>g(!1)),600);let i=!1;if(Object.keys(r).map((e=>{e===T.trim()&&(i=!0)})),i)return b("This file name already exists!"),g(!0),void setTimeout((()=>g(!1)),600);let a=T.trim();if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(a))a+=".py";else if(!/^[a-zA-Z_][a-zA-Z0-9_]*(\.py)?$/.test(a))return b("This is not a valid python file name!"),g(!0),void setTimeout((()=>g(!1)),600);let u=Object.entries(r).reduce(((e,i)=>{let[r,n]=i;return r===t?e[a]=n:e[r]=n,e}),{});if(h(!0),u[a].filename=a,n(u),o.includes(t)){let e=o.map((e=>e===t?a:e));l.filename==t&&c({...l,filename:a}),s(e)}A(""),k(""),S("")})(e,t),style:{width:"99.8%",borderBottom:"1px solid rgba(59, 59, 59, 0.5)"},children:(0,a.jsx)("input",{className:y?"input_error_class":"input_text_class",spellCheck:"false",value:T,onChange:e=>A(e.target.value)})}):(0,a.jsxs)("div",{onClick:e=>(e=>{let t=!1;o.map((i=>{i===e.filename&&(t=!0)})),c(e),t||s([...o,e.filename])})(r[t]),className:"each-file",children:[(0,a.jsx)("p",{children:t}),(0,a.jsxs)("div",{className:"fileMenuDiv",children:[(0,a.jsx)("img",{className:"cross_button",onClick:e=>{e.stopPropagation(),((e,t)=>{S(t===w?"":t)})(0,t)},style:{},src:(0,C.Z)("threeDonMenu"),ref:M}),(0,a.jsx)("div",{className:"fileMenu_toolTip",children:"Menu"}),(0,a.jsx)("div",{ref:D,className:"fileMenu_icons ".concat(w==t?"fileMenu_icons_show":""," ").concat("main.py"===t?"mainFile_meuDiv":""),children:(0,a.jsxs)("div",{className:"fileMenu_icons_inner ",children:[(0,a.jsx)("p",{className:"each_file_menuP",onClick:e=>{e.stopPropagation(),((e,t)=>{const i=r[t].code,n=new Blob([i],{type:"text/plain"});(0,E.saveAs)(n,t),S("")})(0,t)},children:"Save"}),"main.py"!==t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"each_file_menuP",onClick:e=>{e.stopPropagation(),((e,t)=>{t===x?k(""):(k(t),A(t))})(0,t)},children:"Rename"}),(0,a.jsxs)("p",{className:"each_file_menuP",onClick:e=>{e.stopPropagation(),((e,t)=>{let a={...r},l=[...o],u=l.length;h(!0),delete a[t],n(a),l.map(((e,i)=>{e===t&&(l.splice(i,1),c(1===u?{}:i+1<u?r[l[i]]:r[l[i-1]]),s(l))}));let d=[...'try:\n    import os\nexcept ImportError:\n    import uos as os\nos.remove("'.concat(t,'")')].map((e=>e.charCodeAt(0)));i.postMessage({type:"ignoreConsolePrint",value:[3,1,...d,4,2]})})(0,t)},children:["Delete"," "]})]}),(0,a.jsx)("div",{className:"menu_arrow ".concat("main.py"===t?"mainFile_menu_arrow":"")})]})})]})]})},u)))]})]})};const A=function(){const{isOverlayVisible:t,sidebar_filesName:i,subHeader_filesName:r,setSubHeader_filesName:n,workSpaceFile:s,setWorkSpaceFile:o}=(0,e.useContext)(v.Z),l=(0,e.useRef)();return(0,a.jsx)("div",{className:"sub-header-container",style:{width:t?"50%":"100%"},ref:l,onWheel:e=>function(e){e.preventDefault();var t=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.target.scrollLeft-=100*t}(e),children:r.map(((e,t)=>(0,a.jsxs)("div",{onClick:t=>(e=>{o(i[e])})(e),style:{overflow:"hidden",backgroundColor:s.filename===e&&"#8ACDEA",color:s.filename===e&&"white"},className:"sub-header-file-container",children:[(0,a.jsx)("p",{children:e}),(0,a.jsx)("img",{className:"cross_button",onClick:t=>{t.stopPropagation(),((e,t)=>{let s=[...r],a=s.length;s.map(((e,r)=>{e===t&&(s.splice(r,1),o(1===a?{}:r+1<a?i[s[r]]:i[s[r-1]]),n(s))}))})(0,e)},style:{marginLeft:"10%"},src:(0,C.Z)("crossButton")})]},t)))})};var P,R,D,M;__webpack_require__(946);const L=new URLSearchParams(window.location.search),I=["peeCee","zing","crawlee","klaw","moki"].includes(L.get("device"))?L.get("device"):"peeCee",B=["peeCee","zing","crawlee","klaw","moki"].includes(I),N=g.zo.div(P||(P=(0,i.Z)(["\n  width: 100%;\n  height: 100vh;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-template-rows: 11vh 76vh 13vh;\n  /* z-index: 1; */\n"]))),j=g.zo.div(R||(R=(0,i.Z)(["\n  /* Adjust this value to fit your needs */\n  padding-top: 5px;\n  z-index: 1;\n  display: flex;\n  position: fixed;\n  top: ",";\n  left: ",";\n  width: 100%;\n  height: 70vh;\n"])),B?"17.5vh":"10.5vh",B?"15%":"0"),W=g.zo.div(D||(D=(0,i.Z)(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  background-color: white;\n  z-index: 1;\n  overflow: hidden;\n  padding-bottom: 1%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 2rem;\n  // transition: width 0.2s ease-in-out;\n  // transition: width 0.4s ease-in-out;\n"]))),z=g.zo.div(M||(M=(0,i.Z)(["\n  width: 5%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  // transition: border-right 0.4s ease-in-out;\n  // transition: width 0.4s ease-in-out;\n"]))),Q=JSON.parse(sessionStorage.getItem("code"))||"";const F=function(t){let i={};try{i=JSON.parse(sessionStorage.getItem("zingEditar"))||{subHeader_filesName:[],sidebar_filesName:{"main.py":{code:"",filename:"main.py"}},workSpaceFile:{},currentConsoleText:"",projectName:"Untitled"}}catch($){console.log("ERROR",$)}const[l,c]=(0,e.useState)(Q),[h,u]=(0,e.useState)(!1),[d,f]=(0,e.useState)(null),[p,m]=(0,e.useState)(JSON.parse(sessionStorage.getItem("refreshByte"))||!1),[g,_]=(0,e.useState)(t.worker),[b,y]=(0,e.useState)(!1),[O,w]=(0,e.useState)(""),[S,x]=(0,e.useState)(!1),[C,E]=(0,e.useState)(""),[P,R]=(0,e.useState)(!0),D=(0,e.useRef)(),[M,L]=(0,e.useState)(!1),[I,F]=(0,e.useState)(!1),[U,q]=(0,e.useState)(i.projectName),[H,V]=(0,e.useState)(i.sidebar_filesName),[Y,X]=(0,e.useState)(i.subHeader_filesName),[Z,G]=(0,e.useState)(i.workSpaceFile);return(0,e.useEffect)((()=>{i={...i,sidebar_filesName:H,subHeader_filesName:Y,workSpaceFile:Z,projectName:U},sessionStorage.setItem("zingEditar",JSON.stringify(i))}),[H,Y,Z,U]),(0,e.useEffect)((()=>sessionStorage.setItem("refreshByte",JSON.stringify(p))),[p]),(0,e.useEffect)((()=>{sessionStorage.setItem("code",JSON.stringify(l))}),[l]),(0,e.useEffect)((()=>{b?w(i.currentConsoleText):""!==O?(i={...i,currentConsoleText:O},sessionStorage.setItem("zingEditar",JSON.stringify(i))):w(i.currentConsoleText)}),[b]),window.onbeforeunload=function(e){B&&(i={...i,currentConsoleText:O},sessionStorage.setItem("zingEditar",JSON.stringify(i)))},(0,a.jsx)(v.Z.Provider,{value:{code:l,setCode:c,usb:h,setUsb:u,refreshByte:p,setRefreshByte:m,worker:g,isOverlayVisible:b,setIsOverlayVisible:y,handleOverLay:()=>{y(!b)},messages:O,setMessages:w,clearConsole:()=>{w("")},device:d,setDevice:f,consoleRef:D,feedback:C,setFeedback:E,isDisabled:S,setIsDisabled:x,sidebar_filesName:H,setSidebar_FilesName:V,subHeader_filesName:Y,setSubHeader_filesName:X,workSpaceFile:Z,setWorkSpaceFile:G,isProjectRun:P,setIsProjectRun:R,isLodarShow:M,setIsLodarShow:L,projectName:U,setProjectName:q,isNewUi:B,isChange:I,setIsChange:F},children:(0,a.jsxs)(N,{children:[(0,a.jsx)(r.Z,{}),B&&(0,a.jsx)(A,{}),B&&(0,a.jsx)(T,{}),(0,a.jsxs)(j,{children:[B?Z.filename?(0,a.jsx)(s.ZP,{value:B?Z.code:l,height:"67vh",lint:!1,gutters:[],extensions:[(0,o.Vs)({py:!0})],onChange:e=>{let t={...H};Object.keys(t).map((i=>{i===Z.filename&&(t[i].code=e)})),F(!0),V(t),G({...Z,code:e})},style:{width:"".concat(b?"65%":"80%"),transition:"width 0.2s ease-in-out",fontSize:"18px"}}):(0,a.jsx)("div",{style:{height:"69vh",width:"".concat(b?"65%":"80%")}}):(0,a.jsx)(s.ZP,{value:l,height:"69vh",lint:!1,gutters:[],extensions:[(0,o.Vs)({py:!0})],onChange:e=>{c(e)},style:{width:"".concat(b?"65%":"95%"),transition:"width 0.2s ease-in-out",fontSize:"18px"}}),(0,a.jsx)(z,{children:(0,a.jsx)(k,{})})]}),(0,a.jsx)(W,{style:{width:"".concat(b?"65%":"100%")},children:(0,a.jsx)(n.Z,{})})]})})},U=e=>{e&&e instanceof Function&&__webpack_require__.e(787).then(__webpack_require__.bind(__webpack_require__,787)).then((t=>{let{getCLS:i,getFID:r,getFCP:n,getLCP:s,getTTFB:o}=t;i(e),r(e),n(e),s(e),o(e)}))},q=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Worker("/SerialWorker.js",{type:"module"})}();t.createRoot(document.getElementById("root")).render((0,a.jsx)(e.StrictMode,{children:(0,a.jsx)(F,{worker:q})})),U()})()})();
//# sourceMappingURL=main.5edf1f02.js.map